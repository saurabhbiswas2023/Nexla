function $p(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bp={exports:{}},Qs={},Vp={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=Symbol.for("react.element"),Ev=Symbol.for("react.portal"),Cv=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),kv=Symbol.for("react.profiler"),Nv=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Pv=Symbol.for("react.memo"),Tv=Symbol.for("react.lazy"),of=Symbol.iterator;function Ov(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var Hp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Up=Object.assign,Wp={};function Io(e,t,n){this.props=e,this.context=t,this.refs=Wp,this.updater=n||Hp}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yp(){}Yp.prototype=Io.prototype;function Ac(e,t,n){this.props=e,this.context=t,this.refs=Wp,this.updater=n||Hp}var jc=Ac.prototype=new Yp;jc.constructor=Ac;Up(jc,Io.prototype);jc.isPureReactComponent=!0;var af=Array.isArray,Kp=Object.prototype.hasOwnProperty,zc={current:null},Xp={key:!0,ref:!0,__self:!0,__source:!0};function Gp(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Kp.call(t,r)&&!Xp.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Qi,type:e,key:i,ref:a,props:o,_owner:zc.current}}function Rv(e,t){return{$$typeof:Qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qi}function Lv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sf=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lv(""+e.key):t.toString(36)}function Ka(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qi:case Ev:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Il(a,0):r,af(o)?(n="",e!=null&&(n=e.replace(sf,"$&/")+"/"),Ka(o,t,n,"",function(u){return u})):o!=null&&(Fc(o)&&(o=Rv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(sf,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",af(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Il(i,s);a+=Ka(i,t,n,l,o)}else if(l=Ov(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Il(i,s++),a+=Ka(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function va(e,t,n){if(e==null)return e;var r=[],o=0;return Ka(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Iv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Xa={transition:null},Av={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Xa,ReactCurrentOwner:zc};function Qp(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:va,forEach:function(e,t,n){va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return va(e,function(){t++}),t},toArray:function(e){return va(e,function(t){return t})||[]},only:function(e){if(!Fc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Io;me.Fragment=Cv;me.Profiler=kv;me.PureComponent=Ac;me.StrictMode=_v;me.Suspense=Dv;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;me.act=Qp;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Up({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=zc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Kp.call(t,l)&&!Xp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Qi,type:e.type,key:o,ref:i,props:r,_owner:a}};me.createContext=function(e){return e={$$typeof:Mv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nv,_context:e},e.Consumer=e};me.createElement=Gp;me.createFactory=function(e){var t=Gp.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:bv,render:e}};me.isValidElement=Fc;me.lazy=function(e){return{$$typeof:Tv,_payload:{_status:-1,_result:e},_init:Iv}};me.memo=function(e,t){return{$$typeof:Pv,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Xa.transition;Xa.transition={};try{e()}finally{Xa.transition=t}};me.unstable_act=Qp;me.useCallback=function(e,t){return it.current.useCallback(e,t)};me.useContext=function(e){return it.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return it.current.useDeferredValue(e)};me.useEffect=function(e,t){return it.current.useEffect(e,t)};me.useId=function(){return it.current.useId()};me.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return it.current.useMemo(e,t)};me.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};me.useRef=function(e){return it.current.useRef(e)};me.useState=function(e){return it.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return it.current.useTransition()};me.version="18.3.1";Vp.exports=me;var k=Vp.exports;const Zs=Ic(k),jv=$p({__proto__:null,default:Zs},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=k,Fv=Symbol.for("react.element"),$v=Symbol.for("react.fragment"),Bv=Object.prototype.hasOwnProperty,Vv=zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hv={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Bv.call(t,r)&&!Hv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Fv,type:e,key:i,ref:a,props:o,_owner:Vv.current}}Qs.Fragment=$v;Qs.jsx=Zp;Qs.jsxs=Zp;Bp.exports=Qs;var E=Bp.exports,Jp={exports:{}},St={},qp={exports:{}},em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,b){var A=D.length;D.push(b);e:for(;0<A;){var F=A-1>>>1,U=D[F];if(0<o(U,b))D[F]=b,D[A]=U,A=F;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var b=D[0],A=D.pop();if(A!==b){D[0]=A;e:for(var F=0,U=D.length,K=U>>>1;F<K;){var X=2*(F+1)-1,q=D[X],re=X+1,Q=D[re];if(0>o(q,A))re<U&&0>o(Q,q)?(D[F]=Q,D[re]=A,F=re):(D[F]=q,D[X]=A,F=X);else if(re<U&&0>o(Q,A))D[F]=Q,D[re]=A,F=re;else break e}}return b}function o(D,b){var A=D.sortIndex-b.sortIndex;return A!==0?A:D.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(D){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=D)r(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=n(u)}}function w(D){if(y=!1,p(D),!v)if(n(l)!==null)v=!0,O(_);else{var b=n(u);b!==null&&R(w,b.startTime-D)}}function _(D,b){v=!1,y&&(y=!1,m(M),M=-1),h=!0;var A=d;try{for(p(b),f=n(l);f!==null&&(!(f.expirationTime>b)||D&&!H());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var U=F(f.expirationTime<=b);b=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),p(b)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var X=n(u);X!==null&&R(w,X.startTime-b),K=!1}return K}finally{f=null,d=A,h=!1}}var N=!1,S=null,M=-1,L=5,I=-1;function H(){return!(e.unstable_now()-I<L)}function z(){if(S!==null){var D=e.unstable_now();I=D;var b=!0;try{b=S(!0,D)}finally{b?B():(N=!1,S=null)}}else N=!1}var B;if(typeof g=="function")B=function(){g(z)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,T=C.port2;C.port1.onmessage=z,B=function(){T.postMessage(null)}}else B=function(){x(z,0)};function O(D){S=D,N||(N=!0,B())}function R(D,b){M=x(function(){D(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,O(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var A=d;d=b;try{return D()}finally{d=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,b){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var A=d;d=D;try{return b()}finally{d=A}},e.unstable_scheduleCallback=function(D,b,A){var F=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,D={id:c++,callback:b,priorityLevel:D,startTime:A,expirationTime:U,sortIndex:-1},A>F?(D.sortIndex=A,t(u,D),n(l)===null&&D===n(u)&&(y?(m(M),M=-1):y=!0,R(w,A-F))):(D.sortIndex=U,t(l,D),v||h||(v=!0,O(_))),D},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(D){var b=d;return function(){var A=d;d=b;try{return D.apply(this,arguments)}finally{d=A}}}})(em);qp.exports=em;var Uv=qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=k,xt=Uv;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tm=new Set,xi={};function Lr(e,t){xo(e,t),xo(e+"Capture",t)}function xo(e,t){for(xi[e]=t,e=0;e<t.length;e++)tm.add(t[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,Yv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},uf={};function Kv(e){return _u.call(uf,e)?!0:_u.call(lf,e)?!1:Yv.test(e)?uf[e]=!0:(lf[e]=!0,!1)}function Xv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,n,r){if(t===null||typeof t>"u"||Xv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var $c=/[\-:]([a-z])/g;function Bc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($c,Bc);Ze[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($c,Bc);Ze[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($c,Bc);Ze[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vc(e,t,n,r){var o=Ze.hasOwnProperty(t)?Ze[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,n,o,r)&&(n=null),r||o===null?Kv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=Wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),ku=Symbol.for("react.profiler"),nm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),Mu=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),om=Symbol.for("react.offscreen"),cf=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=cf&&e[cf]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Al;function ti(e){if(Al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||""}return`
`+Al+e}var jl=!1;function zl(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ti(e):""}function Qv(e){switch(e.tag){case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return e=zl(e.type,!1),e;case 11:return e=zl(e.type.render,!1),e;case 1:return e=zl(e.type,!0),e;default:return""}}function bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zr:return"Fragment";case Qr:return"Portal";case ku:return"Profiler";case Hc:return"StrictMode";case Nu:return"Suspense";case Mu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rm:return(e.displayName||"Context")+".Consumer";case nm:return(e._context.displayName||"Context")+".Provider";case Uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wc:return t=e.displayName||null,t!==null?t:bu(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return bu(e(t))}catch{}}return null}function Zv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(t);case 8:return t===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function im(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jv(e){var t=im(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wa(e){e._valueTracker||(e._valueTracker=Jv(e))}function am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=im(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Du(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function df(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sm(e,t){t=t.checked,t!=null&&Vc(e,"checked",t,!1)}function Pu(e,t){sm(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tu(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ff(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tu(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ni=Array.isArray;function co(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(ni(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function lm(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function um(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?um(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sa,cm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qv=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(e){qv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),li[t]=li[e]})});function dm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||li.hasOwnProperty(e)&&li[e]?(""+t).trim():t+"px"}function fm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=dm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var ex=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lu(e,t){if(t){if(ex[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Iu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Yc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ju=null,fo=null,ho=null;function mf(e){if(e=qi(e)){if(typeof ju!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=nl(t),ju(e.stateNode,e.type,t))}}function hm(e){fo?ho?ho.push(e):ho=[e]:fo=e}function pm(){if(fo){var e=fo,t=ho;if(ho=fo=null,mf(e),t)for(e=0;e<t.length;e++)mf(t[e])}}function mm(e,t){return e(t)}function gm(){}var Fl=!1;function ym(e,t,n){if(Fl)return e(t,n);Fl=!0;try{return mm(e,t,n)}finally{Fl=!1,(fo!==null||ho!==null)&&(gm(),pm())}}function Si(e,t){var n=e.stateNode;if(n===null)return null;var r=nl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var zu=!1;if(Sn)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){zu=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{zu=!1}function tx(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ui=!1,hs=null,ps=!1,Fu=null,nx={onError:function(e){ui=!0,hs=e}};function rx(e,t,n,r,o,i,a,s,l){ui=!1,hs=null,tx.apply(nx,arguments)}function ox(e,t,n,r,o,i,a,s,l){if(rx.apply(this,arguments),ui){if(ui){var u=hs;ui=!1,hs=null}else throw Error(Y(198));ps||(ps=!0,Fu=u)}}function Ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gf(e){if(Ir(e)!==e)throw Error(Y(188))}function ix(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return gf(o),e;if(i===r)return gf(o),t;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function xm(e){return e=ix(e),e!==null?wm(e):null}function wm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wm(e);if(t!==null)return t;e=e.sibling}return null}var Sm=xt.unstable_scheduleCallback,yf=xt.unstable_cancelCallback,ax=xt.unstable_shouldYield,sx=xt.unstable_requestPaint,$e=xt.unstable_now,lx=xt.unstable_getCurrentPriorityLevel,Kc=xt.unstable_ImmediatePriority,Em=xt.unstable_UserBlockingPriority,ms=xt.unstable_NormalPriority,ux=xt.unstable_LowPriority,Cm=xt.unstable_IdlePriority,Js=null,nn=null;function cx(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Js,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:hx,dx=Math.log,fx=Math.LN2;function hx(e){return e>>>=0,e===0?32:31-(dx(e)/fx|0)|0}var Ea=64,Ca=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~o;s!==0?r=ri(s):(i&=a,i!==0&&(r=ri(i)))}else a=n&~o,a!==0?r=ri(a):i!==0&&(r=ri(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),o=1<<n,r|=e[n],t&=~o;return r}function px(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Vt(i),s=1<<a,l=o[a];l===-1?(!(s&n)||s&r)&&(o[a]=px(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function $u(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _m(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function $l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function gx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Vt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Xc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var _e=0;function km(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nm,Gc,Mm,bm,Dm,Bu=!1,_a=[],Hn=null,Un=null,Wn=null,Ei=new Map,Ci=new Map,jn=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vf(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Uo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=qi(t),t!==null&&Gc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vx(e,t,n,r,o){switch(t){case"focusin":return Hn=Uo(Hn,e,t,n,r,o),!0;case"dragenter":return Un=Uo(Un,e,t,n,r,o),!0;case"mouseover":return Wn=Uo(Wn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ei.set(i,Uo(Ei.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ci.set(i,Uo(Ci.get(i)||null,e,t,n,r,o)),!0}return!1}function Pm(e){var t=gr(e.target);if(t!==null){var n=Ir(t);if(n!==null){if(t=n.tag,t===13){if(t=vm(n),t!==null){e.blockedOn=t,Dm(e.priority,function(){Mm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return t=qi(n),t!==null&&Gc(t),e.blockedOn=n,!1;t.shift()}return!0}function xf(e,t,n){Ga(e)&&n.delete(t)}function xx(){Bu=!1,Hn!==null&&Ga(Hn)&&(Hn=null),Un!==null&&Ga(Un)&&(Un=null),Wn!==null&&Ga(Wn)&&(Wn=null),Ei.forEach(xf),Ci.forEach(xf)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,xx)))}function _i(e){function t(o){return Wo(o,e)}if(0<_a.length){Wo(_a[0],e);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&Wo(Hn,e),Un!==null&&Wo(Un,e),Wn!==null&&Wo(Wn,e),Ei.forEach(t),Ci.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Pm(n),n.blockedOn===null&&jn.shift()}var po=Nn.ReactCurrentBatchConfig,ys=!0;function wx(e,t,n,r){var o=_e,i=po.transition;po.transition=null;try{_e=1,Qc(e,t,n,r)}finally{_e=o,po.transition=i}}function Sx(e,t,n,r){var o=_e,i=po.transition;po.transition=null;try{_e=4,Qc(e,t,n,r)}finally{_e=o,po.transition=i}}function Qc(e,t,n,r){if(ys){var o=Vu(e,t,n,r);if(o===null)Ql(e,t,r,vs,n),vf(e,r);else if(vx(o,e,t,n,r))r.stopPropagation();else if(vf(e,r),t&4&&-1<yx.indexOf(e)){for(;o!==null;){var i=qi(o);if(i!==null&&Nm(i),i=Vu(e,t,n,r),i===null&&Ql(e,t,r,vs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ql(e,t,r,null,n)}}var vs=null;function Vu(e,t,n,r){if(vs=null,e=Yc(r),e=gr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function Tm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lx()){case Kc:return 1;case Em:return 4;case ms:case ux:return 16;case Cm:return 536870912;default:return 16}default:return 16}}var $n=null,Zc=null,Qa=null;function Om(){if(Qa)return Qa;var e,t=Zc,n=t.length,r,o="value"in $n?$n.value:$n.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return Qa=o.slice(e,1<r?1-r:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function wf(){return!1}function Et(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ka:wf,this.isPropagationStopped=wf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=Et(Ao),Ji=Ae({},Ao,{view:0,detail:0}),Ex=Et(Ji),Bl,Vl,Yo,qs=Ae({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Bl=e.screenX-Yo.screenX,Vl=e.screenY-Yo.screenY):Vl=Bl=0,Yo=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Sf=Et(qs),Cx=Ae({},qs,{dataTransfer:0}),_x=Et(Cx),kx=Ae({},Ji,{relatedTarget:0}),Hl=Et(kx),Nx=Ae({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=Et(Nx),bx=Ae({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dx=Et(bx),Px=Ae({},Ao,{data:0}),Ef=Et(Px),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rx[e])?!!t[e]:!1}function qc(){return Lx}var Ix=Ae({},Ji,{key:function(e){if(e.key){var t=Tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ax=Et(Ix),jx=Ae({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=Et(jx),zx=Ae({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),Fx=Et(zx),$x=Ae({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=Et($x),Vx=Ae({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hx=Et(Vx),Ux=[9,13,27,32],ed=Sn&&"CompositionEvent"in window,ci=null;Sn&&"documentMode"in document&&(ci=document.documentMode);var Wx=Sn&&"TextEvent"in window&&!ci,Rm=Sn&&(!ed||ci&&8<ci&&11>=ci),_f=" ",kf=!1;function Lm(e,t){switch(e){case"keyup":return Ux.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Yx(e,t){switch(e){case"compositionend":return Im(t);case"keypress":return t.which!==32?null:(kf=!0,_f);case"textInput":return e=t.data,e===_f&&kf?null:e;default:return null}}function Kx(e,t){if(Jr)return e==="compositionend"||!ed&&Lm(e,t)?(e=Om(),Qa=Zc=$n=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rm&&t.locale!=="ko"?null:t.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xx[e.type]:t==="textarea"}function Am(e,t,n,r){hm(r),t=xs(t,"onChange"),0<t.length&&(n=new Jc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var di=null,ki=null;function Gx(e){Km(e,0)}function el(e){var t=to(e);if(am(t))return e}function Qx(e,t){if(e==="change")return t}var jm=!1;if(Sn){var Ul;if(Sn){var Wl="oninput"in document;if(!Wl){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),Wl=typeof Mf.oninput=="function"}Ul=Wl}else Ul=!1;jm=Ul&&(!document.documentMode||9<document.documentMode)}function bf(){di&&(di.detachEvent("onpropertychange",zm),ki=di=null)}function zm(e){if(e.propertyName==="value"&&el(ki)){var t=[];Am(t,ki,e,Yc(e)),ym(Gx,t)}}function Zx(e,t,n){e==="focusin"?(bf(),di=t,ki=n,di.attachEvent("onpropertychange",zm)):e==="focusout"&&bf()}function Jx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(ki)}function qx(e,t){if(e==="click")return el(t)}function ew(e,t){if(e==="input"||e==="change")return el(t)}function tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:tw;function Ni(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!_u.call(t,o)||!Wt(e[o],t[o]))return!1}return!0}function Df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var n=Df(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Df(n)}}function Fm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $m(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nw(e){var t=$m(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fm(n.ownerDocument.documentElement,n)){if(r!==null&&td(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Pf(n,i);var a=Pf(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rw=Sn&&"documentMode"in document&&11>=document.documentMode,qr=null,Hu=null,fi=null,Uu=!1;function Tf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||qr==null||qr!==fs(r)||(r=qr,"selectionStart"in r&&td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fi&&Ni(fi,r)||(fi=r,r=xs(Hu,"onSelect"),0<r.length&&(t=new Jc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qr)))}function Na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Yl={},Bm={};Sn&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function tl(e){if(Yl[e])return Yl[e];if(!eo[e])return e;var t=eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bm)return Yl[e]=t[n];return e}var Vm=tl("animationend"),Hm=tl("animationiteration"),Um=tl("animationstart"),Wm=tl("transitionend"),Ym=new Map,Of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){Ym.set(e,t),Lr(t,[e])}for(var Kl=0;Kl<Of.length;Kl++){var Xl=Of[Kl],ow=Xl.toLowerCase(),iw=Xl[0].toUpperCase()+Xl.slice(1);er(ow,"on"+iw)}er(Vm,"onAnimationEnd");er(Hm,"onAnimationIteration");er(Um,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(Wm,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ox(r,t,void 0,e),e.currentTarget=null}function Km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Rf(o,s,u),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Rf(o,s,u),i=l}}}if(ps)throw e=Fu,ps=!1,Fu=null,e}function be(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var r=e+"__bubble";n.has(r)||(Xm(t,e,2,!1),n.add(r))}function Gl(e,t,n){var r=0;t&&(r|=4),Xm(n,e,r,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){if(!e[Ma]){e[Ma]=!0,tm.forEach(function(n){n!=="selectionchange"&&(aw.has(n)||Gl(n,!1,e),Gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,Gl("selectionchange",!1,t))}}function Xm(e,t,n,r){switch(Tm(t)){case 1:var o=wx;break;case 4:o=Sx;break;default:o=Qc}n=o.bind(null,t,n,e),o=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ql(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=gr(s),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}ym(function(){var u=i,c=Yc(n),f=[];e:{var d=Ym.get(e);if(d!==void 0){var h=Jc,v=e;switch(e){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":h=Ax;break;case"focusin":v="focus",h=Hl;break;case"focusout":v="blur",h=Hl;break;case"beforeblur":case"afterblur":h=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Fx;break;case Vm:case Hm:case Um:h=Mx;break;case Wm:h=Bx;break;case"scroll":h=Ex;break;case"wheel":h=Hx;break;case"copy":case"cut":case"paste":h=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Cf}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,p;g!==null;){p=g;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,m!==null&&(w=Si(g,m),w!=null&&y.push(bi(g,w,p)))),x)break;g=g.return}0<y.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Au&&(v=n.relatedTarget||n.fromElement)&&(gr(v)||v[En]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?gr(v):null,v!==null&&(x=Ir(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Sf,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Cf,w="onPointerLeave",m="onPointerEnter",g="pointer"),x=h==null?d:to(h),p=v==null?d:to(v),d=new y(w,g+"leave",h,n,c),d.target=x,d.relatedTarget=p,w=null,gr(c)===u&&(y=new y(m,g+"enter",v,n,c),y.target=p,y.relatedTarget=x,w=y),x=w,h&&v)t:{for(y=h,m=v,g=0,p=y;p;p=Yr(p))g++;for(p=0,w=m;w;w=Yr(w))p++;for(;0<g-p;)y=Yr(y),g--;for(;0<p-g;)m=Yr(m),p--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Yr(y),m=Yr(m)}y=null}else y=null;h!==null&&Lf(f,d,h,y,!1),v!==null&&x!==null&&Lf(f,x,v,y,!0)}}e:{if(d=u?to(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var _=Qx;else if(Nf(d))if(jm)_=ew;else{_=Jx;var N=Zx}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=qx);if(_&&(_=_(e,u))){Am(f,_,n,c);break e}N&&N(e,d,u),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Tu(d,"number",d.value)}switch(N=u?to(u):window,e){case"focusin":(Nf(N)||N.contentEditable==="true")&&(qr=N,Hu=u,fi=null);break;case"focusout":fi=Hu=qr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Tf(f,n,c);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":Tf(f,n,c)}var S;if(ed)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Jr?Lm(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Rm&&n.locale!=="ko"&&(Jr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Jr&&(S=Om()):($n=c,Zc="value"in $n?$n.value:$n.textContent,Jr=!0)),N=xs(u,M),0<N.length&&(M=new Ef(M,e,null,n,c),f.push({event:M,listeners:N}),S?M.data=S:(S=Im(n),S!==null&&(M.data=S)))),(S=Wx?Yx(e,n):Kx(e,n))&&(u=xs(u,"onBeforeInput"),0<u.length&&(c=new Ef("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Km(f,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Si(e,n),i!=null&&r.unshift(bi(e,i,o)),i=Si(e,t),i!=null&&r.push(bi(e,i,o))),e=e.return}return r}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lf(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,o?(l=Si(n,i),l!=null&&a.unshift(bi(n,l,s))):o||(l=Si(n,i),l!=null&&a.push(bi(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sw=/\r\n?/g,lw=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(sw,`
`).replace(lw,"")}function ba(e,t,n){if(t=If(t),If(e)!==t&&n)throw Error(Y(425))}function ws(){}var Wu=null,Yu=null;function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,uw=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(e){return Af.resolve(null).then(e).catch(dw)}:Xu;function dw(e){setTimeout(function(){throw e})}function Zl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),_i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);_i(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),qt="__reactFiber$"+jo,Di="__reactProps$"+jo,En="__reactContainer$"+jo,Gu="__reactEvents$"+jo,fw="__reactListeners$"+jo,hw="__reactHandles$"+jo;function gr(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jf(e);e!==null;){if(n=e[qt])return n;e=jf(e)}return t}e=n,n=e.parentNode}return null}function qi(e){return e=e[qt]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function nl(e){return e[Di]||null}var Qu=[],no=-1;function tr(e){return{current:e}}function De(e){0>no||(e.current=Qu[no],Qu[no]=null,no--)}function Ne(e,t){no++,Qu[no]=e.current,e.current=t}var Jn={},tt=tr(Jn),dt=tr(!1),kr=Jn;function wo(e,t){var n=e.type.contextTypes;if(!n)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ft(e){return e=e.childContextTypes,e!=null}function Ss(){De(dt),De(tt)}function zf(e,t,n){if(tt.current!==Jn)throw Error(Y(168));Ne(tt,t),Ne(dt,n)}function Gm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Y(108,Zv(e)||"Unknown",o));return Ae({},n,r)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,kr=tt.current,Ne(tt,e),Ne(dt,dt.current),!0}function Ff(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Gm(e,t,kr),r.__reactInternalMemoizedMergedChildContext=e,De(dt),De(tt),Ne(tt,e)):De(dt),Ne(dt,n)}var pn=null,rl=!1,Jl=!1;function Qm(e){pn===null?pn=[e]:pn.push(e)}function pw(e){rl=!0,Qm(e)}function nr(){if(!Jl&&pn!==null){Jl=!0;var e=0,t=_e;try{var n=pn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,rl=!1}catch(o){throw pn!==null&&(pn=pn.slice(e+1)),Sm(Kc,nr),o}finally{_e=t,Jl=!1}}return null}var ro=[],oo=0,Cs=null,_s=0,kt=[],Nt=0,Nr=null,mn=1,gn="";function dr(e,t){ro[oo++]=_s,ro[oo++]=Cs,Cs=e,_s=t}function Zm(e,t,n){kt[Nt++]=mn,kt[Nt++]=gn,kt[Nt++]=Nr,Nr=e;var r=mn;e=gn;var o=32-Vt(r)-1;r&=~(1<<o),n+=1;var i=32-Vt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,mn=1<<32-Vt(t)+o|n<<o|r,gn=i+e}else mn=1<<i|n<<o|r,gn=e}function nd(e){e.return!==null&&(dr(e,1),Zm(e,1,0))}function rd(e){for(;e===Cs;)Cs=ro[--oo],ro[oo]=null,_s=ro[--oo],ro[oo]=null;for(;e===Nr;)Nr=kt[--Nt],kt[Nt]=null,gn=kt[--Nt],kt[Nt]=null,mn=kt[--Nt],kt[Nt]=null}var vt=null,yt=null,Oe=!1,Ft=null;function Jm(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $f(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,yt=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ju(e){if(Oe){var t=yt;if(t){var n=t;if(!$f(e,t)){if(Zu(e))throw Error(Y(418));t=Yn(n.nextSibling);var r=vt;t&&$f(e,t)?Jm(r,n):(e.flags=e.flags&-4097|2,Oe=!1,vt=e)}}else{if(Zu(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Oe=!1,vt=e}}}function Bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Da(e){if(e!==vt)return!1;if(!Oe)return Bf(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ku(e.type,e.memoizedProps)),t&&(t=yt)){if(Zu(e))throw qm(),Error(Y(418));for(;t;)Jm(e,t),t=Yn(t.nextSibling)}if(Bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Yn(e.stateNode.nextSibling):null;return!0}function qm(){for(var e=yt;e;)e=Yn(e.nextSibling)}function So(){yt=vt=null,Oe=!1}function od(e){Ft===null?Ft=[e]:Ft.push(e)}var mw=Nn.ReactCurrentBatchConfig;function Ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Pa(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vf(e){var t=e._init;return t(e._payload)}function eg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=Qn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,g,p,w){return g===null||g.tag!==6?(g=iu(p,m.mode,w),g.return=m,g):(g=o(g,p),g.return=m,g)}function l(m,g,p,w){var _=p.type;return _===Zr?c(m,g,p.props.children,w,p.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===In&&Vf(_)===g.type)?(w=o(g,p.props),w.ref=Ko(m,g,p),w.return=m,w):(w=os(p.type,p.key,p.props,null,m.mode,w),w.ref=Ko(m,g,p),w.return=m,w)}function u(m,g,p,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=au(p,m.mode,w),g.return=m,g):(g=o(g,p.children||[]),g.return=m,g)}function c(m,g,p,w,_){return g===null||g.tag!==7?(g=Er(p,m.mode,w,_),g.return=m,g):(g=o(g,p),g.return=m,g)}function f(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=iu(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xa:return p=os(g.type,g.key,g.props,null,m.mode,p),p.ref=Ko(m,null,g),p.return=m,p;case Qr:return g=au(g,m.mode,p),g.return=m,g;case In:var w=g._init;return f(m,w(g._payload),p)}if(ni(g)||Vo(g))return g=Er(g,m.mode,p,null),g.return=m,g;Pa(m,g)}return null}function d(m,g,p,w){var _=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:s(m,g,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:return p.key===_?l(m,g,p,w):null;case Qr:return p.key===_?u(m,g,p,w):null;case In:return _=p._init,d(m,g,_(p._payload),w)}if(ni(p)||Vo(p))return _!==null?null:c(m,g,p,w,null);Pa(m,p)}return null}function h(m,g,p,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(p)||null,s(g,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xa:return m=m.get(w.key===null?p:w.key)||null,l(g,m,w,_);case Qr:return m=m.get(w.key===null?p:w.key)||null,u(g,m,w,_);case In:var N=w._init;return h(m,g,p,N(w._payload),_)}if(ni(w)||Vo(w))return m=m.get(p)||null,c(g,m,w,_,null);Pa(g,w)}return null}function v(m,g,p,w){for(var _=null,N=null,S=g,M=g=0,L=null;S!==null&&M<p.length;M++){S.index>M?(L=S,S=null):L=S.sibling;var I=d(m,S,p[M],w);if(I===null){S===null&&(S=L);break}e&&S&&I.alternate===null&&t(m,S),g=i(I,g,M),N===null?_=I:N.sibling=I,N=I,S=L}if(M===p.length)return n(m,S),Oe&&dr(m,M),_;if(S===null){for(;M<p.length;M++)S=f(m,p[M],w),S!==null&&(g=i(S,g,M),N===null?_=S:N.sibling=S,N=S);return Oe&&dr(m,M),_}for(S=r(m,S);M<p.length;M++)L=h(S,m,M,p[M],w),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?M:L.key),g=i(L,g,M),N===null?_=L:N.sibling=L,N=L);return e&&S.forEach(function(H){return t(m,H)}),Oe&&dr(m,M),_}function y(m,g,p,w){var _=Vo(p);if(typeof _!="function")throw Error(Y(150));if(p=_.call(p),p==null)throw Error(Y(151));for(var N=_=null,S=g,M=g=0,L=null,I=p.next();S!==null&&!I.done;M++,I=p.next()){S.index>M?(L=S,S=null):L=S.sibling;var H=d(m,S,I.value,w);if(H===null){S===null&&(S=L);break}e&&S&&H.alternate===null&&t(m,S),g=i(H,g,M),N===null?_=H:N.sibling=H,N=H,S=L}if(I.done)return n(m,S),Oe&&dr(m,M),_;if(S===null){for(;!I.done;M++,I=p.next())I=f(m,I.value,w),I!==null&&(g=i(I,g,M),N===null?_=I:N.sibling=I,N=I);return Oe&&dr(m,M),_}for(S=r(m,S);!I.done;M++,I=p.next())I=h(S,m,M,I.value,w),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?M:I.key),g=i(I,g,M),N===null?_=I:N.sibling=I,N=I);return e&&S.forEach(function(z){return t(m,z)}),Oe&&dr(m,M),_}function x(m,g,p,w){if(typeof p=="object"&&p!==null&&p.type===Zr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:e:{for(var _=p.key,N=g;N!==null;){if(N.key===_){if(_=p.type,_===Zr){if(N.tag===7){n(m,N.sibling),g=o(N,p.props.children),g.return=m,m=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===In&&Vf(_)===N.type){n(m,N.sibling),g=o(N,p.props),g.ref=Ko(m,N,p),g.return=m,m=g;break e}n(m,N);break}else t(m,N);N=N.sibling}p.type===Zr?(g=Er(p.props.children,m.mode,w,p.key),g.return=m,m=g):(w=os(p.type,p.key,p.props,null,m.mode,w),w.ref=Ko(m,g,p),w.return=m,m=w)}return a(m);case Qr:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=o(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=au(p,m.mode,w),g.return=m,m=g}return a(m);case In:return N=p._init,x(m,g,N(p._payload),w)}if(ni(p))return v(m,g,p,w);if(Vo(p))return y(m,g,p,w);Pa(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,p),g.return=m,m=g):(n(m,g),g=iu(p,m.mode,w),g.return=m,m=g),a(m)):n(m,g)}return x}var Eo=eg(!0),tg=eg(!1),ks=tr(null),Ns=null,io=null,id=null;function ad(){id=io=Ns=null}function sd(e){var t=ks.current;De(ks),e._currentValue=t}function qu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mo(e,t){Ns=e,id=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(id!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Ns===null)throw Error(Y(308));io=e,Ns.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var yr=null;function ld(e){yr===null?yr=[e]:yr.push(e)}function ng(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ld(t)):(n.next=o.next,o.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function ud(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Cn(e,n)}return o=r.interleaved,o===null?(t.next=t,ld(r)):(t.next=o.next,o.next=t),r.interleaved=t,Cn(e,n)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xc(e,n)}}function Hf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var o=e.updateQueue;An=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;a=0,c=u=l=null,s=i;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,y=s;switch(d=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Ae({},f,d);break e;case 2:An=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);br|=a,e.lanes=a,e.memoizedState=f}}function Uf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Y(191,o));o.call(r)}}}var ea={},rn=tr(ea),Pi=tr(ea),Ti=tr(ea);function vr(e){if(e===ea)throw Error(Y(174));return e}function cd(e,t){switch(Ne(Ti,t),Ne(Pi,e),Ne(rn,ea),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ru(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ru(t,e)}De(rn),Ne(rn,t)}function Co(){De(rn),De(Pi),De(Ti)}function og(e){vr(Ti.current);var t=vr(rn.current),n=Ru(t,e.type);t!==n&&(Ne(Pi,e),Ne(rn,n))}function dd(e){Pi.current===e&&(De(rn),De(Pi))}var Le=tr(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ql=[];function fd(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var qa=Nn.ReactCurrentDispatcher,eu=Nn.ReactCurrentBatchConfig,Mr=0,Ie=null,We=null,Ke=null,Ds=!1,hi=!1,Oi=0,gw=0;function Je(){throw Error(Y(321))}function hd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function pd(e,t,n,r,o,i){if(Mr=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?ww:Sw,e=n(r,o),hi){i=0;do{if(hi=!1,Oi=0,25<=i)throw Error(Y(301));i+=1,Ke=We=null,t.updateQueue=null,qa.current=Ew,e=n(r,o)}while(hi)}if(qa.current=Ps,t=We!==null&&We.next!==null,Mr=0,Ke=We=Ie=null,Ds=!1,t)throw Error(Y(300));return e}function md(){var e=Oi!==0;return Oi=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Pt(){if(We===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Ie.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(Y(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ri(e,t){return typeof t=="function"?t(e):t}function tu(e){var t=Pt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=We,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,u=i;do{var c=u.lane;if((Mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Ie.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=s,Wt(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ie.lanes|=i,br|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nu(e){var t=Pt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Wt(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ig(){}function ag(e,t){var n=Ie,r=Pt(),o=t(),i=!Wt(r.memoizedState,o);if(i&&(r.memoizedState=o,ut=!0),r=r.queue,gd(ug.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Li(9,lg.bind(null,n,r,o,t),void 0,null),Xe===null)throw Error(Y(349));Mr&30||sg(n,t,o)}return o}function sg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lg(e,t,n,r){t.value=n,t.getSnapshot=r,cg(t)&&dg(e)}function ug(e,t,n){return n(function(){cg(t)&&dg(e)})}function cg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch{return!0}}function dg(e){var t=Cn(e,1);t!==null&&Ht(t,e,1,-1)}function Wf(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=xw.bind(null,Ie,e),[t.memoizedState,e]}function Li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fg(){return Pt().memoizedState}function es(e,t,n,r){var o=Zt();Ie.flags|=e,o.memoizedState=Li(1|t,n,void 0,r===void 0?null:r)}function ol(e,t,n,r){var o=Pt();r=r===void 0?null:r;var i=void 0;if(We!==null){var a=We.memoizedState;if(i=a.destroy,r!==null&&hd(r,a.deps)){o.memoizedState=Li(t,n,i,r);return}}Ie.flags|=e,o.memoizedState=Li(1|t,n,i,r)}function Yf(e,t){return es(8390656,8,e,t)}function gd(e,t){return ol(2048,8,e,t)}function hg(e,t){return ol(4,2,e,t)}function pg(e,t){return ol(4,4,e,t)}function mg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gg(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,mg.bind(null,t,e),n)}function yd(){}function yg(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vg(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xg(e,t,n){return Mr&21?(Wt(n,t)||(n=_m(),Ie.lanes|=n,br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function yw(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=eu.transition;eu.transition={};try{e(!1),t()}finally{_e=n,eu.transition=r}}function wg(){return Pt().memoizedState}function vw(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sg(e))Eg(t,n);else if(n=ng(e,t,n,r),n!==null){var o=ot();Ht(n,e,r,o),Cg(n,t,r)}}function xw(e,t,n){var r=Gn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))Eg(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Wt(s,a)){var l=t.interleaved;l===null?(o.next=o,ld(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=ng(e,t,o,r),n!==null&&(o=ot(),Ht(n,e,r,o),Cg(n,t,r))}}function Sg(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Eg(e,t){hi=Ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xc(e,n)}}var Ps={readContext:Dt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},ww={readContext:Dt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Yf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,es(4194308,4,mg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return es(4194308,4,e,t)},useInsertionEffect:function(e,t){return es(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vw.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Wf,useDebugValue:yd,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Wf(!1),t=e[0];return e=yw.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,o=Zt();if(Oe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Xe===null)throw Error(Y(349));Mr&30||sg(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Yf(ug.bind(null,r,i,e),[e]),r.flags|=2048,Li(9,lg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Xe.identifierPrefix;if(Oe){var n=gn,r=mn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sw={readContext:Dt,useCallback:yg,useContext:Dt,useEffect:gd,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:vg,useReducer:tu,useRef:fg,useState:function(){return tu(Ri)},useDebugValue:yd,useDeferredValue:function(e){var t=Pt();return xg(t,We.memoizedState,e)},useTransition:function(){var e=tu(Ri)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:ag,useId:wg,unstable_isNewReconciler:!1},Ew={readContext:Dt,useCallback:yg,useContext:Dt,useEffect:gd,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:pg,useMemo:vg,useReducer:nu,useRef:fg,useState:function(){return nu(Ri)},useDebugValue:yd,useDeferredValue:function(e){var t=Pt();return We===null?t.memoizedState=e:xg(t,We.memoizedState,e)},useTransition:function(){var e=nu(Ri)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:ig,useSyncExternalStore:ag,useId:wg,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ec(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),o=Gn(e),i=vn(r,o);i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,o),t!==null&&(Ht(t,e,o,r),Ja(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),o=Gn(e),i=vn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kn(e,i,o),t!==null&&(Ht(t,e,o,r),Ja(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Gn(e),o=vn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Kn(e,o,r),t!==null&&(Ht(t,e,r,n),Ja(t,e,r))}};function Kf(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ni(n,r)||!Ni(o,i):!0}function _g(e,t,n){var r=!1,o=Jn,i=t.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(o=ft(t)?kr:tt.current,r=t.contextTypes,i=(r=r!=null)?wo(e,o):Jn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function tc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ud(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Dt(i):(i=ft(t)?kr:tt.current,o.context=wo(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ec(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&il.enqueueReplaceState(o,o.state,null),Ms(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function _o(e,t){try{var n="",r=t;do n+=Qv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ru(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cw=typeof WeakMap=="function"?WeakMap:Map;function kg(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,fc=r),nc(e,t)},n}function Ng(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){nc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Gf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Cw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jw.bind(null,e,t,n),t.then(e,e))}function Qf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var _w=Nn.ReactCurrentOwner,ut=!1;function rt(e,t,n,r){t.child=e===null?tg(t,null,n,r):Eo(t,e.child,n,r)}function Jf(e,t,n,r,o){n=n.render;var i=t.ref;return mo(t,o),r=pd(e,t,n,r,i,o),n=md(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_n(e,t,o)):(Oe&&n&&nd(t),t.flags|=1,rt(e,t,r,o),t.child)}function qf(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!kd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mg(e,t,i,r,o)):(e=os(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ni,n(a,r)&&e.ref===t.ref)return _n(e,t,o)}return t.flags|=1,e=Qn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Mg(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ni(i,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,_n(e,t,o)}return rc(e,t,n,r,o)}function bg(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(so,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(so,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(so,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ne(so,pt),pt|=r;return rt(e,t,o,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rc(e,t,n,r,o){var i=ft(n)?kr:tt.current;return i=wo(t,i),mo(t,o),n=pd(e,t,n,r,i,o),r=md(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_n(e,t,o)):(Oe&&r&&nd(t),t.flags|=1,rt(e,t,n,o),t.child)}function eh(e,t,n,r,o){if(ft(n)){var i=!0;Es(t)}else i=!1;if(mo(t,o),t.stateNode===null)ts(e,t),_g(t,n,r),tc(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=ft(n)?kr:tt.current,u=wo(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Xf(t,a,r,u),An=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,o),l=t.memoizedState,s!==r||d!==l||dt.current||An?(typeof c=="function"&&(ec(t,n,c,r),l=t.memoizedState),(s=An||Kf(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rg(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:It(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dt(l):(l=ft(n)?kr:tt.current,l=wo(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Xf(t,a,r,l),An=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,o);var v=t.memoizedState;s!==f||d!==v||dt.current||An?(typeof h=="function"&&(ec(t,n,h,r),v=t.memoizedState),(u=An||Kf(t,n,u,r,d,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return oc(e,t,n,r,i,o)}function oc(e,t,n,r,o,i){Dg(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&Ff(t,n,!1),_n(e,t,i);r=t.stateNode,_w.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Eo(t,e.child,null,i),t.child=Eo(t,null,s,i)):rt(e,t,s,i),t.memoizedState=r.state,o&&Ff(t,n,!0),t.child}function Pg(e){var t=e.stateNode;t.pendingContext?zf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zf(e,t.context,!1),cd(e,t.containerInfo)}function th(e,t,n,r,o){return So(),od(o),t.flags|=256,rt(e,t,n,r),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tg(e,t,n){var r=t.pendingProps,o=Le.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ne(Le,o&1),e===null)return Ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ll(a,r,0,null),e=Er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ac(n),t.memoizedState=ic,e):vd(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return kw(e,t,a,r,s,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Qn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=Qn(s,i):(i=Er(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ac(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ic,r}return i=e.child,e=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vd(e,t){return t=ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ta(e,t,n,r){return r!==null&&od(r),Eo(t,e.child,null,n),e=vd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kw(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=ru(Error(Y(422))),Ta(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ll({mode:"visible",children:r.children},o,0,null),i=Er(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Eo(t,e.child,null,a),t.child.memoizedState=ac(a),t.memoizedState=ic,i);if(!(t.mode&1))return Ta(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Y(419)),r=ru(i,r,void 0),Ta(e,t,a,r)}if(s=(a&e.childLanes)!==0,ut||s){if(r=Xe,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Cn(e,o),Ht(r,e,o,-1))}return _d(),r=ru(Error(Y(421))),Ta(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=zw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,yt=Yn(o.nextSibling),vt=t,Oe=!0,Ft=null,e!==null&&(kt[Nt++]=mn,kt[Nt++]=gn,kt[Nt++]=Nr,mn=e.id,gn=e.overflow,Nr=t),t=vd(t,r.children),t.flags|=4096,t)}function nh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qu(e.return,t,n)}function ou(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Og(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nh(e,n,t);else if(e.tag===19)nh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ou(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ou(t,!0,n,null,i);break;case"together":ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nw(e,t,n){switch(t.tag){case 3:Pg(t),So();break;case 5:og(t);break;case 1:ft(t.type)&&Es(t);break;case 4:cd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ne(ks,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?Tg(e,t,n):(Ne(Le,Le.current&1),e=_n(e,t,n),e!==null?e.sibling:null);Ne(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Og(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,bg(e,t,n)}return _n(e,t,n)}var Rg,sc,Lg,Ig;Rg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sc=function(){};Lg=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,vr(rn.current);var i=null;switch(n){case"input":o=Du(e,o),r=Du(e,r),i=[];break;case"select":o=Ae({},o,{value:void 0}),r=Ae({},r,{value:void 0}),i=[];break;case"textarea":o=Ou(e,o),r=Ou(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}Lu(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ig=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mw(e,t,n){var r=t.pendingProps;switch(rd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ft(t.type)&&Ss(),qe(t),null;case 3:return r=t.stateNode,Co(),De(dt),De(tt),fd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(mc(Ft),Ft=null))),sc(e,t),qe(t),null;case 5:dd(t);var o=vr(Ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Lg(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return qe(t),null}if(e=vr(rn.current),Da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[Di]=i,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(o=0;o<oi.length;o++)be(oi[o],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":df(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":hf(r,i),be("invalid",r)}Lu(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&ba(r.textContent,s,e),o=["children",""+s]):xi.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&be("scroll",r)}switch(n){case"input":wa(r),ff(r,i,!0);break;case"textarea":wa(r),pf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ws)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=um(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qt]=t,e[Di]=r,Rg(e,t,!1,!1),t.stateNode=e;e:{switch(a=Iu(n,r),n){case"dialog":be("cancel",e),be("close",e),o=r;break;case"iframe":case"object":case"embed":be("load",e),o=r;break;case"video":case"audio":for(o=0;o<oi.length;o++)be(oi[o],e);o=r;break;case"source":be("error",e),o=r;break;case"img":case"image":case"link":be("error",e),be("load",e),o=r;break;case"details":be("toggle",e),o=r;break;case"input":df(e,r),o=Du(e,r),be("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ae({},r,{value:void 0}),be("invalid",e);break;case"textarea":hf(e,r),o=Ou(e,r),be("invalid",e);break;default:o=r}Lu(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?fm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wi(e,l):typeof l=="number"&&wi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&be("scroll",e):l!=null&&Vc(e,i,l,a))}switch(n){case"input":wa(e),ff(e,r,!1);break;case"textarea":wa(e),pf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?co(e,!!r.multiple,i,!1):r.defaultValue!=null&&co(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Ig(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=vr(Ti.current),vr(rn.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:ba(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ba(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return qe(t),null;case 13:if(De(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&yt!==null&&t.mode&1&&!(t.flags&128))qm(),So(),t.flags|=98560,i=!1;else if(i=Da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[qt]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Ft!==null&&(mc(Ft),Ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ye===0&&(Ye=3):_d())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Co(),sc(e,t),e===null&&Mi(t.stateNode.containerInfo),qe(t),null;case 10:return sd(t.type._context),qe(t),null;case 17:return ft(t.type)&&Ss(),qe(t),null;case 19:if(De(Le),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Xo(i,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bs(e),a!==null){for(t.flags|=128,Xo(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>ko&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304)}else{if(!r)if(e=bs(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Oe)return qe(t),null}else 2*$e()-i.renderingStartTime>ko&&n!==1073741824&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=Le.current,Ne(Le,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Cd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function bw(e,t){switch(rd(t),t.tag){case 1:return ft(t.type)&&Ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Co(),De(dt),De(tt),fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dd(t),null;case 13:if(De(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Le),null;case 4:return Co(),null;case 10:return sd(t.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Oa=!1,et=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,te=null;function ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function lc(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var rh=!1;function Pw(e,t){if(Wu=ys,e=$m(),td(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(s=a+o),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===o&&(s=a),d===i&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},ys=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:It(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(w){Fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=rh,rh=!1,v}function pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&lc(t,n,i)}o=o.next}while(o!==r)}}function al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ag(e){var t=e.alternate;t!==null&&(e.alternate=null,Ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Di],delete t[Gu],delete t[fw],delete t[hw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jg(e){return e.tag===5||e.tag===3||e.tag===4}function oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(cc(e,t,n),e=e.sibling;e!==null;)cc(e,t,n),e=e.sibling}function dc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}var Ge=null,At=!1;function Tn(e,t,n){for(n=n.child;n!==null;)zg(e,t,n),n=n.sibling}function zg(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Js,n)}catch{}switch(n.tag){case 5:et||ao(n,t);case 6:var r=Ge,o=At;Ge=null,Tn(e,t,n),Ge=r,At=o,Ge!==null&&(At?(e=Ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(At?(e=Ge,n=n.stateNode,e.nodeType===8?Zl(e.parentNode,n):e.nodeType===1&&Zl(e,n),_i(e)):Zl(Ge,n.stateNode));break;case 4:r=Ge,o=At,Ge=n.stateNode.containerInfo,At=!0,Tn(e,t,n),Ge=r,At=o;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lc(n,t,a),o=o.next}while(o!==r)}Tn(e,t,n);break;case 1:if(!et&&(ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Fe(n,t,s)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Tn(e,t,n),et=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dw),t.forEach(function(r){var o=Fw.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ge=s.stateNode,At=!1;break e;case 3:Ge=s.stateNode.containerInfo,At=!0;break e;case 4:Ge=s.stateNode.containerInfo,At=!0;break e}s=s.return}if(Ge===null)throw Error(Y(160));zg(i,a,o),Ge=null,At=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Fe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fg(t,e),t=t.sibling}function Fg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Qt(e),r&4){try{pi(3,e,e.return),al(3,e)}catch(y){Fe(e,e.return,y)}try{pi(5,e,e.return)}catch(y){Fe(e,e.return,y)}}break;case 1:Lt(t,e),Qt(e),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Lt(t,e),Qt(e),r&512&&n!==null&&ao(n,n.return),e.flags&32){var o=e.stateNode;try{wi(o,"")}catch(y){Fe(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&sm(o,i),Iu(s,a);var u=Iu(s,i);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?fm(o,f):c==="dangerouslySetInnerHTML"?cm(o,f):c==="children"?wi(o,f):Vc(o,c,f,u)}switch(s){case"input":Pu(o,i);break;case"textarea":lm(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?co(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?co(o,!!i.multiple,i.defaultValue,!0):co(o,!!i.multiple,i.multiple?[]:"",!1))}o[Di]=i}catch(y){Fe(e,e.return,y)}}break;case 6:if(Lt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(Y(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Fe(e,e.return,y)}}break;case 3:if(Lt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(y){Fe(e,e.return,y)}break;case 4:Lt(t,e),Qt(e);break;case 13:Lt(t,e),Qt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Sd=$e())),r&4&&ih(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||c,Lt(t,e),et=u):Lt(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(f=te=c;te!==null;){switch(d=te,h=d.child,d.tag){case 0:case 11:case 14:case 15:pi(4,d,d.return);break;case 1:ao(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Fe(r,n,y)}}break;case 5:ao(d,d.return);break;case 22:if(d.memoizedState!==null){sh(f);continue}}h!==null?(h.return=d,te=h):sh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dm("display",a))}catch(y){Fe(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Fe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Qt(e),r&4&&ih(e);break;case 21:break;default:Lt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jg(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(wi(o,""),r.flags&=-33);var i=oh(e);dc(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=oh(e);cc(e,s,a);break;default:throw Error(Y(161))}}catch(l){Fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tw(e,t,n){te=e,$g(e)}function $g(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var o=te,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Oa;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||et;s=Oa;var u=et;if(Oa=a,(et=l)&&!u)for(te=o;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?lh(o):l!==null?(l.return=a,te=l):lh(o);for(;i!==null;)te=i,$g(i),i=i.sibling;te=o,Oa=s,et=u}ah(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,te=i):ah(e)}}function ah(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uf(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Uf(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&_i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}et||t.flags&512&&uc(t)}catch(d){Fe(t,t.return,d)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function sh(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function lh(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Fe(t,o,l)}}var i=t.return;try{uc(t)}catch(l){Fe(t,i,l)}break;case 5:var a=t.return;try{uc(t)}catch(l){Fe(t,a,l)}}}catch(l){Fe(t,t.return,l)}if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}var Ow=Math.ceil,Ts=Nn.ReactCurrentDispatcher,xd=Nn.ReactCurrentOwner,bt=Nn.ReactCurrentBatchConfig,Se=0,Xe=null,Ve=null,Qe=0,pt=0,so=tr(0),Ye=0,Ii=null,br=0,sl=0,wd=0,mi=null,lt=null,Sd=0,ko=1/0,hn=null,Os=!1,fc=null,Xn=null,Ra=!1,Bn=null,Rs=0,gi=0,hc=null,ns=-1,rs=0;function ot(){return Se&6?$e():ns!==-1?ns:ns=$e()}function Gn(e){return e.mode&1?Se&2&&Qe!==0?Qe&-Qe:mw.transition!==null?(rs===0&&(rs=_m()),rs):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Tm(e.type)),e):1}function Ht(e,t,n,r){if(50<gi)throw gi=0,hc=null,Error(Y(185));Zi(e,n,r),(!(Se&2)||e!==Xe)&&(e===Xe&&(!(Se&2)&&(sl|=n),Ye===4&&zn(e,Qe)),ht(e,r),n===1&&Se===0&&!(t.mode&1)&&(ko=$e()+500,rl&&nr()))}function ht(e,t){var n=e.callbackNode;mx(e,t);var r=gs(e,e===Xe?Qe:0);if(r===0)n!==null&&yf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yf(n),t===1)e.tag===0?pw(uh.bind(null,e)):Qm(uh.bind(null,e)),cw(function(){!(Se&6)&&nr()}),n=null;else{switch(km(r)){case 1:n=Kc;break;case 4:n=Em;break;case 16:n=ms;break;case 536870912:n=Cm;break;default:n=ms}n=Xg(n,Bg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bg(e,t){if(ns=-1,rs=0,Se&6)throw Error(Y(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var r=gs(e,e===Xe?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ls(e,r);else{t=r;var o=Se;Se|=2;var i=Hg();(Xe!==e||Qe!==t)&&(hn=null,ko=$e()+500,Sr(e,t));do try{Iw();break}catch(s){Vg(e,s)}while(!0);ad(),Ts.current=i,Se=o,Ve!==null?t=0:(Xe=null,Qe=0,t=Ye)}if(t!==0){if(t===2&&(o=$u(e),o!==0&&(r=o,t=pc(e,o))),t===1)throw n=Ii,Sr(e,0),zn(e,r),ht(e,$e()),n;if(t===6)zn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Rw(o)&&(t=Ls(e,r),t===2&&(i=$u(e),i!==0&&(r=i,t=pc(e,i))),t===1))throw n=Ii,Sr(e,0),zn(e,r),ht(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:fr(e,lt,hn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=Sd+500-$e(),10<t)){if(gs(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Xu(fr.bind(null,e,lt,hn),t);break}fr(e,lt,hn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Vt(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ow(r/1960))-r,10<r){e.timeoutHandle=Xu(fr.bind(null,e,lt,hn),r);break}fr(e,lt,hn);break;case 5:fr(e,lt,hn);break;default:throw Error(Y(329))}}}return ht(e,$e()),e.callbackNode===n?Bg.bind(null,e):null}function pc(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=lt,lt=n,t!==null&&mc(t)),e}function mc(e){lt===null?lt=e:lt.push.apply(lt,e)}function Rw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Wt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~wd,t&=~sl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function uh(e){if(Se&6)throw Error(Y(327));go();var t=gs(e,0);if(!(t&1))return ht(e,$e()),null;var n=Ls(e,t);if(e.tag!==0&&n===2){var r=$u(e);r!==0&&(t=r,n=pc(e,r))}if(n===1)throw n=Ii,Sr(e,0),zn(e,t),ht(e,$e()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,lt,hn),ht(e,$e()),null}function Ed(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(ko=$e()+500,rl&&nr())}}function Dr(e){Bn!==null&&Bn.tag===0&&!(Se&6)&&go();var t=Se;Se|=1;var n=bt.transition,r=_e;try{if(bt.transition=null,_e=1,e)return e()}finally{_e=r,bt.transition=n,Se=t,!(Se&6)&&nr()}}function Cd(){pt=so.current,De(so)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uw(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ss();break;case 3:Co(),De(dt),De(tt),fd();break;case 5:dd(r);break;case 4:Co();break;case 13:De(Le);break;case 19:De(Le);break;case 10:sd(r.type._context);break;case 22:case 23:Cd()}n=n.return}if(Xe=e,Ve=e=Qn(e.current,null),Qe=pt=t,Ye=0,Ii=null,wd=sl=br=0,lt=mi=null,yr!==null){for(t=0;t<yr.length;t++)if(n=yr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}yr=null}return e}function Vg(e,t){do{var n=Ve;try{if(ad(),qa.current=Ps,Ds){for(var r=Ie.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ds=!1}if(Mr=0,Ke=We=Ie=null,hi=!1,Oi=0,xd.current=null,n===null||n.return===null){Ye=1,Ii=t,Ve=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Qe,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Qf(a);if(h!==null){h.flags&=-257,Zf(h,a,s,i,t),h.mode&1&&Gf(i,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Gf(i,u,t),_d();break e}l=Error(Y(426))}}else if(Oe&&s.mode&1){var x=Qf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zf(x,a,s,i,t),od(_o(l,s));break e}}i=l=_o(l,s),Ye!==4&&(Ye=2),mi===null?mi=[i]:mi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=kg(i,l,t);Hf(i,m);break e;case 1:s=l;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ng(i,s,t);Hf(i,w);break e}}i=i.return}while(i!==null)}Wg(n)}catch(_){t=_,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Hg(){var e=Ts.current;return Ts.current=Ps,e===null?Ps:e}function _d(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Xe===null||!(br&268435455)&&!(sl&268435455)||zn(Xe,Qe)}function Ls(e,t){var n=Se;Se|=2;var r=Hg();(Xe!==e||Qe!==t)&&(hn=null,Sr(e,t));do try{Lw();break}catch(o){Vg(e,o)}while(!0);if(ad(),Se=n,Ts.current=r,Ve!==null)throw Error(Y(261));return Xe=null,Qe=0,Ye}function Lw(){for(;Ve!==null;)Ug(Ve)}function Iw(){for(;Ve!==null&&!ax();)Ug(Ve)}function Ug(e){var t=Kg(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Wg(e):Ve=t,xd.current=null}function Wg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bw(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ve=null;return}}else if(n=Mw(n,t,pt),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ye===0&&(Ye=5)}function fr(e,t,n){var r=_e,o=bt.transition;try{bt.transition=null,_e=1,Aw(e,t,n,r)}finally{bt.transition=o,_e=r}return null}function Aw(e,t,n,r){do go();while(Bn!==null);if(Se&6)throw Error(Y(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gx(e,i),e===Xe&&(Ve=Xe=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ra||(Ra=!0,Xg(ms,function(){return go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var a=_e;_e=1;var s=Se;Se|=4,xd.current=null,Pw(e,n),Fg(n,e),nw(Yu),ys=!!Wu,Yu=Wu=null,e.current=n,Tw(n),sx(),Se=s,_e=a,bt.transition=i}else e.current=n;if(Ra&&(Ra=!1,Bn=e,Rs=o),i=e.pendingLanes,i===0&&(Xn=null),cx(n.stateNode),ht(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Os)throw Os=!1,e=fc,fc=null,e;return Rs&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===hc?gi++:(gi=0,hc=e):gi=0,nr(),null}function go(){if(Bn!==null){var e=km(Rs),t=bt.transition,n=_e;try{if(bt.transition=null,_e=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Rs=0,Se&6)throw Error(Y(331));var o=Se;for(Se|=4,te=e.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:pi(8,c,i)}var f=c.child;if(f!==null)f.return=c,te=f;else for(;te!==null;){c=te;var d=c.sibling,h=c.return;if(Ag(c),c===u){te=null;break}if(d!==null){d.return=h,te=d;break}te=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,te=m;break e}te=i.return}}var g=e.current;for(te=g;te!==null;){a=te;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,te=p;else e:for(a=g;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:al(9,s)}}catch(_){Fe(s,s.return,_)}if(s===a){te=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break e}te=s.return}}if(Se=o,nr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Js,e)}catch{}r=!0}return r}finally{_e=n,bt.transition=t}}return!1}function ch(e,t,n){t=_o(n,t),t=kg(e,t,1),e=Kn(e,t,1),t=ot(),e!==null&&(Zi(e,1,t),ht(e,t))}function Fe(e,t,n){if(e.tag===3)ch(e,e,n);else for(;t!==null;){if(t.tag===3){ch(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=_o(n,e),e=Ng(t,e,1),t=Kn(t,e,1),e=ot(),t!==null&&(Zi(t,1,e),ht(t,e));break}}t=t.return}}function jw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(Qe&n)===n&&(Ye===4||Ye===3&&(Qe&130023424)===Qe&&500>$e()-Sd?Sr(e,0):wd|=n),ht(e,t)}function Yg(e,t){t===0&&(e.mode&1?(t=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):t=1);var n=ot();e=Cn(e,t),e!==null&&(Zi(e,t,n),ht(e,n))}function zw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yg(e,n)}function Fw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Yg(e,n)}var Kg;Kg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,Nw(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Oe&&t.flags&1048576&&Zm(t,_s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ts(e,t),e=t.pendingProps;var o=wo(t,tt.current);mo(t,n),o=pd(null,t,r,e,o,n);var i=md();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,Es(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ud(t),o.updater=il,t.stateNode=o,o._reactInternals=t,tc(t,r,e,n),t=oc(null,t,r,!0,i,n)):(t.tag=0,Oe&&i&&nd(t),rt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ts(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Bw(r),e=It(r,e),o){case 0:t=rc(null,t,r,e,n);break e;case 1:t=eh(null,t,r,e,n);break e;case 11:t=Jf(null,t,r,e,n);break e;case 14:t=qf(null,t,r,It(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),rc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),eh(e,t,r,o,n);case 3:e:{if(Pg(t),e===null)throw Error(Y(387));r=t.pendingProps,i=t.memoizedState,o=i.element,rg(e,t),Ms(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=_o(Error(Y(423)),t),t=th(e,t,r,n,o);break e}else if(r!==o){o=_o(Error(Y(424)),t),t=th(e,t,r,n,o);break e}else for(yt=Yn(t.stateNode.containerInfo.firstChild),vt=t,Oe=!0,Ft=null,n=tg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===o){t=_n(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return og(t),e===null&&Ju(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Ku(r,o)?a=null:i!==null&&Ku(r,i)&&(t.flags|=32),Dg(e,t),rt(e,t,a,n),t.child;case 6:return e===null&&Ju(t),null;case 13:return Tg(e,t,n);case 4:return cd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Eo(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),Jf(e,t,r,o,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Ne(ks,r._currentValue),r._currentValue=a,i!==null)if(Wt(i.value,a)){if(i.children===o.children&&!dt.current){t=_n(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=vn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qu(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),qu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}rt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,mo(t,n),o=Dt(o),r=r(o),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,o=It(r,t.pendingProps),o=It(r.type,o),qf(e,t,r,o,n);case 15:return Mg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),ts(e,t),t.tag=1,ft(r)?(e=!0,Es(t)):e=!1,mo(t,n),_g(t,r,o),tc(t,r,o,n),oc(null,t,r,!0,e,n);case 19:return Og(e,t,n);case 22:return bg(e,t,n)}throw Error(Y(156,t.tag))};function Xg(e,t){return Sm(e,t)}function $w(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new $w(e,t,n,r)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bw(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uc)return 11;if(e===Wc)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function os(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")kd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zr:return Er(n.children,o,i,t);case Hc:a=8,o|=8;break;case ku:return e=Mt(12,n,t,o|2),e.elementType=ku,e.lanes=i,e;case Nu:return e=Mt(13,n,t,o),e.elementType=Nu,e.lanes=i,e;case Mu:return e=Mt(19,n,t,o),e.elementType=Mu,e.lanes=i,e;case om:return ll(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nm:a=10;break e;case rm:a=9;break e;case Uc:a=11;break e;case Wc:a=14;break e;case In:a=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Mt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Er(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function ll(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=om,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function au(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Nd(e,t,n,r,o,i,a,s,l){return e=new Vw(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(i),e}function Hw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gg(e){if(!e)return Jn;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(ft(n))return Gm(e,n,t)}return t}function Qg(e,t,n,r,o,i,a,s,l){return e=Nd(n,r,!0,e,o,i,a,s,l),e.context=Gg(null),n=e.current,r=ot(),o=Gn(n),i=vn(r,o),i.callback=t??null,Kn(n,i,o),e.current.lanes=o,Zi(e,o,r),ht(e,r),e}function ul(e,t,n,r){var o=t.current,i=ot(),a=Gn(o);return n=Gg(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(o,t,a),e!==null&&(Ht(e,o,a,i),Ja(e,o,a)),a}function Is(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Md(e,t){dh(e,t),(e=e.alternate)&&dh(e,t)}function Uw(){return null}var Zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function bd(e){this._internalRoot=e}cl.prototype.render=bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));ul(e,t,null,null)};cl.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){ul(null,e,null,null)}),t[En]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Pm(e)}};function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fh(){}function Ww(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Is(a);i.call(u)}}var a=Qg(t,r,e,0,null,!1,!1,"",fh);return e._reactRootContainer=a,e[En]=a.current,Mi(e.nodeType===8?e.parentNode:e),Dr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=Is(l);s.call(u)}}var l=Nd(e,0,!1,null,null,!1,!1,"",fh);return e._reactRootContainer=l,e[En]=l.current,Mi(e.nodeType===8?e.parentNode:e),Dr(function(){ul(t,l,n,r)}),l}function fl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=Is(a);s.call(l)}}ul(t,a,e,o)}else a=Ww(n,t,e,o,r);return Is(a)}Nm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ri(t.pendingLanes);n!==0&&(Xc(t,n|1),ht(t,$e()),!(Se&6)&&(ko=$e()+500,nr()))}break;case 13:Dr(function(){var r=Cn(e,1);if(r!==null){var o=ot();Ht(r,e,1,o)}}),Md(e,1)}};Gc=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=ot();Ht(t,e,134217728,n)}Md(e,134217728)}};Mm=function(e){if(e.tag===13){var t=Gn(e),n=Cn(e,t);if(n!==null){var r=ot();Ht(n,e,t,r)}Md(e,t)}};bm=function(){return _e};Dm=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};ju=function(e,t,n){switch(t){case"input":if(Pu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=nl(r);if(!o)throw Error(Y(90));am(r),Pu(r,o)}}}break;case"textarea":lm(e,n);break;case"select":t=n.value,t!=null&&co(e,!!n.multiple,t,!1)}};mm=Ed;gm=Dr;var Yw={usingClientEntryPoint:!1,Events:[qi,to,nl,hm,pm,Ed]},Go={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xm(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||Uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Js=La.inject(Kw),nn=La}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yw;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dd(t))throw Error(Y(200));return Hw(e,t,null,n)};St.createRoot=function(e,t){if(!Dd(e))throw Error(Y(299));var n=!1,r="",o=Zg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Nd(e,1,!1,null,null,n,!1,r,o),e[En]=t.current,Mi(e.nodeType===8?e.parentNode:e),new bd(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=xm(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Dr(e)};St.hydrate=function(e,t,n){if(!dl(t))throw Error(Y(200));return fl(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Dd(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=Zg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Qg(t,null,e,1,n??null,o,!1,i,a),e[En]=t.current,Mi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new cl(t)};St.render=function(e,t,n){if(!dl(t))throw Error(Y(200));return fl(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!dl(e))throw Error(Y(40));return e._reactRootContainer?(Dr(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};St.unstable_batchedUpdates=Ed;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dl(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return fl(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jg)}catch(e){console.error(e)}}Jg(),Jp.exports=St;var Pd=Jp.exports;const Xw=Ic(Pd),Gw=$p({__proto__:null,default:Xw},[Pd]);var qg,hh=Pd;qg=hh.createRoot,hh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}var Be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Be||(Be={}));const ph="popstate";function Qw(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:s}=r.location;return Ai("",{pathname:i,search:a,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Pr(o)}return Jw(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function No(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zw(){return Math.random().toString(36).substr(2,8)}function mh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ai(e,t,n,r){return n===void 0&&(n=null),Te({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rr(t):t,{state:n,key:t&&t.key||r||Zw()})}function Pr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jw(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=Be.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Te({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Be.Pop;let x=c(),m=x==null?null:x-u;u=x,l&&l({action:s,location:y.location,delta:m})}function d(x,m){s=Be.Push;let g=Ai(y.location,x,m);u=c()+1;let p=mh(g,u),w=y.createHref(g);try{a.pushState(p,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(w)}i&&l&&l({action:s,location:y.location,delta:1})}function h(x,m){s=Be.Replace;let g=Ai(y.location,x,m);u=c();let p=mh(g,u),w=y.createHref(g);a.replaceState(p,"",w),i&&l&&l({action:s,location:y.location,delta:0})}function v(x){let m=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof x=="string"?x:Pr(x);return g=g.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return s},get location(){return e(o,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(ph,f),l=x,()=>{o.removeEventListener(ph,f),l=null}},createHref(x){return t(o,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(x){return a.go(x)}};return y}var Ce;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ce||(Ce={}));const qw=new Set(["lazy","caseSensitive","path","id","index","children"]);function e1(e){return e.index===!0}function As(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let a=[...n,String(i)],s=typeof o.id=="string"?o.id:a.join("-");if(ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),ge(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),e1(o)){let l=Te({},o,t(o),{id:s});return r[s]=l,l}else{let l=Te({},o,t(o),{id:s,children:void 0});return r[s]=l,o.children&&(l.children=As(o.children,t,a,r)),l}})}function pr(e,t,n){return n===void 0&&(n="/"),is(e,t,n,!1)}function is(e,t,n,r){let o=typeof t=="string"?rr(t):t,i=zo(o.pathname||"/",n);if(i==null)return null;let a=ey(e);n1(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=h1(i);s=d1(a[l],u,r)}return s}function t1(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function ey(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ey(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u1(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,a);else for(let l of ty(i.path))o(i,a,l)}),t}function ty(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=ty(r.join("/")),s=[];return s.push(...a.map(l=>l===""?i:[i,l].join("/"))),o&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function n1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:c1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r1=/^:[\w-]+$/,o1=3,i1=2,a1=1,s1=10,l1=-2,gh=e=>e==="*";function u1(e,t){let n=e.split("/"),r=n.length;return n.some(gh)&&(r+=l1),t&&(r+=i1),n.filter(o=>!gh(o)).reduce((o,i)=>o+(r1.test(i)?o1:i===""?a1:s1),r)}function c1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function d1(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=yh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(o,f.params),a.push({params:o,pathname:xn([i,f.pathname]),pathnameBase:g1(xn([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=xn([i,f.pathnameBase]))}return a}function yh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=s[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function f1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),No(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function h1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return No(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function p1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?rr(e):e;return{pathname:n?n.startsWith("/")?n:m1(n,t):t,search:y1(r),hash:v1(o)}}function m1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function su(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ny(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Td(e,t){let n=ny(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Od(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=rr(e):(o=Te({},e),ge(!o.pathname||!o.pathname.includes("?"),su("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),su("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),su("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=p1(o,s),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const xn=e=>e.join("/").replace(/\/\/+/g,"/"),g1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class js{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ji(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ry=["post","put","patch","delete"],x1=new Set(ry),w1=["get",...ry],S1=new Set(w1),E1=new Set([301,302,303,307,308]),C1=new Set([307,308]),lu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Rd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),oy="remix-router-transitions";function N1(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ge(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let P=e.detectErrorBoundary;o=j=>({hasErrorBoundary:P(j)})}else o=k1;let i={},a=As(e.routes,o,void 0,i),s,l=e.basename||"/",u=e.dataStrategy||P1,c=e.patchRoutesOnNavigation,f=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,h=new Set,v=null,y=null,x=null,m=e.hydrationData!=null,g=pr(a,e.history.location,l),p=!1,w=null;if(g==null&&!c){let P=st(404,{pathname:e.history.location.pathname}),{matches:j,route:V}=bh(a);g=j,w={[V.id]:P}}g&&!e.hydrationData&&Vr(g,a,e.history.location.pathname).active&&(g=null);let _;if(g)if(g.some(P=>P.route.lazy))_=!1;else if(!g.some(P=>P.route.loader))_=!0;else if(f.v7_partialHydration){let P=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let V=g.findIndex(W=>j[W.route.id]!==void 0);_=g.slice(0,V+1).every(W=>!yc(W.route,P,j))}else _=g.every(V=>!yc(V.route,P,j))}else _=e.hydrationData!=null;else if(_=!1,g=[],f.v7_partialHydration){let P=Vr(null,a,e.history.location.pathname);P.active&&P.matches&&(p=!0,g=P.matches)}let N,S={historyAction:e.history.action,location:e.history.location,matches:g,initialized:_,navigation:lu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},M=Be.Pop,L=!1,I,H=!1,z=new Map,B=null,C=!1,T=!1,O=[],R=new Set,D=new Map,b=0,A=-1,F=new Map,U=new Set,K=new Map,X=new Map,q=new Set,re=new Map,Q=new Map,$;function Z(){if(d=e.history.listen(P=>{let{action:j,location:V,delta:W}=P;if($){$(),$=void 0;return}No(Q.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=fa({currentLocation:S.location,nextLocation:V,historyAction:j});if(G&&W!=null){let se=new Promise(de=>{$=de});e.history.go(W*-1),Br(G,{state:"blocked",location:V,proceed(){Br(G,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),se.then(()=>e.history.go(W))},reset(){let de=new Map(S.blockers);de.set(G,Qo),J({blockers:de})}});return}return ye(j,V)}),n){U1(t,z);let P=()=>W1(t,z);t.addEventListener("pagehide",P),B=()=>t.removeEventListener("pagehide",P)}return S.initialized||ye(Be.Pop,S.location,{initialHydration:!0}),N}function ce(){d&&d(),B&&B(),h.clear(),I&&I.abort(),S.fetchers.forEach((P,j)=>$r(j)),S.blockers.forEach((P,j)=>da(j))}function fe(P){return h.add(P),()=>h.delete(P)}function J(P,j){j===void 0&&(j={}),S=Te({},S,P);let V=[],W=[];f.v7_fetcherPersist&&S.fetchers.forEach((G,se)=>{G.state==="idle"&&(q.has(se)?W.push(se):V.push(se))}),q.forEach(G=>{!S.fetchers.has(G)&&!D.has(G)&&W.push(G)}),[...h].forEach(G=>G(S,{deletedFetchers:W,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),f.v7_fetcherPersist?(V.forEach(G=>S.fetchers.delete(G)),W.forEach(G=>$r(G))):W.forEach(G=>q.delete(G))}function ie(P,j,V){var W,G;let{flushSync:se}=V===void 0?{}:V,de=S.actionData!=null&&S.navigation.formMethod!=null&&jt(S.navigation.formMethod)&&S.navigation.state==="loading"&&((W=P.state)==null?void 0:W._isRedirect)!==!0,ne;j.actionData?Object.keys(j.actionData).length>0?ne=j.actionData:ne=null:de?ne=S.actionData:ne=null;let oe=j.loaderData?Nh(S.loaderData,j.loaderData,j.matches||[],j.errors):S.loaderData,ee=S.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((pe,Ue)=>ee.set(Ue,Qo)));let ae=L===!0||S.navigation.formMethod!=null&&jt(S.navigation.formMethod)&&((G=P.state)==null?void 0:G._isRedirect)!==!0;s&&(a=s,s=void 0),C||M===Be.Pop||(M===Be.Push?e.history.push(P,P.state):M===Be.Replace&&e.history.replace(P,P.state));let he;if(M===Be.Pop){let pe=z.get(S.location.pathname);pe&&pe.has(P.pathname)?he={currentLocation:S.location,nextLocation:P}:z.has(P.pathname)&&(he={currentLocation:P,nextLocation:S.location})}else if(H){let pe=z.get(S.location.pathname);pe?pe.add(P.pathname):(pe=new Set([P.pathname]),z.set(S.location.pathname,pe)),he={currentLocation:S.location,nextLocation:P}}J(Te({},j,{actionData:ne,loaderData:oe,historyAction:M,location:P,initialized:!0,navigation:lu,revalidation:"idle",restoreScrollPosition:ma(P,j.matches||S.matches),preventScrollReset:ae,blockers:ee}),{viewTransitionOpts:he,flushSync:se===!0}),M=Be.Pop,L=!1,H=!1,C=!1,T=!1,O=[]}async function ue(P,j){if(typeof P=="number"){e.history.go(P);return}let V=gc(S.location,S.matches,l,f.v7_prependBasename,P,f.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:W,submission:G,error:se}=vh(f.v7_normalizeFormMethod,!1,V,j),de=S.location,ne=Ai(S.location,W,j&&j.state);ne=Te({},ne,e.history.encodeLocation(ne));let oe=j&&j.replace!=null?j.replace:void 0,ee=Be.Push;oe===!0?ee=Be.Replace:oe===!1||G!=null&&jt(G.formMethod)&&G.formAction===S.location.pathname+S.location.search&&(ee=Be.Replace);let ae=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,he=(j&&j.flushSync)===!0,pe=fa({currentLocation:de,nextLocation:ne,historyAction:ee});if(pe){Br(pe,{state:"blocked",location:ne,proceed(){Br(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),ue(P,j)},reset(){let Ue=new Map(S.blockers);Ue.set(pe,Qo),J({blockers:Ue})}});return}return await ye(ee,ne,{submission:G,pendingError:se,preventScrollReset:ae,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:he})}function Ee(){if(cn(),J({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){ye(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}ye(M||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:H===!0})}}async function ye(P,j,V){I&&I.abort(),I=null,M=P,C=(V&&V.startUninterruptedRevalidation)===!0,pa(S.location,S.matches),L=(V&&V.preventScrollReset)===!0,H=(V&&V.enableViewTransition)===!0;let W=s||a,G=V&&V.overrideNavigation,se=V!=null&&V.initialHydration&&S.matches&&S.matches.length>0&&!p?S.matches:pr(W,j,l),de=(V&&V.flushSync)===!0;if(se&&S.initialized&&!T&&A1(S.location,j)&&!(V&&V.submission&&jt(V.submission.formMethod))){ie(j,{matches:se},{flushSync:de});return}let ne=Vr(se,W,j.pathname);if(ne.active&&ne.matches&&(se=ne.matches),!se){let{error:ke,notFoundMatches:we,route:Pe}=Fo(j.pathname);ie(j,{matches:we,loaderData:{},errors:{[Pe.id]:ke}},{flushSync:de});return}I=new AbortController;let oe=Kr(e.history,j,I.signal,V&&V.submission),ee;if(V&&V.pendingError)ee=[mr(se).route.id,{type:Ce.error,error:V.pendingError}];else if(V&&V.submission&&jt(V.submission.formMethod)){let ke=await nt(oe,j,V.submission,se,ne.active,{replace:V.replace,flushSync:de});if(ke.shortCircuited)return;if(ke.pendingActionResult){let[we,Pe]=ke.pendingActionResult;if(mt(Pe)&&ji(Pe.error)&&Pe.error.status===404){I=null,ie(j,{matches:ke.matches,loaderData:{},errors:{[we]:Pe.error}});return}}se=ke.matches||se,ee=ke.pendingActionResult,G=uu(j,V.submission),de=!1,ne.active=!1,oe=Kr(e.history,oe.url,oe.signal)}let{shortCircuited:ae,matches:he,loaderData:pe,errors:Ue}=await Kt(oe,j,se,ne.active,G,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,de,ee);ae||(I=null,ie(j,Te({matches:he||se},Mh(ee),{loaderData:pe,errors:Ue})))}async function nt(P,j,V,W,G,se){se===void 0&&(se={}),cn();let de=V1(j,V);if(J({navigation:de},{flushSync:se.flushSync===!0}),G){let ee=await Hr(W,j.pathname,P.signal);if(ee.type==="aborted")return{shortCircuited:!0};if(ee.type==="error"){let ae=mr(ee.partialMatches).route.id;return{matches:ee.partialMatches,pendingActionResult:[ae,{type:Ce.error,error:ee.error}]}}else if(ee.matches)W=ee.matches;else{let{notFoundMatches:ae,error:he,route:pe}=Fo(j.pathname);return{matches:ae,pendingActionResult:[pe.id,{type:Ce.error,error:he}]}}}let ne,oe=ii(W,j);if(!oe.route.action&&!oe.route.lazy)ne={type:Ce.error,error:st(405,{method:P.method,pathname:j.pathname,routeId:oe.route.id})};else if(ne=(await Xt("action",S,P,[oe],W,null))[oe.route.id],P.signal.aborted)return{shortCircuited:!0};if(xr(ne)){let ee;return se&&se.replace!=null?ee=se.replace:ee=Ch(ne.response.headers.get("Location"),new URL(P.url),l)===S.location.pathname+S.location.search,await Tt(P,ne,!0,{submission:V,replace:ee}),{shortCircuited:!0}}if(Vn(ne))throw st(400,{type:"defer-action"});if(mt(ne)){let ee=mr(W,oe.route.id);return(se&&se.replace)!==!0&&(M=Be.Push),{matches:W,pendingActionResult:[ee.route.id,ne]}}return{matches:W,pendingActionResult:[oe.route.id,ne]}}async function Kt(P,j,V,W,G,se,de,ne,oe,ee,ae){let he=G||uu(j,se),pe=se||de||Ph(he),Ue=!C&&(!f.v7_partialHydration||!oe);if(W){if(Ue){let Me=ln(ae);J(Te({navigation:he},Me!==void 0?{actionData:Me}:{}),{flushSync:ee})}let ve=await Hr(V,j.pathname,P.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let Me=mr(ve.partialMatches).route.id;return{matches:ve.partialMatches,loaderData:{},errors:{[Me]:ve.error}}}else if(ve.matches)V=ve.matches;else{let{error:Me,notFoundMatches:Dn,route:cr}=Fo(j.pathname);return{matches:Dn,loaderData:{},errors:{[cr.id]:Me}}}}let ke=s||a,[we,Pe]=wh(e.history,S,V,pe,j,f.v7_partialHydration&&oe===!0,f.v7_skipActionErrorRevalidation,T,O,R,q,K,U,ke,l,ae);if($o(ve=>!(V&&V.some(Me=>Me.route.id===ve))||we&&we.some(Me=>Me.route.id===ve)),A=++b,we.length===0&&Pe.length===0){let ve=ua();return ie(j,Te({matches:V,loaderData:{},errors:ae&&mt(ae[1])?{[ae[0]]:ae[1].error}:null},Mh(ae),ve?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(Ue){let ve={};if(!W){ve.navigation=he;let Me=ln(ae);Me!==void 0&&(ve.actionData=Me)}Pe.length>0&&(ve.fetchers=or(Pe)),J(ve,{flushSync:ee})}Pe.forEach(ve=>{Gt(ve.key),ve.controller&&D.set(ve.key,ve.controller)});let bn=()=>Pe.forEach(ve=>Gt(ve.key));I&&I.signal.addEventListener("abort",bn);let{loaderResults:lr,fetcherResults:Ct}=await un(S,V,we,Pe,P);if(P.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",bn),Pe.forEach(ve=>D.delete(ve.key));let _t=Ia(lr);if(_t)return await Tt(P,_t.result,!0,{replace:ne}),{shortCircuited:!0};if(_t=Ia(Ct),_t)return U.add(_t.key),await Tt(P,_t.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:Bo,errors:ur}=kh(S,V,lr,ae,Pe,Ct,re);re.forEach((ve,Me)=>{ve.subscribe(Dn=>{(Dn||ve.done)&&re.delete(Me)})}),f.v7_partialHydration&&oe&&S.errors&&(ur=Te({},S.errors,ur));let dn=ua(),Ur=ca(A),Wr=dn||Ur||Pe.length>0;return Te({matches:V,loaderData:Bo,errors:ur},Wr?{fetchers:new Map(S.fetchers)}:{})}function ln(P){if(P&&!mt(P[1]))return{[P[0]]:P[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function or(P){return P.forEach(j=>{let V=S.fetchers.get(j.key),W=Zo(void 0,V?V.data:void 0);S.fetchers.set(j.key,W)}),new Map(S.fetchers)}function ir(P,j,V,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Gt(P);let G=(W&&W.flushSync)===!0,se=s||a,de=gc(S.location,S.matches,l,f.v7_prependBasename,V,f.v7_relativeSplatPath,j,W==null?void 0:W.relative),ne=pr(se,de,l),oe=Vr(ne,se,de);if(oe.active&&oe.matches&&(ne=oe.matches),!ne){Rt(P,j,st(404,{pathname:de}),{flushSync:G});return}let{path:ee,submission:ae,error:he}=vh(f.v7_normalizeFormMethod,!0,de,W);if(he){Rt(P,j,he,{flushSync:G});return}let pe=ii(ne,ee),Ue=(W&&W.preventScrollReset)===!0;if(ae&&jt(ae.formMethod)){ar(P,j,ee,pe,ne,oe.active,G,Ue,ae);return}K.set(P,{routeId:j,path:ee}),sr(P,j,ee,pe,ne,oe.active,G,Ue,ae)}async function ar(P,j,V,W,G,se,de,ne,oe){cn(),K.delete(P);function ee(ze){if(!ze.route.action&&!ze.route.lazy){let Pn=st(405,{method:oe.formMethod,pathname:V,routeId:j});return Rt(P,j,Pn,{flushSync:de}),!0}return!1}if(!se&&ee(W))return;let ae=S.fetchers.get(P);Ot(P,H1(oe,ae),{flushSync:de});let he=new AbortController,pe=Kr(e.history,V,he.signal,oe);if(se){let ze=await Hr(G,new URL(pe.url).pathname,pe.signal,P);if(ze.type==="aborted")return;if(ze.type==="error"){Rt(P,j,ze.error,{flushSync:de});return}else if(ze.matches){if(G=ze.matches,W=ii(G,V),ee(W))return}else{Rt(P,j,st(404,{pathname:V}),{flushSync:de});return}}D.set(P,he);let Ue=b,we=(await Xt("action",S,pe,[W],G,P))[W.route.id];if(pe.signal.aborted){D.get(P)===he&&D.delete(P);return}if(f.v7_fetcherPersist&&q.has(P)){if(xr(we)||mt(we)){Ot(P,Ln(void 0));return}}else{if(xr(we))if(D.delete(P),A>Ue){Ot(P,Ln(void 0));return}else return U.add(P),Ot(P,Zo(oe)),Tt(pe,we,!1,{fetcherSubmission:oe,preventScrollReset:ne});if(mt(we)){Rt(P,j,we.error);return}}if(Vn(we))throw st(400,{type:"defer-action"});let Pe=S.navigation.location||S.location,bn=Kr(e.history,Pe,he.signal),lr=s||a,Ct=S.navigation.state!=="idle"?pr(lr,S.navigation.location,l):S.matches;ge(Ct,"Didn't find any matches after fetcher action");let _t=++b;F.set(P,_t);let Bo=Zo(oe,we.data);S.fetchers.set(P,Bo);let[ur,dn]=wh(e.history,S,Ct,oe,Pe,!1,f.v7_skipActionErrorRevalidation,T,O,R,q,K,U,lr,l,[W.route.id,we]);dn.filter(ze=>ze.key!==P).forEach(ze=>{let Pn=ze.key,ga=S.fetchers.get(Pn),Rl=Zo(void 0,ga?ga.data:void 0);S.fetchers.set(Pn,Rl),Gt(Pn),ze.controller&&D.set(Pn,ze.controller)}),J({fetchers:new Map(S.fetchers)});let Ur=()=>dn.forEach(ze=>Gt(ze.key));he.signal.addEventListener("abort",Ur);let{loaderResults:Wr,fetcherResults:ve}=await un(S,Ct,ur,dn,bn);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Ur),F.delete(P),D.delete(P),dn.forEach(ze=>D.delete(ze.key));let Me=Ia(Wr);if(Me)return Tt(bn,Me.result,!1,{preventScrollReset:ne});if(Me=Ia(ve),Me)return U.add(Me.key),Tt(bn,Me.result,!1,{preventScrollReset:ne});let{loaderData:Dn,errors:cr}=kh(S,Ct,Wr,void 0,dn,ve,re);if(S.fetchers.has(P)){let ze=Ln(we.data);S.fetchers.set(P,ze)}ca(_t),S.navigation.state==="loading"&&_t>A?(ge(M,"Expected pending action"),I&&I.abort(),ie(S.navigation.location,{matches:Ct,loaderData:Dn,errors:cr,fetchers:new Map(S.fetchers)})):(J({errors:cr,loaderData:Nh(S.loaderData,Dn,Ct,cr),fetchers:new Map(S.fetchers)}),T=!1)}async function sr(P,j,V,W,G,se,de,ne,oe){let ee=S.fetchers.get(P);Ot(P,Zo(oe,ee?ee.data:void 0),{flushSync:de});let ae=new AbortController,he=Kr(e.history,V,ae.signal);if(se){let we=await Hr(G,new URL(he.url).pathname,he.signal,P);if(we.type==="aborted")return;if(we.type==="error"){Rt(P,j,we.error,{flushSync:de});return}else if(we.matches)G=we.matches,W=ii(G,V);else{Rt(P,j,st(404,{pathname:V}),{flushSync:de});return}}D.set(P,ae);let pe=b,ke=(await Xt("loader",S,he,[W],G,P))[W.route.id];if(Vn(ke)&&(ke=await Ld(ke,he.signal,!0)||ke),D.get(P)===ae&&D.delete(P),!he.signal.aborted){if(q.has(P)){Ot(P,Ln(void 0));return}if(xr(ke))if(A>pe){Ot(P,Ln(void 0));return}else{U.add(P),await Tt(he,ke,!1,{preventScrollReset:ne});return}if(mt(ke)){Rt(P,j,ke.error);return}ge(!Vn(ke),"Unhandled fetcher deferred data"),Ot(P,Ln(ke.data))}}async function Tt(P,j,V,W){let{submission:G,fetcherSubmission:se,preventScrollReset:de,replace:ne}=W===void 0?{}:W;j.response.headers.has("X-Remix-Revalidate")&&(T=!0);let oe=j.response.headers.get("Location");ge(oe,"Expected a Location header on the redirect Response"),oe=Ch(oe,new URL(P.url),l);let ee=Ai(S.location,oe,{_isRedirect:!0});if(n){let we=!1;if(j.response.headers.has("X-Remix-Reload-Document"))we=!0;else if(Rd.test(oe)){const Pe=e.history.createURL(oe);we=Pe.origin!==t.location.origin||zo(Pe.pathname,l)==null}if(we){ne?t.location.replace(oe):t.location.assign(oe);return}}I=null;let ae=ne===!0||j.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:he,formAction:pe,formEncType:Ue}=S.navigation;!G&&!se&&he&&pe&&Ue&&(G=Ph(S.navigation));let ke=G||se;if(C1.has(j.response.status)&&ke&&jt(ke.formMethod))await ye(ae,ee,{submission:Te({},ke,{formAction:oe}),preventScrollReset:de||L,enableViewTransition:V?H:void 0});else{let we=uu(ee,G);await ye(ae,ee,{overrideNavigation:we,fetcherSubmission:se,preventScrollReset:de||L,enableViewTransition:V?H:void 0})}}async function Xt(P,j,V,W,G,se){let de,ne={};try{de=await T1(u,P,j,V,W,G,se,i,o)}catch(oe){return W.forEach(ee=>{ne[ee.route.id]={type:Ce.error,error:oe}}),ne}for(let[oe,ee]of Object.entries(de))if(j1(ee)){let ae=ee.result;ne[oe]={type:Ce.redirect,response:L1(ae,V,oe,G,l,f.v7_relativeSplatPath)}}else ne[oe]=await R1(ee);return ne}async function un(P,j,V,W,G){let se=P.matches,de=Xt("loader",P,G,V,j,null),ne=Promise.all(W.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let pe=(await Xt("loader",P,Kr(e.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:pe}}else return Promise.resolve({[ae.key]:{type:Ce.error,error:st(404,{pathname:ae.path})}})})),oe=await de,ee=(await ne).reduce((ae,he)=>Object.assign(ae,he),{});return await Promise.all([$1(j,oe,G.signal,se,P.loaderData),B1(j,ee,W)]),{loaderResults:oe,fetcherResults:ee}}function cn(){T=!0,O.push(...$o()),K.forEach((P,j)=>{D.has(j)&&R.add(j),Gt(j)})}function Ot(P,j,V){V===void 0&&(V={}),S.fetchers.set(P,j),J({fetchers:new Map(S.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Rt(P,j,V,W){W===void 0&&(W={});let G=mr(S.matches,j);$r(P),J({errors:{[G.route.id]:V},fetchers:new Map(S.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function Fr(P){return X.set(P,(X.get(P)||0)+1),q.has(P)&&q.delete(P),S.fetchers.get(P)||_1}function $r(P){let j=S.fetchers.get(P);D.has(P)&&!(j&&j.state==="loading"&&F.has(P))&&Gt(P),K.delete(P),F.delete(P),U.delete(P),f.v7_fetcherPersist&&q.delete(P),R.delete(P),S.fetchers.delete(P)}function bl(P){let j=(X.get(P)||0)-1;j<=0?(X.delete(P),q.add(P),f.v7_fetcherPersist||$r(P)):X.set(P,j),J({fetchers:new Map(S.fetchers)})}function Gt(P){let j=D.get(P);j&&(j.abort(),D.delete(P))}function la(P){for(let j of P){let V=Fr(j),W=Ln(V.data);S.fetchers.set(j,W)}}function ua(){let P=[],j=!1;for(let V of U){let W=S.fetchers.get(V);ge(W,"Expected fetcher: "+V),W.state==="loading"&&(U.delete(V),P.push(V),j=!0)}return la(P),j}function ca(P){let j=[];for(let[V,W]of F)if(W<P){let G=S.fetchers.get(V);ge(G,"Expected fetcher: "+V),G.state==="loading"&&(Gt(V),F.delete(V),j.push(V))}return la(j),j.length>0}function Dl(P,j){let V=S.blockers.get(P)||Qo;return Q.get(P)!==j&&Q.set(P,j),V}function da(P){S.blockers.delete(P),Q.delete(P)}function Br(P,j){let V=S.blockers.get(P)||Qo;ge(V.state==="unblocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="blocked"||V.state==="blocked"&&j.state==="proceeding"||V.state==="blocked"&&j.state==="unblocked"||V.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+j.state);let W=new Map(S.blockers);W.set(P,j),J({blockers:W})}function fa(P){let{currentLocation:j,nextLocation:V,historyAction:W}=P;if(Q.size===0)return;Q.size>1&&No(!1,"A router only supports one blocker at a time");let G=Array.from(Q.entries()),[se,de]=G[G.length-1],ne=S.blockers.get(se);if(!(ne&&ne.state==="proceeding")&&de({currentLocation:j,nextLocation:V,historyAction:W}))return se}function Fo(P){let j=st(404,{pathname:P}),V=s||a,{matches:W,route:G}=bh(V);return $o(),{notFoundMatches:W,route:G,error:j}}function $o(P){let j=[];return re.forEach((V,W)=>{(!P||P(W))&&(V.cancel(),j.push(W),re.delete(W))}),j}function Pl(P,j,V){if(v=P,x=j,y=V||null,!m&&S.navigation===lu){m=!0;let W=ma(S.location,S.matches);W!=null&&J({restoreScrollPosition:W})}return()=>{v=null,x=null,y=null}}function ha(P,j){return y&&y(P,j.map(W=>t1(W,S.loaderData)))||P.key}function pa(P,j){if(v&&x){let V=ha(P,j);v[V]=x()}}function ma(P,j){if(v){let V=ha(P,j),W=v[V];if(typeof W=="number")return W}return null}function Vr(P,j,V){if(c)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:is(j,V,l,!0)}}else return{active:!0,matches:is(j,V,l,!0)||[]};return{active:!1,matches:null}}async function Hr(P,j,V,W){if(!c)return{type:"success",matches:P};let G=P;for(;;){let se=s==null,de=s||a,ne=i;try{await c({signal:V,path:j,matches:G,fetcherKey:W,patch:(ae,he)=>{V.aborted||Eh(ae,he,de,ne,o)}})}catch(ae){return{type:"error",error:ae,partialMatches:G}}finally{se&&!V.aborted&&(a=[...a])}if(V.aborted)return{type:"aborted"};let oe=pr(de,j,l);if(oe)return{type:"success",matches:oe};let ee=is(de,j,l,!0);if(!ee||G.length===ee.length&&G.every((ae,he)=>ae.route.id===ee[he].route.id))return{type:"success",matches:null};G=ee}}function Tl(P){i={},s=As(P,o,void 0,i)}function Ol(P,j){let V=s==null;Eh(P,j,s||a,i,o),V&&(a=[...a],J({}))}return N={get basename(){return l},get future(){return f},get state(){return S},get routes(){return a},get window(){return t},initialize:Z,subscribe:fe,enableScrollRestoration:Pl,navigate:ue,fetch:ir,revalidate:Ee,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:Fr,deleteFetcher:bl,dispose:ce,getBlocker:Dl,deleteBlocker:da,patchRoutes:Ol,_internalFetchControllers:D,_internalActiveDeferreds:re,_internalSetRoutes:Tl},N}function M1(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function gc(e,t,n,r,o,i,a,s){let l,u;if(a){l=[];for(let f of t)if(l.push(f),f.route.id===a){u=f;break}}else l=t,u=t[t.length-1];let c=Od(o||".",Td(l,i),zo(e.pathname,n)||e.pathname,s==="path");if(o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&u){let f=Id(c.search);if(u.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();c.search=v?"?"+v:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:xn([n,c.pathname])),Pr(c)}function vh(e,t,n,r){if(!r||!M1(r))return{path:n};if(r.formMethod&&!F1(r.formMethod))return{path:n,error:st(405,{method:r.formMethod})};let o=()=>({path:n,error:st(400,{type:"invalid-body"})}),i=r.formMethod||"get",a=e?i.toUpperCase():i.toLowerCase(),s=sy(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!jt(a))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,v)=>{let[y,x]=v;return""+h+y+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!jt(a))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=vc(r.formData),u=r.formData;else if(r.body instanceof FormData)l=vc(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=_h(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=_h(l)}catch{return o()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(jt(c.formMethod))return{path:n,submission:c};let f=rr(n);return t&&f.search&&Id(f.search)&&l.append("index",""),f.search="?"+l,{path:Pr(f),submission:c}}function xh(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(o=>o.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function wh(e,t,n,r,o,i,a,s,l,u,c,f,d,h,v,y){let x=y?mt(y[1])?y[1].error:y[1].data:void 0,m=e.createURL(t.location),g=e.createURL(o),p=n;i&&t.errors?p=xh(n,Object.keys(t.errors)[0],!0):y&&mt(y[1])&&(p=xh(n,y[0]));let w=y?y[1].statusCode:void 0,_=a&&w&&w>=400,N=p.filter((M,L)=>{let{route:I}=M;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return yc(I,t.loaderData,t.errors);if(b1(t.loaderData,t.matches[L],M)||l.some(B=>B===M.route.id))return!0;let H=t.matches[L],z=M;return Sh(M,Te({currentUrl:m,currentParams:H.params,nextUrl:g,nextParams:z.params},r,{actionResult:x,actionStatus:w,defaultShouldRevalidate:_?!1:s||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||iy(H,z)}))}),S=[];return f.forEach((M,L)=>{if(i||!n.some(C=>C.route.id===M.routeId)||c.has(L))return;let I=pr(h,M.path,v);if(!I){S.push({key:L,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let H=t.fetchers.get(L),z=ii(I,M.path),B=!1;d.has(L)?B=!1:u.has(L)?(u.delete(L),B=!0):H&&H.state!=="idle"&&H.data===void 0?B=s:B=Sh(z,Te({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:w,defaultShouldRevalidate:_?!1:s})),B&&S.push({key:L,routeId:M.routeId,path:M.path,matches:I,match:z,controller:new AbortController})}),[N,S]}function yc(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,o=n!=null&&n[e.id]!==void 0;return!r&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!o}function b1(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function iy(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Sh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Eh(e,t,n,r,o){var i;let a;if(e){let u=r[e];ge(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),a=u.children}else a=n;let s=t.filter(u=>!a.some(c=>ay(u,c))),l=As(s,o,[e||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],r);a.push(...l)}function ay(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var o;return(o=t.children)==null?void 0:o.some(i=>ay(n,i))}):!1}async function D1(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];ge(o,"No route found in manifest");let i={};for(let a in r){let l=o[a]!==void 0&&a!=="hasErrorBoundary";No(!l,'Route "'+o.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!qw.has(a)&&(i[a]=r[a])}Object.assign(o,i),Object.assign(o,Te({},t(o),{lazy:void 0}))}async function P1(e){let{matches:t}=e,n=t.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,i,a)=>Object.assign(o,{[n[a].route.id]:i}),{})}async function T1(e,t,n,r,o,i,a,s,l,u){let c=i.map(h=>h.route.lazy?D1(h.route,l,s):void 0),f=i.map((h,v)=>{let y=c[v],x=o.some(g=>g.route.id===h.route.id);return Te({},h,{shouldLoad:x,resolve:async g=>(g&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(x=!0),x?O1(t,r,h,y,g,u):Promise.resolve({type:Ce.data,result:void 0}))})}),d=await e({matches:f,request:r,params:i[0].params,fetcherKey:a,context:u});try{await Promise.all(c)}catch{}return d}async function O1(e,t,n,r,o,i){let a,s,l=u=>{let c,f=new Promise((v,y)=>c=y);s=()=>c(),t.signal.addEventListener("abort",s);let d=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...v!==void 0?[v]:[]),h=(async()=>{try{return{type:"data",result:await(o?o(y=>d(y)):d())}}catch(v){return{type:"error",result:v}}})();return Promise.race([h,f])};try{let u=n.route[e];if(r)if(u){let c,[f]=await Promise.all([l(u).catch(d=>{c=d}),r]);if(c!==void 0)throw c;a=f}else if(await r,u=n.route[e],u)a=await l(u);else if(e==="action"){let c=new URL(t.url),f=c.pathname+c.search;throw st(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Ce.data,result:void 0};else if(u)a=await l(u);else{let c=new URL(t.url),f=c.pathname+c.search;throw st(404,{pathname:f})}ge(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ce.error,result:u}}finally{s&&t.signal.removeEventListener("abort",s)}return a}async function R1(e){let{result:t,type:n}=e;if(ly(t)){let f;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(d){return{type:Ce.error,error:d}}return n===Ce.error?{type:Ce.error,error:new js(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Ce.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Ce.error){if(Dh(t)){var r,o;if(t.data instanceof Error){var i,a;return{type:Ce.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:Ce.error,error:new js(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:ji(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Ce.error,error:t,statusCode:ji(t)?t.status:void 0}}if(z1(t)){var s,l;return{type:Ce.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Dh(t)){var u,c;return{type:Ce.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:Ce.data,data:t}}function L1(e,t,n,r,o,i){let a=e.headers.get("Location");if(ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rd.test(a)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=gc(new URL(t.url),s,o,!0,a,i),e.headers.set("Location",a)}return e}function Ch(e,t,n){if(Rd.test(e)){let r=e,o=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=zo(o.pathname,n)!=null;if(o.origin===t.origin&&i)return o.pathname+o.search+o.hash}return e}function Kr(e,t,n,r){let o=e.createURL(sy(t)).toString(),i={signal:n};if(r&&jt(r.formMethod)){let{formMethod:a,formEncType:s}=r;i.method=a.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=vc(r.formData):i.body=r.formData}return new Request(o,i)}function vc(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _h(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function I1(e,t,n,r,o){let i={},a=null,s,l=!1,u={},c=n&&mt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let d=f.route.id,h=t[d];if(ge(!xr(h),"Cannot handle redirect results in processLoaderData"),mt(h)){let v=h.error;c!==void 0&&(v=c,c=void 0),a=a||{};{let y=mr(e,d);a[y.route.id]==null&&(a[y.route.id]=v)}i[d]=void 0,l||(l=!0,s=ji(h.error)?h.error.status:500),h.headers&&(u[d]=h.headers)}else Vn(h)?(r.set(d,h.deferredData),i[d]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(u[d]=h.headers)):(i[d]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(u[d]=h.headers))}),c!==void 0&&n&&(a={[n[0]]:c},i[n[0]]=void 0),{loaderData:i,errors:a,statusCode:s||200,loaderHeaders:u}}function kh(e,t,n,r,o,i,a){let{loaderData:s,errors:l}=I1(t,n,r,a);return o.forEach(u=>{let{key:c,match:f,controller:d}=u,h=i[c];if(ge(h,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(mt(h)){let v=mr(e.matches,f==null?void 0:f.route.id);l&&l[v.route.id]||(l=Te({},l,{[v.route.id]:h.error})),e.fetchers.delete(c)}else if(xr(h))ge(!1,"Unhandled fetcher revalidation redirect");else if(Vn(h))ge(!1,"Unhandled fetcher deferred data");else{let v=Ln(h.data);e.fetchers.set(c,v)}}),{loaderData:s,errors:l}}function Nh(e,t,n,r){let o=Te({},t);for(let i of n){let a=i.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(o[a]=t[a]):e[a]!==void 0&&i.route.loader&&(o[a]=e[a]),r&&r.hasOwnProperty(a))break}return o}function Mh(e){return e?mt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function mr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function bh(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function st(e,t){let{pathname:n,routeId:r,method:o,type:i,message:a}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new js(e||500,s,new Error(l),!0)}function Ia(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,o]=t[n];if(xr(o))return{key:r,result:o}}}function sy(e){let t=typeof e=="string"?rr(e):e;return Pr(Te({},t,{hash:""}))}function A1(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function j1(e){return ly(e.result)&&E1.has(e.result.status)}function Vn(e){return e.type===Ce.deferred}function mt(e){return e.type===Ce.error}function xr(e){return(e&&e.type)===Ce.redirect}function Dh(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function z1(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ly(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function F1(e){return S1.has(e.toLowerCase())}function jt(e){return x1.has(e.toLowerCase())}async function $1(e,t,n,r,o){let i=Object.entries(t);for(let a=0;a<i.length;a++){let[s,l]=i[a],u=e.find(d=>(d==null?void 0:d.route.id)===s);if(!u)continue;let c=r.find(d=>d.route.id===u.route.id),f=c!=null&&!iy(c,u)&&(o&&o[u.route.id])!==void 0;Vn(l)&&f&&await Ld(l,n,!1).then(d=>{d&&(t[s]=d)})}}async function B1(e,t,n){for(let r=0;r<n.length;r++){let{key:o,routeId:i,controller:a}=n[r],s=t[o];e.find(u=>(u==null?void 0:u.route.id)===i)&&Vn(s)&&(ge(a,"Expected an AbortController for revalidating fetcher deferred result"),await Ld(s,a.signal,!0).then(u=>{u&&(t[o]=u)}))}}async function Ld(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ce.data,data:e.deferredData.unwrappedData}}catch(o){return{type:Ce.error,error:o}}return{type:Ce.data,data:e.deferredData.data}}}function Id(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ii(e,t){let n=typeof t=="string"?rr(t).search:t.search;if(e[e.length-1].route.index&&Id(n||""))return e[e.length-1];let r=ny(e);return r[r.length-1]}function Ph(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function uu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function V1(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Zo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function H1(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ln(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function U1(e,t){try{let n=e.sessionStorage.getItem(oy);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function W1(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(oy,JSON.stringify(n))}catch(r){No(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}const hl=k.createContext(null),uy=k.createContext(null),Ar=k.createContext(null),Ad=k.createContext(null),jr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),cy=k.createContext(null);function Y1(e,t){let{relative:n}=t===void 0?{}:t;ta()||ge(!1);let{basename:r,navigator:o}=k.useContext(Ar),{hash:i,pathname:a,search:s}=fy(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:xn([r,a])),o.createHref({pathname:l,search:s,hash:i})}function ta(){return k.useContext(Ad)!=null}function pl(){return ta()||ge(!1),k.useContext(Ad).location}function dy(e){k.useContext(Ar).static||k.useLayoutEffect(e)}function K1(){let{isDataRoute:e}=k.useContext(jr);return e?iS():X1()}function X1(){ta()||ge(!1);let e=k.useContext(hl),{basename:t,future:n,navigator:r}=k.useContext(Ar),{matches:o}=k.useContext(jr),{pathname:i}=pl(),a=JSON.stringify(Td(o,n.v7_relativeSplatPath)),s=k.useRef(!1);return dy(()=>{s.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Od(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,a,i,e])}function fy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(Ar),{matches:o}=k.useContext(jr),{pathname:i}=pl(),a=JSON.stringify(Td(o,r.v7_relativeSplatPath));return k.useMemo(()=>Od(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function G1(e,t,n,r){ta()||ge(!1);let{navigator:o}=k.useContext(Ar),{matches:i}=k.useContext(jr),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=pl(),c;c=u;let f=c.pathname||"/",d=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=pr(e,{pathname:d});return eS(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:xn([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:xn([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function Q1(){let e=oS(),t=ji(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:o},n):null,null)}const Z1=k.createElement(Q1,null);class J1 extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(jr.Provider,{value:this.props.routeContext},k.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q1(e){let{routeContext:t,match:n,children:r}=e,o=k.useContext(hl);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(jr.Provider,{value:t},r)}function eS(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(o=n)==null?void 0:o.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||ge(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let h,v=!1,y=null,x=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||Z1,l&&(u<0&&d===0?(aS("route-fallback"),v=!0,x=null):u===d&&(v=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,d+1)),g=()=>{let p;return h?p=y:v?p=x:f.route.Component?p=k.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=c,k.createElement(q1,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:p})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?k.createElement(J1,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var hy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hy||{}),py=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(py||{});function tS(e){let t=k.useContext(hl);return t||ge(!1),t}function nS(e){let t=k.useContext(uy);return t||ge(!1),t}function rS(e){let t=k.useContext(jr);return t||ge(!1),t}function my(e){let t=rS(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function oS(){var e;let t=k.useContext(cy),n=nS(py.UseRouteError),r=my();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function iS(){let{router:e}=tS(hy.UseNavigateStable),t=my(),n=k.useRef(!1);return dy(()=>{n.current=!0}),k.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,zs({fromRouteId:t},i)))},[e,t])}const Th={};function aS(e,t,n){Th[e]||(Th[e]=!0)}function sS(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function lS(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Be.Pop,navigator:i,static:a=!1,future:s}=e;ta()&&ge(!1);let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:a,future:zs({v7_relativeSplatPath:!1},s)}),[l,s,i,a]);typeof r=="string"&&(r=rr(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:v="default"}=r,y=k.useMemo(()=>{let x=zo(c,l);return x==null?null:{location:{pathname:x,search:f,hash:d,state:h,key:v},navigationType:o}},[l,c,f,d,h,v,o]);return y==null?null:k.createElement(Ar.Provider,{value:u},k.createElement(Ad.Provider,{children:n,value:y}))}new Promise(()=>{});function uS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:k.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(this,arguments)}function cS(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function dS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fS(e,t){return e.button===0&&(!t||t==="_self")&&!dS(e)}const hS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pS="6";try{window.__reactRouterVersion=pS}catch{}function mS(e,t){return N1({basename:void 0,future:zi({},void 0,{v7_prependBasename:!0}),history:Qw({window:void 0}),hydrationData:gS(),routes:e,mapRouteProperties:uS,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function gS(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zi({},t,{errors:yS(t.errors)})),t}function yS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new js(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let a=new i(o.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const vS=k.createContext({isTransitioning:!1}),xS=k.createContext(new Map),wS="startTransition",Oh=jv[wS],SS="flushSync",Rh=Gw[SS];function ES(e){Oh?Oh(e):e()}function Jo(e){Rh?Rh(e):e()}class CS{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function _S(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=k.useState(n.state),[a,s]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[c,f]=k.useState(),[d,h]=k.useState(),[v,y]=k.useState(),x=k.useRef(new Map),{v7_startTransition:m}=r||{},g=k.useCallback(M=>{m?ES(M):M()},[m]),p=k.useCallback((M,L)=>{let{deletedFetchers:I,flushSync:H,viewTransitionOpts:z}=L;M.fetchers.forEach((C,T)=>{C.data!==void 0&&x.current.set(T,C.data)}),I.forEach(C=>x.current.delete(C));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||B){H?Jo(()=>i(M)):g(()=>i(M));return}if(H){Jo(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let C=n.window.document.startViewTransition(()=>{Jo(()=>i(M))});C.finished.finally(()=>{Jo(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})})}),Jo(()=>h(C));return}d?(c&&c.resolve(),d.skipTransition(),y({state:M,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(s(M),u({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,d,c,x,g]);k.useLayoutEffect(()=>n.subscribe(p),[n,p]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new CS)},[l]),k.useEffect(()=>{if(c&&a&&n.window){let M=a,L=c.promise,I=n.window.document.startViewTransition(async()=>{g(()=>i(M)),await L});I.finished.finally(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})}),h(I)}},[g,a,c,n.window]),k.useEffect(()=>{c&&a&&o.location.key===a.location.key&&c.resolve()},[c,d,o.location,a]),k.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),k.useEffect(()=>{},[]);let w=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:M=>n.navigate(M),push:(M,L,I)=>n.navigate(M,{state:L,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(M,L,I)=>n.navigate(M,{replace:!0,state:L,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),_=n.basename||"/",N=k.useMemo(()=>({router:n,navigator:w,static:!1,basename:_}),[n,w,_]),S=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.useEffect(()=>sS(r,n.future),[r,n.future]),k.createElement(k.Fragment,null,k.createElement(hl.Provider,{value:N},k.createElement(uy.Provider,{value:o},k.createElement(xS.Provider,{value:x.current},k.createElement(vS.Provider,{value:l},k.createElement(lS,{basename:_,location:o.location,navigationType:o.historyAction,navigator:w,future:S},o.initialized||n.future.v7_partialHydration?k.createElement(kS,{routes:n.routes,future:n.future,state:o}):t))))),null)}const kS=k.memo(NS);function NS(e){let{routes:t,future:n,state:r}=e;return G1(t,void 0,r,n)}const MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=k.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,d=cS(t,hS),{basename:h}=k.useContext(Ar),v,y=!1;if(typeof u=="string"&&bS.test(u)&&(v=u,MS))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),_=zo(w.pathname,h);w.origin===p.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let x=Y1(u,{relative:o}),m=PS(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:o,viewTransition:f});function g(p){r&&r(p),p.defaultPrevented||m(p)}return k.createElement("a",zi({},d,{href:v||x,onClick:y||i?r:g,ref:n,target:l}))});var Lh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lh||(Lh={}));var Ih;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ih||(Ih={}));function PS(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s}=t===void 0?{}:t,l=K1(),u=pl(),c=fy(e,{relative:a});return k.useCallback(f=>{if(fS(f,n)){f.preventDefault();let d=r!==void 0?r:Pr(u)===Pr(c);l(e,{replace:d,state:o,preventScrollReset:i,relative:a,viewTransition:s})}},[u,l,c,r,o,n,e,i,a,s])}function TS(){return E.jsxs("div",{className:"min-h-full",children:[E.jsx("div",{className:"bg-gradient-to-b from-violet-700 to-blue-500 text-white pb-24",children:E.jsxs("div",{className:"container-narrow py-10 text-center",children:[E.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-white/95 text-blue-600 grid place-items-center font-bold text-xl",children:"N"}),E.jsx("h1",{className:"mt-4 text-4xl font-bold",children:"Nexla"}),E.jsx("p",{className:"mt-2 text-lg text-blue-100",children:"AI‑Powered Orchestration for Your Data Flows"})]})}),E.jsxs("div",{className:"-mt-14 container-narrow",children:[E.jsx("div",{className:"mx-auto max-w-3xl rounded-2xl bg-white shadow-xl p-6",children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx("input",{className:"flex-1 rounded-lg border border-slate-300 bg-slate-50 px-4 py-3",placeholder:"e.g., Connect Shopify orders to Snowflake"}),E.jsx(DS,{to:"/chat",className:"rounded-lg bg-violet-600 text-white px-6 py-3 font-semibold hover:bg-violet-500","aria-label":"Start",children:"Start"})]})}),E.jsx("div",{className:"text-center mt-10 text-slate-500 text-sm",children:"OR TRY ONE OF THESE EXAMPLES"}),E.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:["Connect Shopify to BigQuery","Sync Salesforce contacts to Mailchimp","Get PostgreSQL users and send to a webhook","Analyze Stripe payments in Google Sheets"].map(e=>E.jsx("button",{onClick:()=>{localStorage.setItem("prefillPrompt",e),window.location.href="/chat"},className:"rounded-xl border bg-white p-4 text-left shadow-sm hover:shadow-md",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-7 h-7 rounded-full bg-amber-200 grid place-items-center text-amber-600",children:"⚡"}),E.jsx("div",{className:"text-slate-800",children:e})]})},e))})]}),E.jsx("footer",{className:"container-narrow py-10 text-center text-slate-500 text-sm",children:"© 2025 Nexla. All rights reserved."})]})}const OS={},Ah=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,h))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(OS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,l);return l},gy=e=>e?Ah(e):Ah;var yy={exports:{}},vy={},xy={exports:{}},wy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=k;function RS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LS=typeof Object.is=="function"?Object.is:RS,IS=Mo.useState,AS=Mo.useEffect,jS=Mo.useLayoutEffect,zS=Mo.useDebugValue;function FS(e,t){var n=t(),r=IS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return jS(function(){o.value=n,o.getSnapshot=t,cu(o)&&i({inst:o})},[e,n,t]),AS(function(){return cu(o)&&i({inst:o}),e(function(){cu(o)&&i({inst:o})})},[e]),zS(n),n}function cu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!LS(e,n)}catch{return!0}}function $S(e,t){return t()}var BS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$S:FS;wy.useSyncExternalStore=Mo.useSyncExternalStore!==void 0?Mo.useSyncExternalStore:BS;xy.exports=wy;var VS=xy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=k,HS=VS;function US(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WS=typeof Object.is=="function"?Object.is:US,YS=HS.useSyncExternalStore,KS=ml.useRef,XS=ml.useEffect,GS=ml.useMemo,QS=ml.useDebugValue;vy.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=KS(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=GS(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),o!==void 0&&a.hasValue){var v=a.value;if(o(v,h))return f=v}return f=h}if(v=f,WS(c,h))return v;var y=r(h);return o!==void 0&&o(v,y)?(c=h,v):(c=h,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,o]);var s=YS(e,i[0],i[1]);return XS(function(){a.hasValue=!0,a.value=s},[s]),QS(s),s};yy.exports=vy;var ZS=yy.exports;const Sy=Ic(ZS),Ey={},{useDebugValue:JS}=Zs,{useSyncExternalStoreWithSelector:qS}=Sy;let jh=!1;const eE=e=>e;function tE(e,t=eE,n){(Ey?"production":void 0)!=="production"&&n&&!jh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jh=!0);const r=qS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JS(r),r}const nE=e=>{(Ey?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?gy(e):e,n=(r,o)=>tE(t,r,o);return Object.assign(n,t),n},jd=e=>nE,rE=["shopify","bigquery","snowflake","salesforce","mailchimp","postgresql","webhook","stripe","google sheets"];function oE(e){const t=e.toLowerCase(),n=[];for(const r of rE)t.includes(r)&&n.push(r);return n}function zh(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function iE(e){const t=e.toLowerCase(),n=oE(t);let r=null,o=null,i=null;const a=/(connect|sync|send|route|move)\s+(.+?)\s+to\s+(.+)/i.exec(e);if(a&&(r=a[2].trim(),o=a[3].trim()),!o){const s=/(analyze|store|save|log|write)\s+(.+?)\s+(in|into)\s+(.+)/i.exec(e);s&&(r=s[2].trim(),o=s[4].trim())}return!r&&n.length>0&&(r=n[0]),!o&&n.length>1&&(o=n[1]),r=r?zh(r):null,o=o?zh(o):null,/map|transform|clean|validate|normalize/i.test(e)?i="Transform":/analyze|aggregate|pivot/i.test(e)?i="Analyze":r&&o&&(i="Map & Validate"),{source:r,transform:i,destination:o}}const Cy=jd()(e=>({nodes:[{id:"n1",type:"source",label:"Source",x:40,y:60},{id:"n2",type:"transform",label:"Transform",x:220,y:60},{id:"n3",type:"destination",label:"Destination",x:420,y:60}],conns:[{id:"c1",from:"n1",to:"n2"},{id:"c2",from:"n2",to:"n3"}],buildFromText:t=>e(()=>{const n=iE(t),r=[];let o=40;const i=60,a=(u,c)=>{const f=crypto.randomUUID();return r.push({id:f,type:u,label:c,x:o,y:i}),o+=200,f},s={};n.source&&(s.source=a("source",n.source)),n.transform&&(s.transform=a("transform",n.transform)),n.destination&&(s.destination=a("destination",n.destination));const l=[];return s.source&&s.transform&&l.push({id:crypto.randomUUID(),from:s.source,to:s.transform}),s.transform&&s.destination&&l.push({id:crypto.randomUUID(),from:s.transform,to:s.destination}),s.source&&!s.transform&&s.destination&&l.push({id:crypto.randomUUID(),from:s.source,to:s.destination}),{nodes:r,conns:l}}),reset:()=>e({nodes:[{id:"n1",type:"source",label:"Source",x:40,y:60},{id:"n2",type:"transform",label:"Transform",x:220,y:60},{id:"n3",type:"destination",label:"Destination",x:420,y:60}],conns:[{id:"c1",from:"n1",to:"n2"},{id:"c2",from:"n2",to:"n3"}]})})),_y=jd()((e,t)=>({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build pipelines. What would you like to connect?",status:"sent",createdAt:Date.now()}],input:"",setInput:n=>e({input:n}),aiThinking:!1,highlightId:null,send:()=>{const{input:n,messages:r}=t();if(!n.trim())return;const o=crypto.randomUUID(),i=crypto.randomUUID(),a={id:o,type:"user",content:n.trim(),status:"sent",createdAt:Date.now()},s={id:i,type:"ai",content:"",status:"thinking",createdAt:Date.now()};e({messages:[...r,a,s],input:"",aiThinking:!0,highlightId:o}),setTimeout(()=>e({highlightId:null}),900),Cy.getState().buildFromText(n.trim()),setTimeout(()=>{const l="Got it. I will start a draft flow: [Source] → [Transform] → [Destination].";e(u=>({messages:u.messages.map(c=>c.id===i?{...c,content:l,status:"sent"}:c),aiThinking:!1}))},600)}}));if(typeof window<"u"){const e=localStorage.getItem("prefillPrompt");if(e){const t=crypto.randomUUID(),n=crypto.randomUUID();_y.setState(r=>({messages:[...r.messages,{id:t,type:"user",content:e,status:"sent",createdAt:Date.now()},{id:n,type:"ai",content:"Great example. I will draft a flow and ask clarifying questions.",status:"sent",createdAt:Date.now()}]})),Cy.getState().buildFromText(e),localStorage.removeItem("prefillPrompt")}}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ky=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...s},l)=>k.createElement("svg",{ref:l,...sE,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ky("lucide",o),...s},[...a.map(([u,c])=>k.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=(e,t)=>{const n=k.forwardRef(({className:r,...o},i)=>k.createElement(lE,{ref:i,iconNode:t,className:ky(`lucide-${aE(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=zr("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=zr("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=zr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=zr("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=zr("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=zr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=zr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function mE({type:e,content:t,status:n,createdAt:r,highlight:o}){const i=e==="user",a=i?pE:Ny,s=r?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return E.jsx("div",{className:`${i?"ml-auto max-w-[90%]":"max-w-[80%]"} w-full ${o?"ring-2 ring-violet-300 rounded-2xl transition-[box-shadow] duration-700":""}`,children:E.jsxs("div",{className:`rounded-2xl px-4 py-3 shadow-sm border ${i?"bg-violet-600 text-white border-violet-600":"bg-white border-slate-200"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx(a,{size:16,className:i?"text-white/80":"text-slate-500"}),E.jsx("div",{className:i?"text-white/80":"text-slate-600",children:i?"You":"NexBot"}),s&&E.jsxs("div",{className:i?"text-white/60":"text-slate-400",children:["· ",s]}),E.jsxs("div",{className:"ml-auto inline-flex items-center gap-1",children:[n==="thinking"&&E.jsx(dE,{size:14,className:i?"animate-spin text-white/80":"animate-spin text-slate-400"}),n==="sent"&&E.jsx(uE,{size:14,className:i?"text-white/80":"text-slate-400"}),n==="error"&&E.jsx(cE,{size:14,className:"text-red-500"})]})]}),E.jsx("div",{className:`mt-1 whitespace-pre-wrap ${i?"":"text-slate-900"}`,children:n==="thinking"?E.jsxs("span",{className:"inline-flex items-center gap-1",children:[E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.2s]`}),E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.1s]`}),E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce`})]}):t})]})})}function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gE={value:()=>{}};function gl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new as(n)}function as(e){this._=e}function yE(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}as.prototype=gl.prototype={constructor:as,on:function(e,t){var n=this._,r=yE(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=vE(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=Fh(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Fh(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new as(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function vE(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Fh(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=gE,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var xc="http://www.w3.org/1999/xhtml";const $h={svg:"http://www.w3.org/2000/svg",xhtml:xc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$h.hasOwnProperty(t)?{space:$h[t],local:e}:e}function xE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xc&&t.documentElement.namespaceURI===xc?t.createElement(e):t.createElementNS(n,e)}}function wE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function My(e){var t=yl(e);return(t.local?wE:xE)(t)}function SE(){}function zd(e){return e==null?SE:function(){return this.querySelector(e)}}function EE(e){typeof e!="function"&&(e=zd(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=e.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new wt(r,this._parents)}function CE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _E(){return[]}function by(e){return e==null?_E:function(){return this.querySelectorAll(e)}}function kE(e){return function(){return CE(e.apply(this,arguments))}}function NE(e){typeof e=="function"?e=kE(e):e=by(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),o.push(l));return new wt(r,o)}function Dy(e){return function(){return this.matches(e)}}function Py(e){return function(t){return t.matches(e)}}var ME=Array.prototype.find;function bE(e){return function(){return ME.call(this.children,e)}}function DE(){return this.firstElementChild}function PE(e){return this.select(e==null?DE:bE(typeof e=="function"?e:Py(e)))}var TE=Array.prototype.filter;function OE(){return Array.from(this.children)}function RE(e){return function(){return TE.call(this.children,e)}}function LE(e){return this.selectAll(e==null?OE:RE(typeof e=="function"?e:Py(e)))}function IE(e){typeof e!="function"&&(e=Dy(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new wt(r,this._parents)}function Ty(e){return new Array(e.length)}function AE(){return new wt(this._enter||this._groups.map(Ty),this._parents)}function Fs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fs.prototype={constructor:Fs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jE(e){return function(){return e}}function zE(e,t,n,r,o,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new Fs(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function FE(e,t,n,r,o,i,a){var s,l,u=new Map,c=t.length,f=i.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?o[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,i[s],s,i)+"",(l=u.get(h))?(r[s]=l,l.__data__=i[s],u.delete(h)):n[s]=new Fs(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(o[s]=l)}function $E(e){return e.__data__}function BE(e,t){if(!arguments.length)return Array.from(this,$E);var n=t?FE:zE,r=this._parents,o=this._groups;typeof e!="function"&&(e=jE(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],d=f.length,h=VE(e.call(c,c&&c.__data__,u,r)),v=h.length,y=s[u]=new Array(v),x=a[u]=new Array(v),m=l[u]=new Array(d);n(c,f,y,x,m,h,t);for(var g=0,p=0,w,_;g<v;++g)if(w=y[g]){for(g>=p&&(p=g+1);!(_=x[p])&&++p<v;);w._next=_||null}}return a=new wt(a,r),a._enter=s,a._exit=l,a}function VE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HE(){return new wt(this._exit||this._groups.map(Ty),this._parents)}function UE(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function WE(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,v=0;v<f;++v)(h=u[v]||c[v])&&(d[v]=h);for(;l<o;++l)s[l]=n[l];return new wt(s,this._parents)}function YE(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function KE(e){e||(e=XE);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,l=o[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new wt(o,this._parents).order()}function XE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function GE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function QE(){return Array.from(this)}function ZE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function JE(){let e=0;for(const t of this)++e;return e}function qE(){return!this.node()}function eC(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function tC(e){return function(){this.removeAttribute(e)}}function nC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rC(e,t){return function(){this.setAttribute(e,t)}}function oC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function iC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function aC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sC(e,t){var n=yl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nC:tC:typeof t=="function"?n.local?aC:iC:n.local?oC:rC)(n,t))}function Oy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lC(e){return function(){this.style.removeProperty(e)}}function uC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dC(e,t,n){return arguments.length>1?this.each((t==null?lC:typeof t=="function"?cC:uC)(e,t,n??"")):bo(this.node(),e)}function bo(e,t){return e.style.getPropertyValue(t)||Oy(e).getComputedStyle(e,null).getPropertyValue(t)}function fC(e){return function(){delete this[e]}}function hC(e,t){return function(){this[e]=t}}function pC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mC(e,t){return arguments.length>1?this.each((t==null?fC:typeof t=="function"?pC:hC)(e,t)):this.node()[e]}function Ry(e){return e.trim().split(/^|\s+/)}function Fd(e){return e.classList||new Ly(e)}function Ly(e){this._node=e,this._names=Ry(e.getAttribute("class")||"")}Ly.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Iy(e,t){for(var n=Fd(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Ay(e,t){for(var n=Fd(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function gC(e){return function(){Iy(this,e)}}function yC(e){return function(){Ay(this,e)}}function vC(e,t){return function(){(t.apply(this,arguments)?Iy:Ay)(this,e)}}function xC(e,t){var n=Ry(e+"");if(arguments.length<2){for(var r=Fd(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?vC:t?gC:yC)(n,t))}function wC(){this.textContent=""}function SC(e){return function(){this.textContent=e}}function EC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function CC(e){return arguments.length?this.each(e==null?wC:(typeof e=="function"?EC:SC)(e)):this.node().textContent}function _C(){this.innerHTML=""}function kC(e){return function(){this.innerHTML=e}}function NC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function MC(e){return arguments.length?this.each(e==null?_C:(typeof e=="function"?NC:kC)(e)):this.node().innerHTML}function bC(){this.nextSibling&&this.parentNode.appendChild(this)}function DC(){return this.each(bC)}function PC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TC(){return this.each(PC)}function OC(e){var t=typeof e=="function"?e:My(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function RC(){return null}function LC(e,t){var n=typeof e=="function"?e:My(e),r=t==null?RC:typeof t=="function"?t:zd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function IC(){var e=this.parentNode;e&&e.removeChild(this)}function AC(){return this.each(IC)}function jC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FC(e){return this.select(e?zC:jC)}function $C(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BC(e){return function(t){e.call(this,t,this.__data__)}}function VC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function HC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function UC(e,t,n){return function(){var r=this.__on,o,i=BC(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function WC(e,t,n){var r=VC(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?UC:HC,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function jy(e,t,n){var r=Oy(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function YC(e,t){return function(){return jy(this,e,t)}}function KC(e,t){return function(){return jy(this,e,t.apply(this,arguments))}}function XC(e,t){return this.each((typeof t=="function"?KC:YC)(e,t))}function*GC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var zy=[null];function wt(e,t){this._groups=e,this._parents=t}function na(){return new wt([[document.documentElement]],zy)}function QC(){return this}wt.prototype=na.prototype={constructor:wt,select:EE,selectAll:NE,selectChild:PE,selectChildren:LE,filter:IE,data:BE,enter:AE,exit:HE,join:UE,merge:WE,selection:QC,order:YE,sort:KE,call:GE,nodes:QE,node:ZE,size:JE,empty:qE,each:eC,attr:sC,style:dC,property:mC,classed:xC,text:CC,html:MC,raise:DC,lower:TC,append:OC,insert:LC,remove:AC,clone:FC,datum:$C,on:WC,dispatch:XC,[Symbol.iterator]:GC};function gt(e){return typeof e=="string"?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],zy)}function ZC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zt(e,t){if(e=ZC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const JC={passive:!1},Fi={capture:!0,passive:!1};function du(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function Fy(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",yo,Fi);"onselectstart"in t?n.on("selectstart.drag",yo,Fi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $y(e,t){var n=e.document.documentElement,r=gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",yo,Fi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Aa=e=>()=>e;function wc(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}wc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function qC(e){return!e.ctrlKey&&!e.button}function e2(){return this.parentNode}function t2(e,t){return t??{x:e.x,y:e.y}}function n2(){return navigator.maxTouchPoints||"ontouchstart"in this}function By(){var e=qC,t=e2,n=t2,r=n2,o={},i=gl("start","drag","end"),a=0,s,l,u,c,f=0;function d(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",m,JC).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,_){if(!(c||!e.call(this,w,_))){var N=p(this,t.call(this,w,_),w,_,"mouse");N&&(gt(w.view).on("mousemove.drag",v,Fi).on("mouseup.drag",y,Fi),Fy(w.view),du(w),u=!1,s=w.clientX,l=w.clientY,N("start",w))}}function v(w){if(yo(w),!u){var _=w.clientX-s,N=w.clientY-l;u=_*_+N*N>f}o.mouse("drag",w)}function y(w){gt(w.view).on("mousemove.drag mouseup.drag",null),$y(w.view,u),yo(w),o.mouse("end",w)}function x(w,_){if(e.call(this,w,_)){var N=w.changedTouches,S=t.call(this,w,_),M=N.length,L,I;for(L=0;L<M;++L)(I=p(this,S,w,_,N[L].identifier,N[L]))&&(du(w),I("start",w,N[L]))}}function m(w){var _=w.changedTouches,N=_.length,S,M;for(S=0;S<N;++S)(M=o[_[S].identifier])&&(yo(w),M("drag",w,_[S]))}function g(w){var _=w.changedTouches,N=_.length,S,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<N;++S)(M=o[_[S].identifier])&&(du(w),M("end",w,_[S]))}function p(w,_,N,S,M,L){var I=i.copy(),H=zt(L||N,_),z,B,C;if((C=n.call(w,new wc("beforestart",{sourceEvent:N,target:d,identifier:M,active:a,x:H[0],y:H[1],dx:0,dy:0,dispatch:I}),S))!=null)return z=C.x-H[0]||0,B=C.y-H[1]||0,function T(O,R,D){var b=H,A;switch(O){case"start":o[M]=T,A=a++;break;case"end":delete o[M],--a;case"drag":H=zt(D||R,_),A=a;break}I.call(O,w,new wc(O,{sourceEvent:R,subject:C,target:d,identifier:M,active:A,x:H[0]+z,y:H[1]+B,dx:H[0]-b[0],dy:H[1]-b[1],dispatch:I}),S)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Aa(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:Aa(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Aa(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Aa(!!w),d):r},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function $d(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ra(){}var $i=.7,$s=1/$i,vo="\\s*([+-]?\\d+)\\s*",Bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r2=/^#([0-9a-f]{3,8})$/,o2=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),i2=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),a2=new RegExp(`^rgba\\(${vo},${vo},${vo},${Bi}\\)$`),s2=new RegExp(`^rgba\\(${on},${on},${on},${Bi}\\)$`),l2=new RegExp(`^hsl\\(${Bi},${on},${on}\\)$`),u2=new RegExp(`^hsla\\(${Bi},${on},${on},${Bi}\\)$`),Bh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$d(ra,Tr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vh,formatHex:Vh,formatHex8:c2,formatHsl:d2,formatRgb:Hh,toString:Hh});function Vh(){return this.rgb().formatHex()}function c2(){return this.rgb().formatHex8()}function d2(){return Hy(this).formatHsl()}function Hh(){return this.rgb().formatRgb()}function Tr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=r2.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Uh(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ja(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ja(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=o2.exec(e))?new ct(t[1],t[2],t[3],1):(t=i2.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=a2.exec(e))?ja(t[1],t[2],t[3],t[4]):(t=s2.exec(e))?ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l2.exec(e))?Kh(t[1],t[2]/100,t[3]/100,1):(t=u2.exec(e))?Kh(t[1],t[2]/100,t[3]/100,t[4]):Bh.hasOwnProperty(e)?Uh(Bh[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Uh(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function ja(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function f2(e){return e instanceof ra||(e=Tr(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function Sc(e,t,n,r){return arguments.length===1?f2(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$d(ct,Sc,Vy(ra,{brighter(e){return e=e==null?$s:Math.pow($s,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(Cr(this.r),Cr(this.g),Cr(this.b),Bs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wh,formatHex:Wh,formatHex8:h2,formatRgb:Yh,toString:Yh}));function Wh(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}`}function h2(){return`#${wr(this.r)}${wr(this.g)}${wr(this.b)}${wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yh(){const e=Bs(this.opacity);return`${e===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${e===1?")":`, ${e})`}`}function Bs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wr(e){return e=Cr(e),(e<16?"0":"")+e.toString(16)}function Kh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $t(e,t,n,r)}function Hy(e){if(e instanceof $t)return new $t(e.h,e.s,e.l,e.opacity);if(e instanceof ra||(e=Tr(e)),!e)return new $t;if(e instanceof $t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new $t(a,s,l,e.opacity)}function p2(e,t,n,r){return arguments.length===1?Hy(e):new $t(e,t,n,r??1)}function $t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$d($t,p2,Vy(ra,{brighter(e){return e=e==null?$s:Math.pow($s,e),new $t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$i:Math.pow($i,e),new $t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ct(fu(e>=240?e-240:e+120,o,r),fu(e,o,r),fu(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new $t(Xh(this.h),za(this.s),za(this.l),Bs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bs(this.opacity);return`${e===1?"hsl(":"hsla("}${Xh(this.h)}, ${za(this.s)*100}%, ${za(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xh(e){return e=(e||0)%360,e<0?e+360:e}function za(e){return Math.max(0,Math.min(1,e||0))}function fu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bd=e=>()=>e;function m2(e,t){return function(n){return e+n*t}}function g2(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function y2(e){return(e=+e)==1?Uy:function(t,n){return n-t?g2(t,n,e):Bd(isNaN(t)?n:t)}}function Uy(e,t){var n=t-e;return n?m2(e,n):Bd(isNaN(e)?t:e)}const Vs=function e(t){var n=y2(t);function r(o,i){var a=n((o=Sc(o)).r,(i=Sc(i)).r),s=n(o.g,i.g),l=n(o.b,i.b),u=Uy(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function v2(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function x2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w2(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=yi(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function S2(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function E2(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=yi(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Ec=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(Ec.source,"g");function C2(e){return function(){return e}}function _2(e){return function(t){return e(t)+""}}function Wy(e,t){var n=Ec.lastIndex=hu.lastIndex=0,r,o,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ec.exec(e))&&(o=hu.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:Jt(r,o)})),n=hu.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?_2(l[0].x):C2(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function yi(e,t){var n=typeof t,r;return t==null||n==="boolean"?Bd(t):(n==="number"?Jt:n==="string"?(r=Tr(t))?(t=r,Vs):Wy:t instanceof Tr?Vs:t instanceof Date?S2:x2(t)?v2:Array.isArray(t)?w2:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?E2:Jt)(e,t)}var Gh=180/Math.PI,Cc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yy(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Gh,skewX:Math.atan(l)*Gh,scaleX:a,scaleY:s}}var Fa;function k2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Cc:Yy(t.a,t.b,t.c,t.d,t.e,t.f)}function N2(e){return e==null||(Fa||(Fa=document.createElementNS("http://www.w3.org/2000/svg","g")),Fa.setAttribute("transform",e),!(e=Fa.transform.baseVal.consolidate()))?Cc:(e=e.matrix,Yy(e.a,e.b,e.c,e.d,e.e,e.f))}function Ky(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,h,v){if(u!==f||c!==d){var y=h.push("translate(",null,t,null,n);v.push({i:y-4,x:Jt(u,f)},{i:y-2,x:Jt(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Jt(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Jt(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function l(u,c,f,d,h,v){if(u!==f||c!==d){var y=h.push(o(h)+"scale(",null,",",null,")");v.push({i:y-4,x:Jt(u,f)},{i:y-2,x:Jt(c,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var v=-1,y=d.length,x;++v<y;)f[(x=d[v]).i]=x.x(h);return f.join("")}}}var M2=Ky(k2,"px, ","px)","deg)"),b2=Ky(N2,", ",")",")"),D2=1e-12;function Qh(e){return((e=Math.exp(e))+1/e)/2}function P2(e){return((e=Math.exp(e))-1/e)/2}function T2(e){return((e=Math.exp(2*e))-1)/(e+1)}const ss=function e(t,n,r){function o(i,a){var s=i[0],l=i[1],u=i[2],c=a[0],f=a[1],d=a[2],h=c-s,v=f-l,y=h*h+v*v,x,m;if(y<D2)m=Math.log(d/u)/t,x=function(S){return[s+S*h,l+S*v,u*Math.exp(t*S*m)]};else{var g=Math.sqrt(y),p=(d*d-u*u+r*y)/(2*u*n*g),w=(d*d-u*u-r*y)/(2*d*n*g),_=Math.log(Math.sqrt(p*p+1)-p),N=Math.log(Math.sqrt(w*w+1)-w);m=(N-_)/t,x=function(S){var M=S*m,L=Qh(_),I=u/(n*g)*(L*T2(t*M+_)-P2(_));return[s+I*h,l+I*v,u*L/Qh(t*M+_)]}}return x.duration=m*1e3*t/Math.SQRT2,x}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},o}(Math.SQRT2,2,4);var Do=0,ai=0,qo=0,Xy=1e3,Hs,si,Us=0,Or=0,vl=0,Vi=typeof performance=="object"&&performance.now?performance:Date,Gy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vd(){return Or||(Gy(O2),Or=Vi.now()+vl)}function O2(){Or=0}function Ws(){this._call=this._time=this._next=null}Ws.prototype=Qy.prototype={constructor:Ws,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Vd():+n)+(t==null?0:+t),!this._next&&si!==this&&(si?si._next=this:Hs=this,si=this),this._call=e,this._time=n,_c()},stop:function(){this._call&&(this._call=null,this._time=1/0,_c())}};function Qy(e,t,n){var r=new Ws;return r.restart(e,t,n),r}function R2(){Vd(),++Do;for(var e=Hs,t;e;)(t=Or-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Do}function Zh(){Or=(Us=Vi.now())+vl,Do=ai=0;try{R2()}finally{Do=0,I2(),Or=0}}function L2(){var e=Vi.now(),t=e-Us;t>Xy&&(vl-=t,Us=e)}function I2(){for(var e,t=Hs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Hs=n);si=e,_c(r)}function _c(e){if(!Do){ai&&(ai=clearTimeout(ai));var t=e-Or;t>24?(e<1/0&&(ai=setTimeout(Zh,e-Vi.now()-vl)),qo&&(qo=clearInterval(qo))):(qo||(Us=Vi.now(),qo=setInterval(L2,Xy)),Do=1,Gy(Zh))}}function Jh(e,t,n){var r=new Ws;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var A2=gl("start","end","cancel","interrupt"),j2=[],Zy=0,qh=1,kc=2,ls=3,ep=4,Nc=5,us=6;function xl(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;z2(e,n,{name:t,index:r,group:o,on:A2,tween:j2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Zy})}function Hd(e,t){var n=Yt(e,t);if(n.state>Zy)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=Yt(e,t);if(n.state>ls)throw new Error("too late; already running");return n}function Yt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function z2(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Qy(i,0,n.time);function i(u){n.state=qh,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==qh)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===ls)return Jh(a);h.state===ep?(h.state=us,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=us,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Jh(function(){n.state===ls&&(n.state=ep,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=kc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===kc){for(n.state=ls,o=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Nc,1),f=-1,d=o.length;++f<d;)o[f].call(e,c);n.state===Nc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=us,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function cs(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>kc&&r.state<Nc,r.state=us,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function F2(e){return this.each(function(){cs(this,e)})}function $2(e,t){var n,r;return function(){var o=sn(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function B2(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=sn(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function V2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Yt(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?$2:B2)(n,e,t))}function Ud(e,t,n){var r=e._id;return e.each(function(){var o=sn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Yt(o,r).value[t]}}function Jy(e,t){var n;return(typeof t=="number"?Jt:t instanceof Tr?Vs:(n=Tr(t))?(t=n,Vs):Wy)(e,t)}function H2(e){return function(){this.removeAttribute(e)}}function U2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function W2(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Y2(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function K2(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function X2(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function G2(e,t){var n=yl(e),r=n==="transform"?b2:Jy;return this.attrTween(e,typeof t=="function"?(n.local?X2:K2)(n,r,Ud(this,"attr."+e,t)):t==null?(n.local?U2:H2)(n):(n.local?Y2:W2)(n,r,t))}function Q2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Z2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function J2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Z2(e,i)),n}return o._value=t,o}function q2(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Q2(e,i)),n}return o._value=t,o}function e_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yl(e);return this.tween(n,(r.local?J2:q2)(r,t))}function t_(e,t){return function(){Hd(this,e).delay=+t.apply(this,arguments)}}function n_(e,t){return t=+t,function(){Hd(this,e).delay=t}}function r_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t_:n_)(t,e)):Yt(this.node(),t).delay}function o_(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function i_(e,t){return t=+t,function(){sn(this,e).duration=t}}function a_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?o_:i_)(t,e)):Yt(this.node(),t).duration}function s_(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function l_(e){var t=this._id;return arguments.length?this.each(s_(t,e)):Yt(this.node(),t).ease}function u_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function c_(e){if(typeof e!="function")throw new Error;return this.each(u_(this._id,e))}function d_(e){typeof e!="function"&&(e=Dy(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new kn(r,this._parents,this._name,this._id)}function f_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new kn(a,this._parents,this._name,this._id)}function h_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function p_(e,t,n){var r,o,i=h_(t)?Hd:sn;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function m_(e,t){var n=this._id;return arguments.length<2?Yt(this.node(),n).on.on(e):this.each(p_(n,e,t))}function g_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function y_(){return this.on("end.remove",g_(this._id))}function v_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zd(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],l=s.length,u=i[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,xl(u[d],t,n,d,u,Yt(c,n)));return new kn(i,this._parents,t,n)}function x_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=by(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,v=Yt(c,n),y=0,x=d.length;y<x;++y)(h=d[y])&&xl(h,t,n,y,d,v);i.push(d),a.push(c)}return new kn(i,a,t,n)}var w_=na.prototype.constructor;function S_(){return new w_(this._groups,this._parents)}function E_(e,t){var n,r,o;return function(){var i=bo(this,e),a=(this.style.removeProperty(e),bo(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function qy(e){return function(){this.style.removeProperty(e)}}function C_(e,t,n){var r,o=n+"",i;return function(){var a=bo(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function __(e,t,n){var r,o,i;return function(){var a=bo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),bo(this,e))),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}function k_(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var l=sn(this,e),u=l.on,c=l.value[i]==null?s||(s=qy(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(a,o=c),l.on=r}}function N_(e,t,n){var r=(e+="")=="transform"?M2:Jy;return t==null?this.styleTween(e,E_(e,r)).on("end.style."+e,qy(e)):typeof t=="function"?this.styleTween(e,__(e,r,Ud(this,"style."+e,t))).each(k_(this._id,e)):this.styleTween(e,C_(e,r,t),n).on("end.style."+e,null)}function M_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function b_(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&M_(e,a,n)),r}return i._value=t,i}function D_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,b_(e,t,n??""))}function P_(e){return function(){this.textContent=e}}function T_(e){return function(){var t=e(this);this.textContent=t??""}}function O_(e){return this.tween("text",typeof e=="function"?T_(Ud(this,"text",e)):P_(e==null?"":e+""))}function R_(e){return function(t){this.textContent=e.call(this,t)}}function L_(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&R_(o)),t}return r._value=e,r}function I_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,L_(e))}function A_(){for(var e=this._name,t=this._id,n=e0(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Yt(l,t);xl(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new kn(r,this._parents,e,n)}function j_(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var u=sn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),o===0&&i()})}var z_=0;function kn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function e0(){return++z_}var fn=na.prototype;kn.prototype={constructor:kn,select:v_,selectAll:x_,selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:d_,merge:f_,selection:S_,transition:A_,call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:m_,attr:G2,attrTween:e_,style:N_,styleTween:D_,text:O_,textTween:I_,remove:y_,tween:V2,delay:r_,duration:a_,ease:l_,easeVarying:c_,end:j_,[Symbol.iterator]:fn[Symbol.iterator]};function F_(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $_={time:null,delay:0,duration:250,ease:F_};function B_(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function V_(e){var t,n;e instanceof kn?(t=e._id,e=e._name):(t=e0(),(n=$_).time=Vd(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&xl(l,e,t,u,a,n||B_(l,t));return new kn(r,this._parents,e,t)}na.prototype.interrupt=F2;na.prototype.transition=V_;const $a=e=>()=>e;function H_(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function yn(e,t,n){this.k=e,this.x=t,this.y=n}yn.prototype={constructor:yn,scale:function(e){return e===1?this:new yn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wl=new yn(1,0,0);t0.prototype=yn.prototype;function t0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return wl;return e.__zoom}function pu(e){e.stopImmediatePropagation()}function ei(e){e.preventDefault(),e.stopImmediatePropagation()}function U_(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function W_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tp(){return this.__zoom||wl}function Y_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function K_(){return navigator.maxTouchPoints||"ontouchstart"in this}function X_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function n0(){var e=U_,t=W_,n=X_,r=Y_,o=K_,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=ss,u=gl("start","zoom","end"),c,f,d,h=500,v=150,y=0,x=10;function m(C){C.property("__zoom",tp).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(C,T,O,R){var D=C.selection?C.selection():C;D.property("__zoom",tp),C!==D?_(C,T,O,R):D.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},m.scaleBy=function(C,T,O,R){m.scaleTo(C,function(){var D=this.__zoom.k,b=typeof T=="function"?T.apply(this,arguments):T;return D*b},O,R)},m.scaleTo=function(C,T,O,R){m.transform(C,function(){var D=t.apply(this,arguments),b=this.__zoom,A=O==null?w(D):typeof O=="function"?O.apply(this,arguments):O,F=b.invert(A),U=typeof T=="function"?T.apply(this,arguments):T;return n(p(g(b,U),A,F),D,a)},O,R)},m.translateBy=function(C,T,O,R){m.transform(C,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),a)},null,R)},m.translateTo=function(C,T,O,R,D){m.transform(C,function(){var b=t.apply(this,arguments),A=this.__zoom,F=R==null?w(b):typeof R=="function"?R.apply(this,arguments):R;return n(wl.translate(F[0],F[1]).scale(A.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof O=="function"?-O.apply(this,arguments):-O),b,a)},R,D)};function g(C,T){return T=Math.max(i[0],Math.min(i[1],T)),T===C.k?C:new yn(T,C.x,C.y)}function p(C,T,O){var R=T[0]-O[0]*C.k,D=T[1]-O[1]*C.k;return R===C.x&&D===C.y?C:new yn(C.k,R,D)}function w(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function _(C,T,O,R){C.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,b=arguments,A=N(D,b).event(R),F=t.apply(D,b),U=O==null?w(F):typeof O=="function"?O.apply(D,b):O,K=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),X=D.__zoom,q=typeof T=="function"?T.apply(D,b):T,re=l(X.invert(U).concat(K/X.k),q.invert(U).concat(K/q.k));return function(Q){if(Q===1)Q=q;else{var $=re(Q),Z=K/$[2];Q=new yn(Z,U[0]-$[0]*Z,U[1]-$[1]*Z)}A.zoom(null,Q)}})}function N(C,T,O){return!O&&C.__zooming||new S(C,T)}function S(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,T),this.taps=0}S.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=gt(this.that).datum();u.call(C,this.that,new H_(C,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),T)}};function M(C,...T){if(!e.apply(this,arguments))return;var O=N(this,T).event(C),R=this.__zoom,D=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,r.apply(this,arguments)))),b=zt(C);if(O.wheel)(O.mouse[0][0]!==b[0]||O.mouse[0][1]!==b[1])&&(O.mouse[1]=R.invert(O.mouse[0]=b)),clearTimeout(O.wheel);else{if(R.k===D)return;O.mouse=[b,R.invert(b)],cs(this),O.start()}ei(C),O.wheel=setTimeout(A,v),O.zoom("mouse",n(p(g(R,D),O.mouse[0],O.mouse[1]),O.extent,a));function A(){O.wheel=null,O.end()}}function L(C,...T){if(d||!e.apply(this,arguments))return;var O=C.currentTarget,R=N(this,T,!0).event(C),D=gt(C.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",K,!0),b=zt(C,O),A=C.clientX,F=C.clientY;Fy(C.view),pu(C),R.mouse=[b,this.__zoom.invert(b)],cs(this),R.start();function U(X){if(ei(X),!R.moved){var q=X.clientX-A,re=X.clientY-F;R.moved=q*q+re*re>y}R.event(X).zoom("mouse",n(p(R.that.__zoom,R.mouse[0]=zt(X,O),R.mouse[1]),R.extent,a))}function K(X){D.on("mousemove.zoom mouseup.zoom",null),$y(X.view,R.moved),ei(X),R.event(X).end()}}function I(C,...T){if(e.apply(this,arguments)){var O=this.__zoom,R=zt(C.changedTouches?C.changedTouches[0]:C,this),D=O.invert(R),b=O.k*(C.shiftKey?.5:2),A=n(p(g(O,b),R,D),t.apply(this,T),a);ei(C),s>0?gt(this).transition().duration(s).call(_,A,R,C):gt(this).call(m.transform,A,R,C)}}function H(C,...T){if(e.apply(this,arguments)){var O=C.touches,R=O.length,D=N(this,T,C.changedTouches.length===R).event(C),b,A,F,U;for(pu(C),A=0;A<R;++A)F=O[A],U=zt(F,this),U=[U,this.__zoom.invert(U),F.identifier],D.touch0?!D.touch1&&D.touch0[2]!==U[2]&&(D.touch1=U,D.taps=0):(D.touch0=U,b=!0,D.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(D.taps<2&&(f=U[0],c=setTimeout(function(){c=null},h)),cs(this),D.start())}}function z(C,...T){if(this.__zooming){var O=N(this,T).event(C),R=C.changedTouches,D=R.length,b,A,F,U;for(ei(C),b=0;b<D;++b)A=R[b],F=zt(A,this),O.touch0&&O.touch0[2]===A.identifier?O.touch0[0]=F:O.touch1&&O.touch1[2]===A.identifier&&(O.touch1[0]=F);if(A=O.that.__zoom,O.touch1){var K=O.touch0[0],X=O.touch0[1],q=O.touch1[0],re=O.touch1[1],Q=(Q=q[0]-K[0])*Q+(Q=q[1]-K[1])*Q,$=($=re[0]-X[0])*$+($=re[1]-X[1])*$;A=g(A,Math.sqrt(Q/$)),F=[(K[0]+q[0])/2,(K[1]+q[1])/2],U=[(X[0]+re[0])/2,(X[1]+re[1])/2]}else if(O.touch0)F=O.touch0[0],U=O.touch0[1];else return;O.zoom("touch",n(p(A,F,U),O.extent,a))}}function B(C,...T){if(this.__zooming){var O=N(this,T).event(C),R=C.changedTouches,D=R.length,b,A;for(pu(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),b=0;b<D;++b)A=R[b],O.touch0&&O.touch0[2]===A.identifier?delete O.touch0:O.touch1&&O.touch1[2]===A.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(A=zt(A,this),Math.hypot(f[0]-A[0],f[1]-A[1])<x)){var F=gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:$a(+C),m):r},m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:$a(!!C),m):e},m.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:$a(!!C),m):o},m.extent=function(C){return arguments.length?(t=typeof C=="function"?C:$a([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),m):t},m.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],m):[i[0],i[1]]},m.translateExtent=function(C){return arguments.length?(a[0][0]=+C[0][0],a[1][0]=+C[1][0],a[0][1]=+C[0][1],a[1][1]=+C[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(C){return arguments.length?(n=C,m):n},m.duration=function(C){return arguments.length?(s=+C,m):s},m.interpolate=function(C){return arguments.length?(l=C,m):l},m.on=function(){var C=u.on.apply(u,arguments);return C===u?m:C},m.clickDistance=function(C){return arguments.length?(y=(C=+C)*C,m):Math.sqrt(y)},m.tapDistance=function(C){return arguments.length?(x=+C,m):x},m}const an={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Hi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],r0=["Enter"," ","Escape"],o0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Po;(function(e){e.Strict="strict",e.Loose="loose"})(Po||(Po={}));var _r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_r||(_r={}));var Ui;(function(e){e.Partial="partial",e.Full="full"})(Ui||(Ui={}));const i0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fn||(Fn={}));var Ys;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ys||(Ys={}));var le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(le||(le={}));const np={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top};function a0(e){return e===null?null:e?"valid":"invalid"}const s0=e=>"id"in e&&"source"in e&&"target"in e,G_=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Wd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),oa=(e,t=[0,0])=>{const{width:n,height:r}=Mn(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},Q_=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let a=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(a=i?t.nodeLookup.get(o):Wd(o)?o:t.nodeLookup.get(o.id));const s=a?Ks(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sl(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return El(n)},ia=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=Ks(r);n=Sl(n,o)}}),El(n)},Yd=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...sa(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,v=c.height??u.height??u.initialHeight??null,y=Wi(s,Oo(u)),x=(h??0)*(v??0),m=i&&y>0;(!u.internals.handleBounds||m||y>=x||u.dragging)&&l.push(u)}return l},Z_=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function J_(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function q_({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(e.size===0)return Promise.resolve(!0);const s=J_(e,a),l=ia(s),u=Kd(l,t,n,(a==null?void 0:a.minZoom)??o,(a==null?void 0:a.maxZoom)??i,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function l0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=a.extent||o;if(a.extent==="parent"&&!a.expandParent)if(!s)i==null||i("005",an.error005());else{const h=s.measured.width,v=s.measured.height;h&&v&&(f=[[l,u],[l+h,u+v]])}else s&&Ro(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=Ro(f)?Rr(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(i==null||i("015",an.error015())),{position:{x:d.x-l+(a.measured.width??0)*c[0],y:d.y-u+(a.measured.height??0)*c[1]},positionAbsolute:d}}async function ek({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),v=!h&&d.parentId&&a.find(y=>y.id===d.parentId);(h||v)&&a.push(d)}const s=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=Z_(a,l);for(const d of l)s.has(d.id)&&!c.find(v=>v.id===d.id)&&c.push(d);if(!o)return{edges:c,nodes:a};const f=await o({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const To=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Rr=(e={x:0,y:0},t,n)=>({x:To(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:To(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function u0(e,t,n){const{width:r,height:o}=Mn(n),{x:i,y:a}=n.internals.positionAbsolute;return Rr(e,[[i,a],[i+r,a+o]],t)}const rp=(e,t,n)=>e<t?To(Math.abs(e-t),1,t)/t:e>n?-To(Math.abs(e-n),1,t)/t:0,c0=(e,t,n=15,r=40)=>{const o=rp(e.x,r,t.width-r)*n,i=rp(e.y,r,t.height-r)*n;return[o,i]},Sl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Mc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),El=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Oo=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Wd(e)?e.internals.positionAbsolute:oa(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Ks=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Wd(e)?e.internals.positionAbsolute:oa(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},d0=(e,t)=>El(Sl(Mc(e),Mc(t))),Wi=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},op=e=>Bt(e.width)&&Bt(e.height)&&Bt(e.x)&&Bt(e.y),Bt=e=>!isNaN(e)&&isFinite(e),tk=(e,t)=>{},aa=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),sa=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{const s={x:(e-n)/o,y:(t-r)/o};return i?aa(s,a):s},Xs=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Xr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function nk(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Xr(e,n),o=Xr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Xr(e.top??e.y??0,n),o=Xr(e.bottom??e.y??0,n),i=Xr(e.left??e.x??0,t),a=Xr(e.right??e.x??0,t);return{top:r,right:a,bottom:o,left:i,x:i+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function rk(e,t,n,r,o,i){const{x:a,y:s}=Xs(e,[t,n,r]),{x:l,y:u}=Xs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=o-l,f=i-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(f)}}const Kd=(e,t,n,r,o,i)=>{const a=nk(i,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,u=Math.min(s,l),c=To(u,r,o),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,v=n/2-d*c,y=rk(e,h,v,c,t,n),x={left:Math.min(y.left-a.left,0),top:Math.min(y.top-a.top,0),right:Math.min(y.right-a.right,0),bottom:Math.min(y.bottom-a.bottom,0)};return{x:h-x.left+x.right,y:v-x.top+x.bottom,zoom:c}},Yi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ro(e){return e!=null&&e!=="parent"}function Mn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function f0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function h0(e,t={width:0,height:0},n,r,o){const i={...e},a=r.get(n);if(a){const s=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return i}function ip(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ok(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function ik(e){return{...o0,...e||{}}}function vi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:a}=tn(e),s=sa({x:i-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)},r),{x:l,y:u}=n?aa(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Xd=e=>({width:e.offsetWidth,height:e.offsetHeight}),p0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ak=["INPUT","SELECT","TEXTAREA"];function m0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:ak.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const g0=e=>"clientX"in e,tn=(e,t)=>{var i,a;const n=g0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},ap=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:o,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Xd(a)}})};function y0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=e*.125+o*.375+a*.375+n*.125,u=t*.125+i*.375+s*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function Ba(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function sp({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case le.Left:return[t-Ba(t-r,i),n];case le.Right:return[t+Ba(r-t,i),n];case le.Top:return[t,n-Ba(n-o,i)];case le.Bottom:return[t,n+Ba(o-n,i)]}}function Gd({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top,curvature:a=.25}){const[s,l]=sp({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[u,c]=sp({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[f,d,h,v]=y0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${o}`,f,d,h,v]}function v0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[i,s,o,a]}function sk({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const i=o&&n?1e3:0,a=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return i+a}function lk({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Sl(Ks(e),Ks(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Wi(a,El(i))>0}const uk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,ck=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),dk=(e,t)=>{if(!e.source||!e.target)return t;let n;return s0(e)?n={...e}:n={...e,id:uk(e)},ck(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function x0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=v0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}const lp={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}},fk=({source:e,sourcePosition:t=le.Bottom,target:n})=>t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},up=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function hk({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:r=le.Top,center:o,offset:i,stepPosition:a}){const s=lp[t],l=lp[r],u={x:e.x+s.x*i,y:e.y+s.y*i},c={x:n.x+l.x*i,y:n.y+l.y*i},f=fk({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let v=[],y,x;const m={x:0,y:0},g={x:0,y:0},[,,p,w]=v0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){d==="x"?(y=o.x??u.x+(c.x-u.x)*a,x=o.y??(u.y+c.y)/2):(y=o.x??(u.x+c.x)/2,x=o.y??u.y+(c.y-u.y)*a);const N=[{x:y,y:u.y},{x:y,y:c.y}],S=[{x:u.x,y:x},{x:c.x,y:x}];s[d]===h?v=d==="x"?N:S:v=d==="x"?S:N}else{const N=[{x:u.x,y:c.y}],S=[{x:c.x,y:u.y}];if(d==="x"?v=s.x===h?S:N:v=s.y===h?N:S,t===r){const z=Math.abs(e[d]-n[d]);if(z<=i){const B=Math.min(i-1,i-z);s[d]===h?m[d]=(u[d]>e[d]?-1:1)*B:g[d]=(c[d]>n[d]?-1:1)*B}}if(t!==r){const z=d==="x"?"y":"x",B=s[d]===l[z],C=u[z]>c[z],T=u[z]<c[z];(s[d]===1&&(!B&&C||B&&T)||s[d]!==1&&(!B&&T||B&&C))&&(v=d==="x"?N:S)}const M={x:u.x+m.x,y:u.y+m.y},L={x:c.x+g.x,y:c.y+g.y},I=Math.max(Math.abs(M.x-v[0].x),Math.abs(L.x-v[0].x)),H=Math.max(Math.abs(M.y-v[0].y),Math.abs(L.y-v[0].y));I>=H?(y=(M.x+L.x)/2,x=v[0].y):(y=v[0].x,x=(M.y+L.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...v,{x:c.x+g.x,y:c.y+g.y},n],y,x,p,w]}function pk(e,t,n,r){const o=Math.min(up(e,t)/2,up(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${a}Q ${i},${a} ${i},${a+o*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+o*l}Q ${i},${a} ${i+o*s},${a}`}function bc({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,v,y]=hk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:u,stepPosition:c});return[f.reduce((m,g,p)=>{let w="";return p>0&&p<f.length-1?w=pk(f[p-1],g,f[p+1],a):w=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=w,m},""),d,h,v,y]}function cp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function mk(e){var f;const{sourceNode:t,targetNode:n}=e;if(!cp(t)||!cp(n))return null;const r=t.internals.handleBounds||dp(t.handles),o=n.internals.handleBounds||dp(n.handles),i=fp((r==null?void 0:r.source)??[],e.sourceHandle),a=fp(e.connectionMode===Po.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!a)return(f=e.onError)==null||f.call(e,"008",an.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(i==null?void 0:i.position)||le.Bottom,l=(a==null?void 0:a.position)||le.Top,u=Ki(t,i,s),c=Ki(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function dp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ki(e,t,n=le.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Mn(e);if(r)return{x:o+a/2,y:i+s/2};switch((t==null?void 0:t.position)??n){case le.Top:return{x:o+a/2,y:i};case le.Right:return{x:o+a,y:i+s/2};case le.Bottom:return{x:o+a/2,y:i+s};case le.Left:return{x:o,y:i+s/2}}}function fp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Dc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function gk(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||o].forEach(l=>{if(l&&typeof l=="object"){const u=Dc(l,t);i.has(u)||(a.push({id:u,color:l.color||n,...l}),i.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const Qd={nodeOrigin:[0,0],nodeExtent:Hi,elevateNodesOnSelect:!0,defaults:{}},yk={...Qd,checkEquality:!0};function Zd(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function vk(e,t,n){const r=Zd(Qd,n);for(const o of e.values())if(o.parentId)Jd(o,e,t,r);else{const i=oa(o,r.nodeOrigin),a=Ro(o.extent)?o.extent:r.nodeExtent,s=Rr(i,a,Mn(o));o.internals.positionAbsolute=s}}function Pc(e,t,n,r){var l,u;const o=Zd(yk,r);let i=e.length>0;const a=new Map(t),s=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let f=a.get(c.id);if(o.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const d=oa(c,o.nodeOrigin),h=Ro(c.extent)?c.extent:o.nodeExtent,v=Rr(d,h,Mn(c));f={...o.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:v,handleBounds:c.measured?f==null?void 0:f.internals.handleBounds:void 0,z:w0(c,s),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),c.parentId&&Jd(f,t,n,r)}return i}function xk(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Jd(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=Zd(Qd,r),s=e.parentId,l=t.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}xk(e,n);const u=o?1e3:0,{x:c,y:f,z:d}=wk(e,l,i,a,u),{positionAbsolute:h}=e.internals,v=c!==h.x||f!==h.y;(v||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:c,y:f}:h,z:d}})}function w0(e,t){return(Bt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function wk(e,t,n,r,o){const{x:i,y:a}=t.internals.positionAbsolute,s=Mn(e),l=oa(e,n),u=Ro(e.extent)?Rr(l,e.extent,s):l;let c=Rr({x:i+u.x,y:a+u.y},r,s);e.extent==="parent"&&(c=u0(c,s,t));const f=w0(e,o),d=t.internals.z??0;return{x:c.x,y:c.y,z:d>=f?d+1:f}}function qd(e,t,n,r=[0,0]){var a;const o=[],i=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const u=((a=i.get(s.parentId))==null?void 0:a.expandedRect)??Oo(l),c=d0(u,s.rect);i.set(s.parentId,{expandedRect:c,parent:l})}return i.size>0&&i.forEach(({expandedRect:s,parent:l},u)=>{var p;const c=l.internals.positionAbsolute,f=Mn(l),d=l.origin??r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,v=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,y=Math.max(f.width,Math.round(s.width)),x=Math.max(f.height,Math.round(s.height)),m=(y-f.width)*d[0],g=(x-f.height)*d[1];(h>0||v>0||m||g)&&(o.push({id:u,type:"position",position:{x:l.position.x-h+m,y:l.position.y-v+g}}),(p=n.get(u))==null||p.forEach(w=>{e.some(_=>_.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+h,y:w.position.y+v}})})),(f.width<s.width||f.height<s.height||h||v)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-m:0),height:x+(v?d[1]*v-g:0)}})}),o}function Sk(e,t,n,r,o,i){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const l=[],u=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),s=!0;continue}const v=Xd(d.nodeElement),y=h.measured.width!==v.width||h.measured.height!==v.height;if(!!(v.width&&v.height&&(y||!h.internals.handleBounds||d.force))){const m=d.nodeElement.getBoundingClientRect(),g=Ro(h.extent)?h.extent:i;let{positionAbsolute:p}=h.internals;h.parentId&&h.extent==="parent"?p=u0(p,v,t.get(h.parentId)):g&&(p=Rr(p,g,v));const w={...h,measured:v,internals:{...h.internals,positionAbsolute:p,handleBounds:{source:ap("source",d.nodeElement,m,c,h.id),target:ap("target",d.nodeElement,m,c,h.id)}}};t.set(h.id,w),h.parentId&&Jd(w,t,n,{nodeOrigin:o}),s=!0,y&&(l.push({id:h.id,type:"dimensions",dimensions:v}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:Oo(w,o)}))}}if(f.length>0){const d=qd(f,t,n,o);l.push(...d)}return{changes:l,updatedInternals:s}}async function Ek({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function hp(e,t,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${o}-${e}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),i){a=`${o}-${e}-${i}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function S0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:o,target:i,sourceHandle:a,targetHandle:s},u=`${o}-${a}--${i}-${s}`,c=`${i}-${s}--${o}-${a}`;hp("source",l,c,e,o,a),hp("target",l,u,e,i,s),t.set(r.id,r)}}function E0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:E0(n,t):!1}function pp(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Ck(e,t,n,r){const o=new Map;for(const[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!E0(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(i);s&&o.set(i,{id:i,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return o}function mu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,l;const o=[];for(const[u,c]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&o.push({...f,position:c.position,dragging:r})}if(!e)return[o[0],o];const i=(s=n.get(e))==null?void 0:s.internals.userNode;return[i?{...i,position:((l=t.get(e))==null?void 0:l.position)||i.position,dragging:r}:o[0],o]}function _k({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},a=aa(i,t);return{x:a.x-i.x,y:a.y-i.y}}function kk({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,v=!1,y=null;function x({noDragClassName:g,handleSelector:p,domNode:w,isSelectable:_,nodeId:N,nodeClickDistance:S=0}){d=gt(w);function M({x:z,y:B}){const{nodeLookup:C,nodeExtent:T,snapGrid:O,snapToGrid:R,nodeOrigin:D,onNodeDrag:b,onSelectionDrag:A,onError:F,updateNodePositions:U}=t();i={x:z,y:B};let K=!1;const X=s.size>1,q=X&&T?Mc(ia(s)):null,re=X&&R?_k({dragItems:s,snapGrid:O,x:z,y:B}):null;for(const[Q,$]of s){if(!C.has(Q))continue;let Z={x:z-$.distance.x,y:B-$.distance.y};R&&(Z=re?{x:Math.round(Z.x+re.x),y:Math.round(Z.y+re.y)}:aa(Z,O));let ce=null;if(X&&T&&!$.extent&&q){const{positionAbsolute:ie}=$.internals,ue=ie.x-q.x+T[0][0],Ee=ie.x+$.measured.width-q.x2+T[1][0],ye=ie.y-q.y+T[0][1],nt=ie.y+$.measured.height-q.y2+T[1][1];ce=[[ue,ye],[Ee,nt]]}const{position:fe,positionAbsolute:J}=l0({nodeId:Q,nextPosition:Z,nodeLookup:C,nodeExtent:ce||T,nodeOrigin:D,onError:F});K=K||$.position.x!==fe.x||$.position.y!==fe.y,$.position=fe,$.internals.positionAbsolute=J}if(v=v||K,!!K&&(U(s,!0),y&&(r||b||!N&&A))){const[Q,$]=mu({nodeId:N,dragItems:s,nodeLookup:C});r==null||r(y,s,Q,$),b==null||b(y,Q,$),N||A==null||A(y,$)}}async function L(){if(!c)return;const{transform:z,panBy:B,autoPanSpeed:C,autoPanOnNodeDrag:T}=t();if(!T){l=!1,cancelAnimationFrame(a);return}const[O,R]=c0(u,c,C);(O!==0||R!==0)&&(i.x=(i.x??0)-O/z[2],i.y=(i.y??0)-R/z[2],await B({x:O,y:R})&&M(i)),a=requestAnimationFrame(L)}function I(z){var X;const{nodeLookup:B,multiSelectionActive:C,nodesDraggable:T,transform:O,snapGrid:R,snapToGrid:D,selectNodesOnDrag:b,onNodeDragStart:A,onSelectionDragStart:F,unselectNodesAndEdges:U}=t();f=!0,(!b||!_)&&!C&&N&&((X=B.get(N))!=null&&X.selected||U()),_&&b&&N&&(e==null||e(N));const K=vi(z.sourceEvent,{transform:O,snapGrid:R,snapToGrid:D,containerBounds:c});if(i=K,s=Ck(B,T,K,N),s.size>0&&(n||A||!N&&F)){const[q,re]=mu({nodeId:N,dragItems:s,nodeLookup:B});n==null||n(z.sourceEvent,s,q,re),A==null||A(z.sourceEvent,q,re),N||F==null||F(z.sourceEvent,re)}}const H=By().clickDistance(S).on("start",z=>{const{domNode:B,nodeDragThreshold:C,transform:T,snapGrid:O,snapToGrid:R}=t();c=(B==null?void 0:B.getBoundingClientRect())||null,h=!1,v=!1,y=z.sourceEvent,C===0&&I(z),i=vi(z.sourceEvent,{transform:T,snapGrid:O,snapToGrid:R,containerBounds:c}),u=tn(z.sourceEvent,c)}).on("drag",z=>{const{autoPanOnNodeDrag:B,transform:C,snapGrid:T,snapToGrid:O,nodeDragThreshold:R,nodeLookup:D}=t(),b=vi(z.sourceEvent,{transform:C,snapGrid:T,snapToGrid:O,containerBounds:c});if(y=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||N&&!D.has(N))&&(h=!0),!h){if(!l&&B&&f&&(l=!0,L()),!f){const A=b.xSnapped-(i.x??0),F=b.ySnapped-(i.y??0);Math.sqrt(A*A+F*F)>R&&I(z)}(i.x!==b.xSnapped||i.y!==b.ySnapped)&&s&&f&&(u=tn(z.sourceEvent,c),M(b))}}).on("end",z=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:B,updateNodePositions:C,onNodeDragStop:T,onSelectionDragStop:O}=t();if(v&&(C(s,!1),v=!1),o||T||!N&&O){const[R,D]=mu({nodeId:N,dragItems:s,nodeLookup:B,dragging:!1});o==null||o(z.sourceEvent,s,R,D),T==null||T(z.sourceEvent,R,D),N||O==null||O(z.sourceEvent,D)}}}).filter(z=>{const B=z.target;return!z.button&&(!g||!pp(B,`.${g}`,w))&&(!p||pp(B,p,w))});d.call(H)}function m(){d==null||d.on(".drag",null)}return{update:x,destroy:m}}function Nk(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Wi(o,Oo(i))>0&&r.push(i);return r}const Mk=250;function bk(e,t,n,r){var s,l;let o=[],i=1/0;const a=Nk(e,n,t+Mk);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Ki(u,f,f.position,!0),v=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));v>t||(v<i?(o=[{...f,x:d,y:h}],i=v):v===i&&o.push({...f,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(c=>c.type===u)??o[0]}return o[0]}function C0(e,t,n,r,o,i=!1){var u,c,f;const a=r.get(e);if(!a)return null;const s=o==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&i?{...l,...Ki(a,l,l.position,!0)}:l}function _0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Dk(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const k0=()=>!0;function Pk(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:v,onConnect:y,onConnectEnd:x,isValidConnection:m=k0,onReconnectEnd:g,updateConnection:p,getTransform:w,getFromHandle:_,autoPanSpeed:N,dragThreshold:S=1,handleDomNode:M}){const L=p0(e.target);let I=0,H;const{x:z,y:B}=tn(e),C=_0(i,M),T=s==null?void 0:s.getBoundingClientRect();let O=!1;if(!T||!C)return;const R=C0(o,C,r,l,t);if(!R)return;let D=tn(e,T),b=!1,A=null,F=!1,U=null;function K(){if(!c||!T)return;const[fe,J]=c0(D,T,N);d({x:fe,y:J}),I=requestAnimationFrame(K)}const X={...R,nodeId:o,type:C,position:R.position},q=l.get(o);let Q={inProgress:!0,isValid:null,from:Ki(q,X,le.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:q,to:D,toHandle:null,toPosition:np[X.position],toNode:null};function $(){O=!0,p(Q),v==null||v(e,{nodeId:o,handleId:r,handleType:C})}S===0&&$();function Z(fe){if(!O){const{x:Ee,y:ye}=tn(fe),nt=Ee-z,Kt=ye-B;if(!(nt*nt+Kt*Kt>S*S))return;$()}if(!_()||!X){ce(fe);return}const J=w();D=tn(fe,T),H=bk(sa(D,J,!1,[1,1]),n,l,X),b||(K(),b=!0);const ie=N0(fe,{handle:H,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:m,doc:L,lib:u,flowId:f,nodeLookup:l});U=ie.handleDomNode,A=ie.connection,F=Dk(!!H,ie.isValid);const ue={...Q,isValid:F,to:ie.toHandle&&F?Xs({x:ie.toHandle.x,y:ie.toHandle.y},J):D,toHandle:ie.toHandle,toPosition:F&&ie.toHandle?ie.toHandle.position:np[X.position],toNode:ie.toHandle?l.get(ie.toHandle.nodeId):null};F&&H&&Q.toHandle&&ue.toHandle&&Q.toHandle.type===ue.toHandle.type&&Q.toHandle.nodeId===ue.toHandle.nodeId&&Q.toHandle.id===ue.toHandle.id&&Q.to.x===ue.to.x&&Q.to.y===ue.to.y||(p(ue),Q=ue)}function ce(fe){if(O){(H||U)&&A&&F&&(y==null||y(A));const{inProgress:J,...ie}=Q,ue={...ie,toPosition:Q.toHandle?Q.toPosition:null};x==null||x(fe,ue),i&&(g==null||g(fe,ue))}h(),cancelAnimationFrame(I),b=!1,F=!1,A=null,U=null,L.removeEventListener("mousemove",Z),L.removeEventListener("mouseup",ce),L.removeEventListener("touchmove",Z),L.removeEventListener("touchend",ce)}L.addEventListener("mousemove",Z),L.addEventListener("mouseup",ce),L.addEventListener("touchmove",Z),L.addEventListener("touchend",ce)}function N0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:l,isValidConnection:u=k0,nodeLookup:c}){const f=i==="target",d=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:v}=tn(e),y=a.elementFromPoint(h,v),x=y!=null&&y.classList.contains(`${s}-flow__handle`)?y:d,m={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const g=_0(void 0,x),p=x.getAttribute("data-nodeid"),w=x.getAttribute("data-handleid"),_=x.classList.contains("connectable"),N=x.classList.contains("connectableend");if(!p||!g)return m;const S={source:f?p:r,sourceHandle:f?w:o,target:f?r:p,targetHandle:f?o:w};m.connection=S;const L=_&&N&&(n===Po.Strict?f&&g==="source"||!f&&g==="target":p!==r||w!==o);m.isValid=L&&u(S),m.toHandle=C0(p,g,w,c,n,!0)}return m}const Tc={onPointerDown:Pk,isValid:N0};function Tk({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=gt(e);function i({translateExtent:s,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const v=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const w=n(),_=p.sourceEvent.ctrlKey&&Yi()?10:1,N=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*c,S=w[2]*Math.pow(2,N*_);t.scaleTo(S)};let y=[0,0];const x=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(y=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const w=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const _=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],N=[_[0]-y[0],_[1]-y[1]];y=_;const S=r()*Math.max(w[2],Math.log(w[2]))*(h?-1:1),M={x:w[0]-N[0]*S,y:w[1]-N[1]*S},L=[[0,0],[l,u]];t.setViewportConstrained({x:M.x,y:M.y,zoom:w[2]},L,s)},g=n0().on("start",x).on("zoom",f?m:null).on("zoom.wheel",d?v:null);o.call(g,{})}function a(){o.on("zoom",null)}return{update:i,destroy:a,pointer:zt}}const Ok=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Cl=e=>({x:e.x,y:e.y,zoom:e.k}),gu=({x:e,y:t,zoom:n})=>wl.translate(e,t).scale(n),lo=(e,t)=>e.target.closest(`.${t}`),M0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Rk=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,yu=(e,t=0,n=Rk,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},b0=e=>{const t=e.ctrlKey&&Yi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Lk({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(lo(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const x=zt(c),m=b0(c),g=f*Math.pow(2,m);r.scaleTo(n,g,x,c);return}const d=c.deltaMode===1?20:1;let h=o===_r.Vertical?0:c.deltaX*d,v=o===_r.Horizontal?0:c.deltaY*d;!Yi()&&c.shiftKey&&o!==_r.Vertical&&(h=c.deltaY*d,v=0),r.translateBy(n,-(h/f)*i,-(v/f)*i,{internal:!0});const y=Cl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s==null||s(c,y)),e.isPanScrolling&&(l==null||l(c,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),e.isPanScrolling=!1},150))}}function Ik({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",a=!t&&i&&!r.ctrlKey,s=lo(r,e);if(r.ctrlKey&&i&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,o)}}function Ak({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,a,s;if((i=r.sourceEvent)!=null&&i.internal)return;const o=Cl(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function jk({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var a,s;e.usedRightMouseButton=!!(n&&M0(t,e.mouseButton??0)),(a=i.sourceEvent)!=null&&a.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((s=i.sourceEvent)!=null&&s.internal)&&(o==null||o(i.sourceEvent,Cl(i.transform)))}}function zk({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,i&&M0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&Ok(e.prevViewport,a.transform))){const l=Cl(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(a.sourceEvent,l)},n?150:0)}}}function Fk({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u}){return c=>{var v;const f=e||t,d=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(lo(c,`${u}-flow__node`)||lo(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||a||lo(c,s)&&c.type==="wheel"||lo(c,l)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((v=c.touches)==null?void 0:v.length)>1)return c.preventDefault(),!1;if(!f&&!o&&!d&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function $k({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=n0().clickDistance(!Bt(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=gt(e).call(d);p({x:i.x,y:i.y,zoom:To(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const v=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(b0);function x(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:ss).transform(yu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function m({noWheelClassName:z,noPanClassName:B,onPaneContextMenu:C,userSelectionActive:T,panOnScroll:O,panOnDrag:R,panOnScrollMode:D,panOnScrollSpeed:b,preventScrolling:A,zoomOnPinch:F,zoomOnScroll:U,zoomOnDoubleClick:K,zoomActivationKeyPressed:X,lib:q,onTransformChange:re}){T&&!c.isZoomingOrPanning&&g();const $=O&&!X&&!T?Lk({zoomPanValues:c,noWheelClassName:z,d3Selection:h,d3Zoom:d,panOnScrollMode:D,panOnScrollSpeed:b,zoomOnPinch:F,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l}):Ik({noWheelClassName:z,preventScrolling:A,d3ZoomHandler:v});if(h.on("wheel.zoom",$,{passive:!1}),!T){const ce=Ak({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});d.on("start",ce);const fe=jk({zoomPanValues:c,panOnDrag:R,onPaneContextMenu:!!C,onPanZoom:a,onTransformChange:re});d.on("zoom",fe);const J=zk({zoomPanValues:c,panOnDrag:R,panOnScroll:O,onPaneContextMenu:C,onPanZoomEnd:l,onDraggingChange:u});d.on("end",J)}const Z=Fk({zoomActivationKeyPressed:X,panOnDrag:R,zoomOnScroll:U,panOnScroll:O,zoomOnDoubleClick:K,zoomOnPinch:F,userSelectionActive:T,noPanClassName:B,noWheelClassName:z,lib:q});d.filter(Z),K?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function g(){d.on("zoom",null)}async function p(z,B,C){const T=gu(z),O=d==null?void 0:d.constrain()(T,B,C);return O&&await x(O),new Promise(R=>R(O))}async function w(z,B){const C=gu(z);return await x(C,B),new Promise(T=>T(C))}function _(z){if(h){const B=gu(z),C=h.property("__zoom");(C.k!==z.zoom||C.x!==z.x||C.y!==z.y)&&(d==null||d.transform(h,B,null,{sync:!0}))}}function N(){const z=h?t0(h.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function S(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:ss).scaleTo(yu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function M(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:ss).scaleBy(yu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function L(z){d==null||d.scaleExtent(z)}function I(z){d==null||d.translateExtent(z)}function H(z){const B=!Bt(z)||z<0?0:z;d==null||d.clickDistance(B)}return{update:m,destroy:g,setViewport:w,setViewportConstrained:p,getViewport:N,scaleTo:S,scaleBy:M,setScaleExtent:L,setTranslateExtent:I,syncViewport:_,setClickDistance:H}}var Lo;(function(e){e.Line="line",e.Handle="handle"})(Lo||(Lo={}));function Bk({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(l[0]=l[0]*-1),s&&i&&(l[1]=l[1]*-1),l}function Vk(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function On(e,t){return Math.max(0,t-e)}function Rn(e,t){return Math.max(0,e-t)}function Va(e,t,n){return Math.max(0,t-e,e-n)}function mp(e,t){return e?!t:t}function Hk(e,t,n,r,o,i,a,s){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:v}=n,{minWidth:y,maxWidth:x,minHeight:m,maxHeight:g}=r,{x:p,y:w,width:_,height:N,aspectRatio:S}=e;let M=Math.floor(c?h-e.pointerX:0),L=Math.floor(f?v-e.pointerY:0);const I=_+(l?-M:M),H=N+(u?-L:L),z=-i[0]*_,B=-i[1]*N;let C=Va(I,y,x),T=Va(H,m,g);if(a){let D=0,b=0;l&&M<0?D=On(p+M+z,a[0][0]):!l&&M>0&&(D=Rn(p+I+z,a[1][0])),u&&L<0?b=On(w+L+B,a[0][1]):!u&&L>0&&(b=Rn(w+H+B,a[1][1])),C=Math.max(C,D),T=Math.max(T,b)}if(s){let D=0,b=0;l&&M>0?D=Rn(p+M,s[0][0]):!l&&M<0&&(D=On(p+I,s[1][0])),u&&L>0?b=Rn(w+L,s[0][1]):!u&&L<0&&(b=On(w+H,s[1][1])),C=Math.max(C,D),T=Math.max(T,b)}if(o){if(c){const D=Va(I/S,m,g)*S;if(C=Math.max(C,D),a){let b=0;!l&&!u||l&&!u&&d?b=Rn(w+B+I/S,a[1][1])*S:b=On(w+B+(l?M:-M)/S,a[0][1])*S,C=Math.max(C,b)}if(s){let b=0;!l&&!u||l&&!u&&d?b=On(w+I/S,s[1][1])*S:b=Rn(w+(l?M:-M)/S,s[0][1])*S,C=Math.max(C,b)}}if(f){const D=Va(H*S,y,x)/S;if(T=Math.max(T,D),a){let b=0;!l&&!u||u&&!l&&d?b=Rn(p+H*S+z,a[1][0])/S:b=On(p+(u?L:-L)*S+z,a[0][0])/S,T=Math.max(T,b)}if(s){let b=0;!l&&!u||u&&!l&&d?b=On(p+H*S,s[1][0])/S:b=Rn(p+(u?L:-L)*S,s[0][0])/S,T=Math.max(T,b)}}}L=L+(L<0?T:-T),M=M+(M<0?C:-C),o&&(d?I>H*S?L=(mp(l,u)?-M:M)/S:M=(mp(l,u)?-L:L)*S:c?(L=M/S,u=l):(M=L*S,l=u));const O=l?p+M:p,R=u?w+L:w;return{width:_+(l?-M:M),height:N+(u?-L:L),x:i[0]*M*(l?-1:1)+O,y:i[1]*L*(u?-1:1)+R}}const D0={width:0,height:0,x:0,y:0},Uk={...D0,pointerX:0,pointerY:0,aspectRatio:1};function Wk(e){return[[0,0],[e.measured.width,e.measured.height]]}function Yk(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,s=n[0]*i,l=n[1]*a;return[[r-s,o-l],[r+i-s,o+a-l]]}function Kk({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=gt(e);function a({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:f,onResizeStart:d,onResize:h,onResizeEnd:v,shouldResize:y}){let x={...D0},m={...Uk};const g=Vk(l);let p,w=null,_=[],N,S,M;const L=By().on("start",I=>{const{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,paneDomNode:O}=n();if(p=H.get(t),!p)return;w=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:D}=vi(I.sourceEvent,{transform:z,snapGrid:B,snapToGrid:C,containerBounds:w});x={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},m={...x,pointerX:R,pointerY:D,aspectRatio:x.width/x.height},N=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(N=H.get(p.parentId),S=N&&p.extent==="parent"?Wk(N):void 0),_=[],M=void 0;for(const[b,A]of H)if(A.parentId===t&&(_.push({id:b,position:{...A.position},extent:A.extent}),A.extent==="parent"||A.expandParent)){const F=Yk(A,p,A.origin??T);M?M=[[Math.min(F[0][0],M[0][0]),Math.min(F[0][1],M[0][1])],[Math.max(F[1][0],M[1][0]),Math.max(F[1][1],M[1][1])]]:M=F}d==null||d(I,{...x})}).on("drag",I=>{const{transform:H,snapGrid:z,snapToGrid:B,nodeOrigin:C}=n(),T=vi(I.sourceEvent,{transform:H,snapGrid:z,snapToGrid:B,containerBounds:w}),O=[];if(!p)return;const{x:R,y:D,width:b,height:A}=x,F={},U=p.origin??C,{width:K,height:X,x:q,y:re}=Hk(m,g,T,u,c,U,S,M),Q=K!==b,$=X!==A,Z=q!==R&&Q,ce=re!==D&&$;if(!Z&&!ce&&!Q&&!$)return;if((Z||ce||U[0]===1||U[1]===1)&&(F.x=Z?q:x.x,F.y=ce?re:x.y,x.x=F.x,x.y=F.y,_.length>0)){const ue=q-R,Ee=re-D;for(const ye of _)ye.position={x:ye.position.x-ue+U[0]*(K-b),y:ye.position.y-Ee+U[1]*(X-A)},O.push(ye)}if((Q||$)&&(F.width=Q&&(!f||f==="horizontal")?K:x.width,F.height=$&&(!f||f==="vertical")?X:x.height,x.width=F.width,x.height=F.height),N&&p.expandParent){const ue=U[0]*(F.width??0);F.x&&F.x<ue&&(x.x=ue,m.x=m.x-(F.x-ue));const Ee=U[1]*(F.height??0);F.y&&F.y<Ee&&(x.y=Ee,m.y=m.y-(F.y-Ee))}const fe=Bk({width:x.width,prevWidth:b,height:x.height,prevHeight:A,affectsX:g.affectsX,affectsY:g.affectsY}),J={...x,direction:fe};(y==null?void 0:y(I,J))!==!1&&(h==null||h(I,J),r(F,O))}).on("end",I=>{v==null||v(I,{...x}),o==null||o({...x})});i.call(L)}function s(){i.on(".drag",null)}return{update:a,destroy:s}}const{useDebugValue:Xk}=Zs,{useSyncExternalStoreWithSelector:Gk}=Sy,Qk=e=>e;function P0(e,t=Qk,n){const r=Gk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Xk(r),r}const gp=(e,t)=>{const n=gy(e),r=(o,i=t)=>P0(n,o,i);return Object.assign(r,n),r},Zk=(e,t)=>e?gp(e,t):gp;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const _l=k.createContext(null),Jk=_l.Provider,T0=an.error001();function xe(e,t){const n=k.useContext(_l);if(n===null)throw new Error(T0);return P0(n,e,t)}function Re(){const e=k.useContext(_l);if(e===null)throw new Error(T0);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const yp={display:"none"},qk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},O0="react-flow__node-desc",R0="react-flow__edge-desc",eN="react-flow__aria-live",tN=e=>e.ariaLiveMessage,nN=e=>e.ariaLabelConfig;function rN({rfId:e}){const t=xe(tN);return E.jsx("div",{id:`${eN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:qk,children:t})}function oN({rfId:e,disableKeyboardA11y:t}){const n=xe(nN);return E.jsxs(E.Fragment,{children:[E.jsx("div",{id:`${O0}-${e}`,style:yp,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),E.jsx("div",{id:`${R0}-${e}`,style:yp,children:n["edge.a11yDescription.default"]}),!t&&E.jsx(rN,{rfId:e})]})}const kl=k.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const a=`${e}`.split("-");return E.jsx("div",{className:He(["react-flow__panel",n,...a]),style:r,ref:i,...o,children:t})});kl.displayName="Panel";function iN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:E.jsx(kl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:E.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const aN=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Ha=e=>e.id;function sN(e,t){return je(e.selectedNodes.map(Ha),t.selectedNodes.map(Ha))&&je(e.selectedEdges.map(Ha),t.selectedEdges.map(Ha))}function lN({onSelectionChange:e}){const t=Re(),{selectedNodes:n,selectedEdges:r}=xe(aN,sN);return k.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const uN=e=>!!e.onSelectionChangeHandlers;function cN({onSelectionChange:e}){const t=xe(uN);return e||t?E.jsx(lN,{onSelectionChange:e}):null}const L0=[0,0],dN={x:0,y:0,zoom:1},fN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],vp=[...fN,"rfId"],hN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),xp={translateExtent:Hi,nodeOrigin:L0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function pN(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=xe(hN,je),c=Re();k.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=xp,s()}),[]);const f=k.useRef(xp);return k.useEffect(()=>{for(const d of vp){const h=e[d],v=f.current[d];h!==v&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?o(h):d==="translateExtent"?i(h):d==="nodeExtent"?a(h):d==="paneClickDistance"?u(h):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:ik(h)}):d==="fitView"?c.setState({fitViewQueued:h}):d==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[d]:h})))}f.current=e},vp.map(d=>e[d])),null}function wp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function mN(e){var r;const[t,n]=k.useState(e==="system"?null:e);return k.useEffect(()=>{if(e!=="system"){n(e);return}const o=wp(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=wp())!=null&&r.matches?"dark":"light"}const Sp=typeof document<"u"?document:null;function Xi(e=null,t={target:Sp,actInsideInputWithModifier:!0}){const[n,r]=k.useState(!1),o=k.useRef(!1),i=k.useRef(new Set([])),[a,s]=k.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return k.useEffect(()=>{const l=(t==null?void 0:t.target)??Sp,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var x,m;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!u)&&m0(h))return!1;const y=Cp(h.code,s);if(i.current.add(h[y]),Ep(a,i.current,!1)){const g=((m=(x=h.composedPath)==null?void 0:x.call(h))==null?void 0:m[0])||h.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(o.current||!p)&&h.preventDefault(),r(!0)}},f=h=>{const v=Cp(h.code,s);Ep(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[v]),h.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Ep(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Cp(e,t){return t.includes(e)?"code":"key"}const gN=()=>{const e=Re();return k.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=Kd(t,r,o,i,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-l},c=n.snapGrid??o,f=n.snapToGrid??i;return sa(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=Xs(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function I0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const a=r.get(i.id);a?a.push(i):r.set(i.id,[i])}for(const i of t){const a=r.get(i.id);if(!a){n.push(i);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...i};for(const l of a)yN(l,s);n.push(s)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function yN(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function A0(e,t){return I0(e,t)}function vN(e,t){return I0(e,t)}function hr(e,t){return{id:e,type:"select",selected:t}}function uo(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const a=t.has(o);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(hr(i.id,a)))}return r}function _p({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,a]of e.entries()){const s=t.get(a.id),l=((o=s==null?void 0:s.internals)==null?void 0:o.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function kp(e){return{id:e.id,type:"remove"}}const Np=e=>G_(e),xN=e=>s0(e);function j0(e){return k.forwardRef(e)}const wN=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Mp(e){const[t,n]=k.useState(BigInt(0)),[r]=k.useState(()=>SN(()=>n(o=>o+BigInt(1))));return wN(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function SN(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const z0=k.createContext(null);function EN({children:e}){const t=Re(),n=k.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h}=t.getState();let v=l;for(const x of s)v=typeof x=="function"?x(v):x;const y=_p({items:v,lookup:d});c&&u(v),y.length>0?f==null||f(y):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:m,setNodes:g}=t.getState();x&&g(m)})},[]),r=Mp(n),o=k.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const v of s)h=typeof v=="function"?v(h):v;c?u(h):f&&f(_p({items:h,lookup:d}))},[]),i=Mp(o),a=k.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return E.jsx(z0.Provider,{value:a,children:e})}function CN(){const e=k.useContext(z0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const _N=e=>!!e.panZoom;function ef(){const e=gN(),t=Re(),n=CN(),r=xe(_N),o=k.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var m,g;const{nodeLookup:d,nodeOrigin:h}=t.getState(),v=Np(f)?f:d.get(f.id),y=v.parentId?h0(v.position,v.measured,v.parentId,d,h):v.position,x={...v,position:y,width:((m=v.measured)==null?void 0:m.width)??v.width,height:((g=v.measured)==null?void 0:g.height)??v.height};return Oo(x)},u=(f,d,h={replace:!1})=>{a(v=>v.map(y=>{if(y.id===f){const x=typeof d=="function"?d(y):d;return h.replace&&Np(x)?x:{...y,...x}}return y}))},c=(f,d,h={replace:!1})=>{s(v=>v.map(y=>{if(y.id===f){const x=typeof d=="function"?d(y):d;return h.replace&&xN(x)?x:{...y,...x}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=i(f))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[v,y,x]=h;return{nodes:f.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:v,y,zoom:x}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:v,onNodesDelete:y,onEdgesDelete:x,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:w}=t.getState(),{nodes:_,edges:N}=await ek({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:v,onBeforeDelete:w}),S=N.length>0,M=_.length>0;if(S){const L=N.map(kp);x==null||x(N),g(L)}if(M){const L=_.map(kp);y==null||y(_),m(L)}return(M||S)&&(p==null||p({nodes:_,edges:N})),{deletedNodes:_,deletedEdges:N}},getIntersectingNodes:(f,d=!0,h)=>{const v=op(f),y=v?f:l(f),x=h!==void 0;return y?(h||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!v&&(m.id===f.id||!g.internals.positionAbsolute))return!1;const p=Oo(x?m:g),w=Wi(p,y);return d&&w>0||w>=p.width*p.height||w>=y.width*y.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const y=op(f)?f:l(f);if(!y)return!1;const x=Wi(y,d);return h&&x>0||x>=y.width*y.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,v=>{const y=typeof d=="function"?d(v):d;return h.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,v=>{const y=typeof d=="function"?d(v):d;return h.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return Q_(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:v.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??ok();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return k.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const bp=e=>e.selected,kN=typeof window<"u"?window:void 0;function NN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Re(),{deleteElements:r}=ef(),o=Xi(e,{actInsideInputWithModifier:!1}),i=Xi(t,{target:kN});k.useEffect(()=>{if(o){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(bp),edges:a.filter(bp)}),n.setState({nodesSelectionActive:!1})}},[o]),k.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function MN(e){const t=Re();k.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Xd(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",an.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Nl={position:"absolute",width:"100%",height:"100%",top:0,left:0},bN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function DN({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=_r.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:v,noWheelClassName:y,noPanClassName:x,onViewportChange:m,isControlledViewport:g,paneClickDistance:p}){const w=Re(),_=k.useRef(null),{userSelectionActive:N,lib:S}=xe(bN,je),M=Xi(d),L=k.useRef();MN(_);const I=k.useCallback(H=>{m==null||m({x:H[0],y:H[1],zoom:H[2]}),g||w.setState({transform:H})},[m,g]);return k.useEffect(()=>{if(_.current){L.current=$k({domNode:_.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,paneClickDistance:p,onDraggingChange:C=>w.setState({paneDragging:C}),onPanZoomStart:(C,T)=>{const{onViewportChangeStart:O,onMoveStart:R}=w.getState();R==null||R(C,T),O==null||O(T)},onPanZoom:(C,T)=>{const{onViewportChange:O,onMove:R}=w.getState();R==null||R(C,T),O==null||O(T)},onPanZoomEnd:(C,T)=>{const{onViewportChangeEnd:O,onMoveEnd:R}=w.getState();R==null||R(C,T),O==null||O(T)}});const{x:H,y:z,zoom:B}=L.current.getViewport();return w.setState({panZoom:L.current,transform:[H,z,B],domNode:_.current.closest(".react-flow")}),()=>{var C;(C=L.current)==null||C.destroy()}}},[]),k.useEffect(()=>{var H;(H=L.current)==null||H.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:M,preventScrolling:h,noPanClassName:x,userSelectionActive:N,noWheelClassName:y,lib:S,onTransformChange:I})},[e,t,n,r,o,i,a,s,M,h,x,N,y,S,I]),E.jsx("div",{className:"react-flow__renderer",ref:_,style:Nl,children:v})}const PN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function TN(){const{userSelectionActive:e,userSelectionRect:t}=xe(PN,je);return e&&t?E.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const vu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ON=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function RN({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ui.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const v=Re(),{userSelectionActive:y,elementsSelectable:x,dragging:m,connectionInProgress:g}=xe(ON,je),p=x&&(e||y),w=k.useRef(null),_=k.useRef(),N=k.useRef(new Set),S=k.useRef(new Set),M=k.useRef(!1),L=k.useRef(!1),I=R=>{if(M.current||g){M.current=!1;return}s==null||s(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},H=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},z=u?R=>u(R):void 0,B=R=>{var U,K;const{resetSelectedElements:D,domNode:b}=v.getState();if(_.current=b==null?void 0:b.getBoundingClientRect(),!x||!e||R.button!==0||R.target!==w.current||!_.current)return;(K=(U=R.target)==null?void 0:U.setPointerCapture)==null||K.call(U,R.pointerId),L.current=!0,M.current=!1;const{x:A,y:F}=tn(R.nativeEvent,_.current);D(),v.setState({userSelectionRect:{width:0,height:0,startX:A,startY:F,x:A,y:F}}),i==null||i(R)},C=R=>{const{userSelectionRect:D,transform:b,nodeLookup:A,edgeLookup:F,connectionLookup:U,triggerNodeChanges:K,triggerEdgeChanges:X,defaultEdgeOptions:q}=v.getState();if(!_.current||!D)return;M.current=!0;const{x:re,y:Q}=tn(R.nativeEvent,_.current),{startX:$,startY:Z}=D,ce={startX:$,startY:Z,x:re<$?re:$,y:Q<Z?Q:Z,width:Math.abs(re-$),height:Math.abs(Q-Z)},fe=N.current,J=S.current;N.current=new Set(Yd(A,ce,b,n===Ui.Partial,!0).map(ue=>ue.id)),S.current=new Set;const ie=(q==null?void 0:q.selectable)??!0;for(const ue of N.current){const Ee=U.get(ue);if(Ee)for(const{edgeId:ye}of Ee.values()){const nt=F.get(ye);nt&&(nt.selectable??ie)&&S.current.add(ye)}}if(!ip(fe,N.current)){const ue=uo(A,N.current,!0);K(ue)}if(!ip(J,S.current)){const ue=uo(F,S.current);X(ue)}v.setState({userSelectionRect:ce,userSelectionActive:!0,nodesSelectionActive:!1})},T=R=>{var b,A;if(R.button!==0||!L.current)return;(A=(b=R.target)==null?void 0:b.releasePointerCapture)==null||A.call(b,R.pointerId);const{userSelectionRect:D}=v.getState();!y&&D&&R.target===w.current&&(I==null||I(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),a==null||a(R),(t||o)&&(M.current=!1),L.current=!1},O=r===!0||Array.isArray(r)&&r.includes(0);return E.jsxs("div",{className:He(["react-flow__pane",{draggable:O,dragging:m,selection:e}]),onClick:p?void 0:vu(I,w),onContextMenu:vu(H,w),onWheel:vu(z,w),onPointerEnter:p?void 0:c,onPointerDown:p?B:f,onPointerMove:p?C:f,onPointerUp:p?T:void 0,onPointerLeave:d,ref:w,style:Nl,children:[h,E.jsx(TN,{})]})}function Oc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",an.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function F0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:a}){const s=Re(),[l,u]=k.useState(!1),c=k.useRef();return k.useEffect(()=>{c.current=kk({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{Oc({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),k.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:a}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,i,e,o]),l}const LN=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function $0(){const e=Re();return k.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=LN(a),h=o?i[0]:5,v=o?i[1]:5,y=n.direction.x*h*n.factor,x=n.direction.y*v*n.factor;for(const[,m]of u){if(!d(m))continue;let g={x:m.internals.positionAbsolute.x+y,y:m.internals.positionAbsolute.y+x};o&&(g=aa(g,i));const{position:p,positionAbsolute:w}=l0({nodeId:m.id,nextPosition:g,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});m.position=p,m.internals.positionAbsolute=w,f.set(m.id,m)}l(f)},[])}const tf=k.createContext(null),IN=tf.Provider;tf.Consumer;const B0=()=>k.useContext(tf),AN=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),jN=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Po.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!o,valid:c&&u}};function zN({type:e="source",position:t=le.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var T,O;const v=a||null,y=e==="target",x=Re(),m=B0(),{connectOnClick:g,noPanClassName:p,rfId:w}=xe(AN,je),{connectingFrom:_,connectingTo:N,clickConnecting:S,isPossibleEndHandle:M,connectionInProcess:L,clickConnectionInProcess:I,valid:H}=xe(jN(m,v,e),je);m||(O=(T=x.getState()).onError)==null||O.call(T,"010",an.error010());const z=R=>{const{defaultEdgeOptions:D,onConnect:b,hasDefaultEdges:A}=x.getState(),F={...D,...R};if(A){const{edges:U,setEdges:K}=x.getState();K(dk(F,U))}b==null||b(F),s==null||s(F)},B=R=>{if(!m)return;const D=g0(R.nativeEvent);if(o&&(D&&R.button===0||!D)){const b=x.getState();Tc.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:b.autoPanOnConnect,connectionMode:b.connectionMode,connectionRadius:b.connectionRadius,domNode:b.domNode,nodeLookup:b.nodeLookup,lib:b.lib,isTarget:y,handleId:v,nodeId:m,flowId:b.rfId,panBy:b.panBy,cancelConnection:b.cancelConnection,onConnectStart:b.onConnectStart,onConnectEnd:b.onConnectEnd,updateConnection:b.updateConnection,onConnect:z,isValidConnection:n||b.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:b.autoPanSpeed,dragThreshold:b.connectionDragThreshold})}D?c==null||c(R):f==null||f(R)},C=R=>{const{onClickConnectStart:D,onClickConnectEnd:b,connectionClickStartHandle:A,connectionMode:F,isValidConnection:U,lib:K,rfId:X,nodeLookup:q,connection:re}=x.getState();if(!m||!A&&!o)return;if(!A){D==null||D(R.nativeEvent,{nodeId:m,handleId:v,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:m,type:e,id:v}});return}const Q=p0(R.target),$=n||U,{connection:Z,isValid:ce}=Tc.isValid(R.nativeEvent,{handle:{nodeId:m,id:v,type:e},connectionMode:F,fromNodeId:A.nodeId,fromHandleId:A.id||null,fromType:A.type,isValidConnection:$,flowId:X,doc:Q,lib:K,nodeLookup:q});ce&&Z&&z(Z);const fe=structuredClone(re);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,b==null||b(R,fe),x.setState({connectionClickStartHandle:null})};return E.jsx("div",{"data-handleid":v,"data-nodeid":m,"data-handlepos":t,"data-id":`${w}-${m}-${v}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,u,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:i,clickconnecting:S,connectingfrom:_,connectingto:N,valid:H,connectionindicator:r&&(!L||M)&&(L||I?i:o)}]),onMouseDown:B,onTouchStart:B,onClick:g?C:void 0,ref:h,...d,children:l})}const qn=k.memo(j0(zN));function FN({data:e,isConnectable:t,sourcePosition:n=le.Bottom}){return E.jsxs(E.Fragment,{children:[e==null?void 0:e.label,E.jsx(qn,{type:"source",position:n,isConnectable:t})]})}function $N({data:e,isConnectable:t,targetPosition:n=le.Top,sourcePosition:r=le.Bottom}){return E.jsxs(E.Fragment,{children:[E.jsx(qn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,E.jsx(qn,{type:"source",position:r,isConnectable:t})]})}function BN(){return null}function VN({data:e,isConnectable:t,targetPosition:n=le.Top}){return E.jsxs(E.Fragment,{children:[E.jsx(qn,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Gs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Dp={input:FN,default:$N,output:VN,group:BN};function HN(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const UN=e=>{const{width:t,height:n,x:r,y:o}=ia(e.nodeLookup,{filter:i=>!!i.selected});return{width:Bt(t)?t:null,height:Bt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function WN({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:o,height:i,transformString:a,userSelectionActive:s}=xe(UN,je),l=$0(),u=k.useRef(null);if(k.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),F0({nodeRef:u}),s||!o||!i)return null;const c=e?d=>{const h=r.getState().nodes.filter(v=>v.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Gs,d.key)&&(d.preventDefault(),l({direction:Gs[d.key],factor:d.shiftKey?4:1}))};return E.jsx("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:E.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const Pp=typeof window<"u"?window:void 0,YN=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function V0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:w,panOnScrollSpeed:_,panOnScrollMode:N,zoomOnDoubleClick:S,panOnDrag:M,defaultViewport:L,translateExtent:I,minZoom:H,maxZoom:z,preventScrolling:B,onSelectionContextMenu:C,noWheelClassName:T,noPanClassName:O,disableKeyboardA11y:R,onViewportChange:D,isControlledViewport:b}){const{nodesSelectionActive:A,userSelectionActive:F}=xe(YN),U=Xi(u,{target:Pp}),K=Xi(y,{target:Pp}),X=K||M,q=K||w,re=c&&X!==!0,Q=U||F||re;return NN({deleteKeyCode:l,multiSelectionKeyCode:v}),E.jsx(DN,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:q,panOnScrollSpeed:_,panOnScrollMode:N,zoomOnDoubleClick:S,panOnDrag:!U&&X,defaultViewport:L,translateExtent:I,minZoom:H,maxZoom:z,zoomActivationKeyCode:x,preventScrolling:B,noWheelClassName:T,noPanClassName:O,onViewportChange:D,isControlledViewport:b,paneClickDistance:s,children:E.jsxs(RN,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:X,isSelecting:!!Q,selectionMode:f,selectionKeyPressed:U,selectionOnDrag:re,children:[e,A&&E.jsx(WN,{onSelectionContextMenu:C,noPanClassName:O,disableKeyboardA11y:R})]})})}V0.displayName="FlowRenderer";const KN=k.memo(V0),XN=e=>t=>e?Yd(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function GN(e){return xe(k.useCallback(XN(e),[e]),je)}const QN=e=>e.updateNodeInternals;function ZN(){const e=xe(QN),[t]=k.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return k.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function JN({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Re(),i=k.useRef(null),a=k.useRef(null),s=k.useRef(e.sourcePosition),l=k.useRef(e.targetPosition),u=k.useRef(t),c=n&&!!e.internals.handleBounds;return k.useEffect(()=>{i.current&&!e.hidden&&(!c||a.current!==i.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(i.current),a.current=i.current)},[c,e.hidden]),k.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),k.useEffect(()=>{if(i.current){const f=u.current!==t,d=s.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function qN({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:v,rfId:y,nodeTypes:x,nodeClickDistance:m,onError:g}){const{node:p,internals:w,isParent:_}=xe($=>{const Z=$.nodeLookup.get(e),ce=$.parentLookup.has(e);return{node:Z,internals:Z.internals,isParent:ce}},je);let N=p.type||"default",S=(x==null?void 0:x[N])||Dp[N];S===void 0&&(g==null||g("003",an.error003(N)),N="default",S=(x==null?void 0:x.default)||Dp.default);const M=!!(p.draggable||s&&typeof p.draggable>"u"),L=!!(p.selectable||l&&typeof p.selectable>"u"),I=!!(p.connectable||u&&typeof p.connectable>"u"),H=!!(p.focusable||c&&typeof p.focusable>"u"),z=Re(),B=f0(p),C=JN({node:p,nodeType:N,hasDimensions:B,resizeObserver:f}),T=F0({nodeRef:C,disabled:p.hidden||!M,noDragClassName:d,handleSelector:p.dragHandle,nodeId:e,isSelectable:L,nodeClickDistance:m}),O=$0();if(p.hidden)return null;const R=Mn(p),D=HN(p),b=L||M||t||n||r||o,A=n?$=>n($,{...w.userNode}):void 0,F=r?$=>r($,{...w.userNode}):void 0,U=o?$=>o($,{...w.userNode}):void 0,K=i?$=>i($,{...w.userNode}):void 0,X=a?$=>a($,{...w.userNode}):void 0,q=$=>{const{selectNodesOnDrag:Z,nodeDragThreshold:ce}=z.getState();L&&(!Z||!M||ce>0)&&Oc({id:e,store:z,nodeRef:C}),t&&t($,{...w.userNode})},re=$=>{if(!(m0($.nativeEvent)||v)){if(r0.includes($.key)&&L){const Z=$.key==="Escape";Oc({id:e,store:z,unselect:Z,nodeRef:C})}else if(M&&p.selected&&Object.prototype.hasOwnProperty.call(Gs,$.key)){$.preventDefault();const{ariaLabelConfig:Z}=z.getState();z.setState({ariaLiveMessage:Z["node.a11yDescription.ariaLiveMessage"]({direction:$.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),O({direction:Gs[$.key],factor:$.shiftKey?4:1})}}},Q=()=>{var ue;if(v||!((ue=C.current)!=null&&ue.matches(":focus-visible")))return;const{transform:$,width:Z,height:ce,autoPanOnNodeFocus:fe,setCenter:J}=z.getState();if(!fe)return;Yd(new Map([[e,p]]),{x:0,y:0,width:Z,height:ce},$,!0).length>0||J(p.position.x+R.width/2,p.position.y+R.height/2,{zoom:$[2]})};return E.jsx("div",{className:He(["react-flow__node",`react-flow__node-${N}`,{[h]:M},p.className,{selected:p.selected,selectable:L,parent:_,draggable:M,dragging:T}]),ref:C,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:b?"all":"none",visibility:B?"visible":"hidden",...p.style,...D},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:A,onMouseMove:F,onMouseLeave:U,onContextMenu:K,onClick:q,onDoubleClick:X,onKeyDown:H?re:void 0,tabIndex:H?0:void 0,onFocus:H?Q:void 0,role:p.ariaRole??(H?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${O0}-${y}`,"aria-label":p.ariaLabel,...p.domAttributes,children:E.jsx(IN,{value:e,children:E.jsx(S,{id:e,data:p.data,type:N,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:p.selected??!1,selectable:L,draggable:M,deletable:p.deletable??!0,isConnectable:I,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:T,dragHandle:p.dragHandle,zIndex:w.z,parentId:p.parentId,...R})})})}const eM=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function H0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=xe(eM,je),a=GN(e.onlyRenderVisibleElements),s=ZN();return E.jsx("div",{className:"react-flow__nodes",style:Nl,children:a.map(l=>E.jsx(qN,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},l))})}H0.displayName="NodeRenderer";const tM=k.memo(H0);function nM(e){return xe(k.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),a=n.nodeLookup.get(o.target);i&&a&&lk({sourceNode:i,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),je)}const rM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return E.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},oM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return E.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Tp={[Ys.Arrow]:rM,[Ys.ArrowClosed]:oM};function iM(e){const t=Re();return k.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Tp,e)?Tp[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",an.error009(e)),null)},[e])}const aM=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=iM(t);return l?E.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:E.jsx(l,{color:n,strokeWidth:a})}):null},U0=({defaultColor:e,rfId:t})=>{const n=xe(i=>i.edges),r=xe(i=>i.defaultEdgeOptions),o=k.useMemo(()=>gk(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?E.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:E.jsx("defs",{children:o.map(i=>E.jsx(aM,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};U0.displayName="MarkerDefinitions";var sM=k.memo(U0);function W0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=k.useState({x:1,y:0,width:0,height:0}),h=He(["react-flow__edge-textwrapper",u]),v=k.useRef(null);return k.useEffect(()=>{if(v.current){const y=v.current.getBBox();d({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?E.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[o&&E.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),E.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}W0.displayName="EdgeText";const lM=k.memo(W0);function Ml({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return E.jsxs(E.Fragment,{children:[E.jsx("path",{...c,d:e,fill:"none",className:He(["react-flow__edge-path",c.className])}),u?E.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Bt(t)&&Bt(n)?E.jsx(lM,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function Op({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===le.Left||e===le.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Y0({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top}){const[a,s]=Op({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,u]=Op({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,d,h]=y0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${o}`,c,f,d,h]}function K0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:m})=>{const[g,p,w]=Y0({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),_=e.isInternal?void 0:t;return E.jsx(Ml,{id:_,path:g,labelX:p,labelY:w,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:m})})}const uM=K0({isInternal:!1}),X0=K0({isInternal:!0});uM.displayName="SimpleBezierEdge";X0.displayName="SimpleBezierEdgeInternal";function G0(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=le.Bottom,targetPosition:v=le.Top,markerEnd:y,markerStart:x,pathOptions:m,interactionWidth:g})=>{const[p,w,_]=bc({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:v,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),N=e.isInternal?void 0:t;return E.jsx(Ml,{id:N,path:p,labelX:w,labelY:_,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:y,markerStart:x,interactionWidth:g})})}const Q0=G0({isInternal:!1}),Z0=G0({isInternal:!0});Q0.displayName="SmoothStepEdge";Z0.displayName="SmoothStepEdgeInternal";function J0(e){return k.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return E.jsx(Q0,{...n,id:r,pathOptions:k.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const cM=J0({isInternal:!1}),q0=J0({isInternal:!0});cM.displayName="StepEdge";q0.displayName="StepEdgeInternal";function ev(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:v,interactionWidth:y})=>{const[x,m,g]=x0({sourceX:n,sourceY:r,targetX:o,targetY:i}),p=e.isInternal?void 0:t;return E.jsx(Ml,{id:p,path:x,labelX:m,labelY:g,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:v,interactionWidth:y})})}const dM=ev({isInternal:!1}),tv=ev({isInternal:!0});dM.displayName="StraightEdge";tv.displayName="StraightEdgeInternal";function nv(e){return k.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=le.Bottom,targetPosition:s=le.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,pathOptions:m,interactionWidth:g})=>{const[p,w,_]=Gd({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:m==null?void 0:m.curvature}),N=e.isInternal?void 0:t;return E.jsx(Ml,{id:N,path:p,labelX:w,labelY:_,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:g})})}const fM=nv({isInternal:!1}),rv=nv({isInternal:!0});fM.displayName="BezierEdge";rv.displayName="BezierEdgeInternal";const Rp={default:rv,straight:tv,step:q0,smoothstep:Z0,simplebezier:X0},Lp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},hM=(e,t,n)=>n===le.Left?e-t:n===le.Right?e+t:e,pM=(e,t,n)=>n===le.Top?e-t:n===le.Bottom?e+t:e,Ip="react-flow__edgeupdater";function Ap({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s}){return E.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:He([Ip,`${Ip}-${s}`]),cx:hM(t,r,e),cy:pM(n,r,e),r,stroke:"transparent",fill:"transparent"})}function mM({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const v=Re(),y=(w,_)=>{if(w.button!==0)return;const{autoPanOnConnect:N,domNode:S,isValidConnection:M,connectionMode:L,connectionRadius:I,lib:H,onConnectStart:z,onConnectEnd:B,cancelConnection:C,nodeLookup:T,rfId:O,panBy:R,updateConnection:D}=v.getState(),b=_.type==="target",A=(K,X)=>{d(!1),f==null||f(K,n,_.type,X)},F=K=>u==null?void 0:u(n,K),U=(K,X)=>{d(!0),c==null||c(w,n,_.type),z==null||z(K,X)};Tc.onPointerDown(w.nativeEvent,{autoPanOnConnect:N,connectionMode:L,connectionRadius:I,domNode:S,handleId:_.id,nodeId:_.nodeId,nodeLookup:T,isTarget:b,edgeUpdaterType:_.type,lib:H,flowId:O,cancelConnection:C,panBy:R,isValidConnection:M,onConnect:F,onConnectStart:U,onConnectEnd:B,onReconnectEnd:A,updateConnection:D,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},x=w=>y(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=w=>y(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>h(!0),p=()=>h(!1);return E.jsxs(E.Fragment,{children:[(e===!0||e==="source")&&E.jsx(Ap,{position:s,centerX:r,centerY:o,radius:t,onMouseDown:x,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&E.jsx(Ap,{position:l,centerX:i,centerY:a,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function gM({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:v,edgeTypes:y,noPanClassName:x,onError:m,disableKeyboardA11y:g}){let p=xe(J=>J.edgeLookup.get(e));const w=xe(J=>J.defaultEdgeOptions);p=w?{...w,...p}:p;let _=p.type||"default",N=(y==null?void 0:y[_])||Rp[_];N===void 0&&(m==null||m("011",an.error011(_)),_="default",N=(y==null?void 0:y.default)||Rp.default);const S=!!(p.focusable||t&&typeof p.focusable>"u"),M=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),L=!!(p.selectable||r&&typeof p.selectable>"u"),I=k.useRef(null),[H,z]=k.useState(!1),[B,C]=k.useState(!1),T=Re(),{zIndex:O,sourceX:R,sourceY:D,targetX:b,targetY:A,sourcePosition:F,targetPosition:U}=xe(k.useCallback(J=>{const ie=J.nodeLookup.get(p.source),ue=J.nodeLookup.get(p.target);if(!ie||!ue)return{zIndex:p.zIndex,...Lp};const Ee=mk({id:e,sourceNode:ie,targetNode:ue,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:J.connectionMode,onError:m});return{zIndex:sk({selected:p.selected,zIndex:p.zIndex,sourceNode:ie,targetNode:ue,elevateOnSelect:J.elevateEdgesOnSelect}),...Ee||Lp}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),je),K=k.useMemo(()=>p.markerStart?`url('#${Dc(p.markerStart,v)}')`:void 0,[p.markerStart,v]),X=k.useMemo(()=>p.markerEnd?`url('#${Dc(p.markerEnd,v)}')`:void 0,[p.markerEnd,v]);if(p.hidden||R===null||D===null||b===null||A===null)return null;const q=J=>{var ye;const{addSelectedEdges:ie,unselectNodesAndEdges:ue,multiSelectionActive:Ee}=T.getState();L&&(T.setState({nodesSelectionActive:!1}),p.selected&&Ee?(ue({nodes:[],edges:[p]}),(ye=I.current)==null||ye.blur()):ie([e])),o&&o(J,p)},re=i?J=>{i(J,{...p})}:void 0,Q=a?J=>{a(J,{...p})}:void 0,$=s?J=>{s(J,{...p})}:void 0,Z=l?J=>{l(J,{...p})}:void 0,ce=u?J=>{u(J,{...p})}:void 0,fe=J=>{var ie;if(!g&&r0.includes(J.key)&&L){const{unselectNodesAndEdges:ue,addSelectedEdges:Ee}=T.getState();J.key==="Escape"?((ie=I.current)==null||ie.blur(),ue({edges:[p]})):Ee([e])}};return E.jsx("svg",{style:{zIndex:O},children:E.jsxs("g",{className:He(["react-flow__edge",`react-flow__edge-${_}`,p.className,x,{selected:p.selected,animated:p.animated,inactive:!L&&!o,updating:H,selectable:L}]),onClick:q,onDoubleClick:re,onContextMenu:Q,onMouseEnter:$,onMouseMove:Z,onMouseLeave:ce,onKeyDown:S?fe:void 0,tabIndex:S?0:void 0,role:p.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":S?`${R0}-${v}`:void 0,ref:I,...p.domAttributes,children:[!B&&E.jsx(N,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:L,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:R,sourceY:D,targetX:b,targetY:A,sourcePosition:F,targetPosition:U,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:K,markerEnd:X,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),M&&E.jsx(mM,{edge:p,isReconnectable:M,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:R,sourceY:D,targetX:b,targetY:A,sourcePosition:F,targetPosition:U,setUpdateHover:z,setReconnecting:C})]})})}const yM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ov({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:v,disableKeyboardA11y:y}){const{edgesFocusable:x,edgesReconnectable:m,elementsSelectable:g,onError:p}=xe(yM,je),w=nM(t);return E.jsxs("div",{className:"react-flow__edges",children:[E.jsx(sM,{defaultColor:e,rfId:n}),w.map(_=>E.jsx(gM,{id:_,edgesFocusable:x,edgesReconnectable:m,elementsSelectable:g,noPanClassName:o,onReconnect:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:v,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:y},_))]})}ov.displayName="EdgeRenderer";const vM=k.memo(ov),xM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wM({children:e}){const t=xe(xM);return E.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function SM(e){const t=ef(),n=k.useRef(!1);k.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const EM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function CM(e){const t=xe(EM),n=Re();return k.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function _M(e){return e.connection.inProgress?{...e.connection,to:sa(e.connection.to,e.transform)}:{...e.connection}}function kM(e){return _M}function NM(e){const t=kM();return xe(t,je)}const MM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function bM({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:a,isValid:s,inProgress:l}=xe(MM,je);return!(i&&o&&l)?null:E.jsx("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:E.jsx("g",{className:He(["react-flow__connection",a0(s)]),children:E.jsx(iv,{style:t,type:n,CustomComponent:r,isValid:s})})})}const iv=({style:e,type:t=Fn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d}=NM();if(!o)return;if(n)return E.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:a0(r),toNode:c,toHandle:f});let h="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case Fn.Bezier:[h]=Gd(v);break;case Fn.SimpleBezier:[h]=Y0(v);break;case Fn.Step:[h]=bc({...v,borderRadius:0});break;case Fn.SmoothStep:[h]=bc(v);break;default:[h]=x0(v)}return E.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};iv.displayName="ConnectionLine";const DM={};function jp(e=DM){k.useRef(e),Re(),k.useEffect(()=>{},[e])}function PM(){Re(),k.useRef(!1),k.useEffect(()=>{},[])}function av({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:v,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:w,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:S,deleteKeyCode:M,onlyRenderVisibleElements:L,elementsSelectable:I,defaultViewport:H,translateExtent:z,minZoom:B,maxZoom:C,preventScrolling:T,defaultMarkerColor:O,zoomOnScroll:R,zoomOnPinch:D,panOnScroll:b,panOnScrollSpeed:A,panOnScrollMode:F,zoomOnDoubleClick:U,panOnDrag:K,onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:re,onPaneMouseLeave:Q,onPaneScroll:$,onPaneContextMenu:Z,paneClickDistance:ce,nodeClickDistance:fe,onEdgeContextMenu:J,onEdgeMouseEnter:ie,onEdgeMouseMove:ue,onEdgeMouseLeave:Ee,reconnectRadius:ye,onReconnect:nt,onReconnectStart:Kt,onReconnectEnd:ln,noDragClassName:or,noWheelClassName:ir,noPanClassName:ar,disableKeyboardA11y:sr,nodeExtent:Tt,rfId:Xt,viewport:un,onViewportChange:cn}){return jp(e),jp(t),PM(),SM(n),CM(un),E.jsx(KN,{onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:re,onPaneMouseLeave:Q,onPaneContextMenu:Z,onPaneScroll:$,paneClickDistance:ce,deleteKeyCode:M,selectionKeyCode:g,selectionOnDrag:p,selectionMode:w,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:S,elementsSelectable:I,zoomOnScroll:R,zoomOnPinch:D,zoomOnDoubleClick:U,panOnScroll:b,panOnScrollSpeed:A,panOnScrollMode:F,panOnDrag:K,defaultViewport:H,translateExtent:z,minZoom:B,maxZoom:C,onSelectionContextMenu:f,preventScrolling:T,noDragClassName:or,noWheelClassName:ir,noPanClassName:ar,disableKeyboardA11y:sr,onViewportChange:cn,isControlledViewport:!!un,children:E.jsxs(wM,{children:[E.jsx(vM,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:a,onReconnect:nt,onReconnectStart:Kt,onReconnectEnd:ln,onlyRenderVisibleElements:L,onEdgeContextMenu:J,onEdgeMouseEnter:ie,onEdgeMouseMove:ue,onEdgeMouseLeave:Ee,reconnectRadius:ye,defaultMarkerColor:O,noPanClassName:ar,disableKeyboardA11y:sr,rfId:Xt}),E.jsx(bM,{style:y,type:v,component:x,containerStyle:m}),E.jsx("div",{className:"react-flow__edgelabel-renderer"}),E.jsx(tM,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:fe,onlyRenderVisibleElements:L,noPanClassName:ar,noDragClassName:or,disableKeyboardA11y:sr,nodeExtent:Tt,rfId:Xt}),E.jsx("div",{className:"react-flow__viewport-portal"})]})})}av.displayName="GraphView";const TM=k.memo(av),zp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f}={})=>{const d=new Map,h=new Map,v=new Map,y=new Map,x=r??t??[],m=n??e??[],g=c??[0,0],p=f??Hi;S0(v,y,x);const w=Pc(m,d,h,{nodeOrigin:g,nodeExtent:p,elevateNodesOnSelect:!1});let _=[0,0,1];if(a&&o&&i){const N=ia(d,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:S,y:M,zoom:L}=Kd(N,o,i,l,u,(s==null?void 0:s.padding)??.1);_=[S,M,L]}return{rfId:"1",width:0,height:0,transform:_,nodes:m,nodesInitialized:w,nodeLookup:d,parentLookup:h,edges:x,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Hi,nodeExtent:p,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Po.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...i0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:tk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:o0}},OM=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f})=>Zk((d,h)=>{async function v(){const{nodeLookup:y,panZoom:x,fitViewOptions:m,fitViewResolver:g,width:p,height:w,minZoom:_,maxZoom:N}=h();x&&(await q_({nodes:y,width:p,height:w,panZoom:x,minZoom:_,maxZoom:N},m),g==null||g.resolve(!0),d({fitViewResolver:null}))}return{...zp({nodes:e,edges:t,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:x,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:p,fitViewQueued:w}=h(),_=Pc(y,x,m,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:p,checkEquality:!0});w&&_?(v(),d({nodes:y,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:y,nodesInitialized:_})},setEdges:y=>{const{connectionLookup:x,edgeLookup:m}=h();S0(x,m,y),d({edges:y})},setDefaultNodesAndEdges:(y,x)=>{if(y){const{setNodes:m}=h();m(y),d({hasDefaultNodes:!0})}if(x){const{setEdges:m}=h();m(x),d({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:x,nodeLookup:m,parentLookup:g,domNode:p,nodeOrigin:w,nodeExtent:_,debug:N,fitViewQueued:S}=h(),{changes:M,updatedInternals:L}=Sk(y,m,g,p,w,_);L&&(vk(m,g,{nodeOrigin:w,nodeExtent:_}),S?(v(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),x==null||x(M)))},updateNodePositions:(y,x=!1)=>{const m=[],g=[],{nodeLookup:p,triggerNodeChanges:w}=h();for(const[_,N]of y){const S=p.get(_),M=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(N!=null&&N.position)),L={id:_,type:"position",position:M?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:x};M&&S.parentId&&m.push({id:_,parentId:S.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),g.push(L)}if(m.length>0){const{parentLookup:_,nodeOrigin:N}=h(),S=qd(m,p,_,N);g.push(...S)}w(g)},triggerNodeChanges:y=>{const{onNodesChange:x,setNodes:m,nodes:g,hasDefaultNodes:p,debug:w}=h();if(y!=null&&y.length){if(p){const _=A0(y,g);m(_)}w&&console.log("React Flow: trigger node changes",y),x==null||x(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:x,setEdges:m,edges:g,hasDefaultEdges:p,debug:w}=h();if(y!=null&&y.length){if(p){const _=vN(y,g);m(_)}w&&console.log("React Flow: trigger edge changes",y),x==null||x(y)}},addSelectedNodes:y=>{const{multiSelectionActive:x,edgeLookup:m,nodeLookup:g,triggerNodeChanges:p,triggerEdgeChanges:w}=h();if(x){const _=y.map(N=>hr(N,!0));p(_);return}p(uo(g,new Set([...y]),!0)),w(uo(m))},addSelectedEdges:y=>{const{multiSelectionActive:x,edgeLookup:m,nodeLookup:g,triggerNodeChanges:p,triggerEdgeChanges:w}=h();if(x){const _=y.map(N=>hr(N,!0));w(_);return}w(uo(m,new Set([...y]))),p(uo(g,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:x}={})=>{const{edges:m,nodes:g,nodeLookup:p,triggerNodeChanges:w,triggerEdgeChanges:_}=h(),N=y||g,S=x||m,M=N.map(I=>{const H=p.get(I.id);return H&&(H.selected=!1),hr(I.id,!1)}),L=S.map(I=>hr(I.id,!1));w(M),_(L)},setMinZoom:y=>{const{panZoom:x,maxZoom:m}=h();x==null||x.setScaleExtent([y,m]),d({minZoom:y})},setMaxZoom:y=>{const{panZoom:x,minZoom:m}=h();x==null||x.setScaleExtent([m,y]),d({maxZoom:y})},setTranslateExtent:y=>{var x;(x=h().panZoom)==null||x.setTranslateExtent(y),d({translateExtent:y})},setPaneClickDistance:y=>{var x;(x=h().panZoom)==null||x.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:x,triggerNodeChanges:m,triggerEdgeChanges:g,elementsSelectable:p}=h();if(!p)return;const w=x.reduce((N,S)=>S.selected?[...N,hr(S.id,!1)]:N,[]),_=y.reduce((N,S)=>S.selected?[...N,hr(S.id,!1)]:N,[]);m(w),g(_)},setNodeExtent:y=>{const{nodes:x,nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:w,nodeExtent:_}=h();y[0][0]===_[0][0]&&y[0][1]===_[0][1]&&y[1][0]===_[1][0]&&y[1][1]===_[1][1]||(Pc(x,m,g,{nodeOrigin:p,nodeExtent:y,elevateNodesOnSelect:w,checkEquality:!1}),d({nodeExtent:y}))},panBy:y=>{const{transform:x,width:m,height:g,panZoom:p,translateExtent:w}=h();return Ek({delta:y,panZoom:p,transform:x,translateExtent:w,width:m,height:g})},setCenter:async(y,x,m)=>{const{width:g,height:p,maxZoom:w,panZoom:_}=h();if(!_)return Promise.resolve(!1);const N=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:w;return await _.setViewport({x:g/2-y*N,y:p/2-x*N,zoom:N},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...i0}})},updateConnection:y=>{d({connection:y})},reset:()=>d({...zp()})}},Object.is);function sv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,children:d}){const[h]=k.useState(()=>OM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:f}));return E.jsx(Jk,{value:h,children:E.jsx(EN,{children:d})})}function RM({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d}){return k.useContext(_l)?E.jsx(E.Fragment,{children:e}):E.jsx(sv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,children:e})}const LM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function IM({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:_,onNodeDoubleClick:N,onNodeDragStart:S,onNodeDrag:M,onNodeDragStop:L,onNodesDelete:I,onEdgesDelete:H,onDelete:z,onSelectionChange:B,onSelectionDragStart:C,onSelectionDrag:T,onSelectionDragStop:O,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:b,onBeforeDelete:A,connectionMode:F,connectionLineType:U=Fn.Bezier,connectionLineStyle:K,connectionLineComponent:X,connectionLineContainerStyle:q,deleteKeyCode:re="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:$=!1,selectionMode:Z=Ui.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:fe=Yi()?"Meta":"Control",zoomActivationKeyCode:J=Yi()?"Meta":"Control",snapToGrid:ie,snapGrid:ue,onlyRenderVisibleElements:Ee=!1,selectNodesOnDrag:ye,nodesDraggable:nt,autoPanOnNodeFocus:Kt,nodesConnectable:ln,nodesFocusable:or,nodeOrigin:ir=L0,edgesFocusable:ar,edgesReconnectable:sr,elementsSelectable:Tt=!0,defaultViewport:Xt=dN,minZoom:un=.5,maxZoom:cn=2,translateExtent:Ot=Hi,preventScrolling:Rt=!0,nodeExtent:Fr,defaultMarkerColor:$r="#b1b1b7",zoomOnScroll:bl=!0,zoomOnPinch:Gt=!0,panOnScroll:la=!1,panOnScrollSpeed:ua=.5,panOnScrollMode:ca=_r.Free,zoomOnDoubleClick:Dl=!0,panOnDrag:da=!0,onPaneClick:Br,onPaneMouseEnter:fa,onPaneMouseMove:Fo,onPaneMouseLeave:$o,onPaneScroll:Pl,onPaneContextMenu:ha,paneClickDistance:pa=0,nodeClickDistance:ma=0,children:Vr,onReconnect:Hr,onReconnectStart:Tl,onReconnectEnd:Ol,onEdgeContextMenu:P,onEdgeDoubleClick:j,onEdgeMouseEnter:V,onEdgeMouseMove:W,onEdgeMouseLeave:G,reconnectRadius:se=10,onNodesChange:de,onEdgesChange:ne,noDragClassName:oe="nodrag",noWheelClassName:ee="nowheel",noPanClassName:ae="nopan",fitView:he,fitViewOptions:pe,connectOnClick:Ue,attributionPosition:ke,proOptions:we,defaultEdgeOptions:Pe,elevateNodesOnSelect:bn,elevateEdgesOnSelect:lr,disableKeyboardA11y:Ct=!1,autoPanOnConnect:_t,autoPanOnNodeDrag:Bo,autoPanSpeed:ur,connectionRadius:dn,isValidConnection:Ur,onError:Wr,style:ve,id:Me,nodeDragThreshold:Dn,connectionDragThreshold:cr,viewport:ze,onViewportChange:Pn,width:ga,height:Rl,colorMode:mv="light",debug:gv,onScroll:ya,ariaLabelConfig:yv,...vv},xv){const Ll=Me||"1",wv=mN(mv),Sv=k.useCallback(rf=>{rf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ya==null||ya(rf)},[ya]);return E.jsx("div",{"data-testid":"rf__wrapper",...vv,onScroll:Sv,style:{...ve,...LM},ref:xv,className:He(["react-flow",o,wv]),id:Me,role:"application",children:E.jsxs(RM,{nodes:e,edges:t,width:ga,height:Rl,fitView:he,fitViewOptions:pe,minZoom:un,maxZoom:cn,nodeOrigin:ir,nodeExtent:Fr,children:[E.jsx(TM,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:_,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:a,connectionLineType:U,connectionLineStyle:K,connectionLineComponent:X,connectionLineContainerStyle:q,selectionKeyCode:Q,selectionOnDrag:$,selectionMode:Z,deleteKeyCode:re,multiSelectionKeyCode:fe,panActivationKeyCode:ce,zoomActivationKeyCode:J,onlyRenderVisibleElements:Ee,defaultViewport:Xt,translateExtent:Ot,minZoom:un,maxZoom:cn,preventScrolling:Rt,zoomOnScroll:bl,zoomOnPinch:Gt,zoomOnDoubleClick:Dl,panOnScroll:la,panOnScrollSpeed:ua,panOnScrollMode:ca,panOnDrag:da,onPaneClick:Br,onPaneMouseEnter:fa,onPaneMouseMove:Fo,onPaneMouseLeave:$o,onPaneScroll:Pl,onPaneContextMenu:ha,paneClickDistance:pa,nodeClickDistance:ma,onSelectionContextMenu:R,onSelectionStart:D,onSelectionEnd:b,onReconnect:Hr,onReconnectStart:Tl,onReconnectEnd:Ol,onEdgeContextMenu:P,onEdgeDoubleClick:j,onEdgeMouseEnter:V,onEdgeMouseMove:W,onEdgeMouseLeave:G,reconnectRadius:se,defaultMarkerColor:$r,noDragClassName:oe,noWheelClassName:ee,noPanClassName:ae,rfId:Ll,disableKeyboardA11y:Ct,nodeExtent:Fr,viewport:ze,onViewportChange:Pn}),E.jsx(pN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:m,nodesDraggable:nt,autoPanOnNodeFocus:Kt,nodesConnectable:ln,nodesFocusable:or,edgesFocusable:ar,edgesReconnectable:sr,elementsSelectable:Tt,elevateNodesOnSelect:bn,elevateEdgesOnSelect:lr,minZoom:un,maxZoom:cn,nodeExtent:Fr,onNodesChange:de,onEdgesChange:ne,snapToGrid:ie,snapGrid:ue,connectionMode:F,translateExtent:Ot,connectOnClick:Ue,defaultEdgeOptions:Pe,fitView:he,fitViewOptions:pe,onNodesDelete:I,onEdgesDelete:H,onDelete:z,onNodeDragStart:S,onNodeDrag:M,onNodeDragStop:L,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:O,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:ae,nodeOrigin:ir,rfId:Ll,autoPanOnConnect:_t,autoPanOnNodeDrag:Bo,autoPanSpeed:ur,onError:Wr,connectionRadius:dn,isValidConnection:Ur,selectNodesOnDrag:ye,nodeDragThreshold:Dn,connectionDragThreshold:cr,onBeforeDelete:A,paneClickDistance:pa,debug:gv,ariaLabelConfig:yv}),E.jsx(cN,{onSelectionChange:B}),Vr,E.jsx(iN,{proOptions:we,position:ke}),E.jsx(oN,{rfId:Ll,disableKeyboardA11y:Ct})]})})}var AM=j0(IM);function jM(e){const[t,n]=k.useState(e),r=k.useCallback(o=>n(i=>A0(o,i)),[]);return[t,n,r]}function zM({dimensions:e,lineWidth:t,variant:n,className:r}){return E.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:He(["react-flow__background-pattern",n,r])})}function FM({radius:e,className:t}){return E.jsx("circle",{cx:e,cy:e,r:e,className:He(["react-flow__background-pattern","dots",t])})}var wn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(wn||(wn={}));const $M={[wn.Dots]:1,[wn.Lines]:1,[wn.Cross]:6},BM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function lv({id:e,variant:t=wn.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=k.useRef(null),{transform:d,patternId:h}=xe(BM,je),v=r||$M[t],y=t===wn.Dots,x=t===wn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*d[2]||1,m[1]*d[2]||1],p=v*d[2],w=Array.isArray(i)?i:[i,i],_=x?[p,p]:g,N=[w[0]*d[2]||1+_[0]/2,w[1]*d[2]||1+_[1]/2],S=`${h}${e||""}`;return E.jsxs("svg",{className:He(["react-flow__background",u]),style:{...l,...Nl,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[E.jsx("pattern",{id:S,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:y?E.jsx(FM,{radius:p/2,className:c}):E.jsx(zM,{dimensions:_,lineWidth:o,variant:t,className:c})}),E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}lv.displayName="Background";const VM=k.memo(lv);function HM(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:E.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function UM(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:E.jsx("path",{d:"M0 0h32v4.2H0z"})})}function WM(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:E.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function YM(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function KM(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ua({children:e,className:t,...n}){return E.jsx("button",{type:"button",className:He(["react-flow__controls-button",t]),...n,children:e})}const XM=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function uv({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const v=Re(),{isInteractive:y,minZoomReached:x,maxZoomReached:m,ariaLabelConfig:g}=xe(XM,je),{zoomIn:p,zoomOut:w,fitView:_}=ef(),N=()=>{p(),i==null||i()},S=()=>{w(),a==null||a()},M=()=>{_(o),s==null||s()},L=()=>{v.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},I=d==="horizontal"?"horizontal":"vertical";return E.jsxs(kl,{className:He(["react-flow__controls",I,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??g["controls.ariaLabel"],children:[t&&E.jsxs(E.Fragment,{children:[E.jsx(Ua,{onClick:N,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:E.jsx(HM,{})}),E.jsx(Ua,{onClick:S,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:x,children:E.jsx(UM,{})})]}),n&&E.jsx(Ua,{className:"react-flow__controls-fitview",onClick:M,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:E.jsx(WM,{})}),r&&E.jsx(Ua,{className:"react-flow__controls-interactive",onClick:L,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:y?E.jsx(KM,{}):E.jsx(YM,{})}),c]})}uv.displayName="Controls";const GM=k.memo(uv);function QM({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:v,backgroundColor:y}=i||{},x=a||v||y;return E.jsx("rect",{className:He(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,style:{fill:x,stroke:s,strokeWidth:l},shapeRendering:f,onClick:h?m=>h(m,e):void 0})}const ZM=k.memo(QM),JM=e=>e.nodes.map(t=>t.id),xu=e=>e instanceof Function?e:()=>e;function qM({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=ZM,onClick:a}){const s=xe(JM,je),l=xu(t),u=xu(e),c=xu(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return E.jsx(E.Fragment,{children:s.map(d=>E.jsx(tb,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:a,shapeRendering:f},d))})}function eb({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=xe(v=>{const{internals:y}=v.nodeLookup.get(e),x=y.userNode,{x:m,y:g}=y.positionAbsolute,{width:p,height:w}=Mn(x);return{node:x,x:m,y:g,width:p,height:w}},je);return!u||u.hidden||!f0(u)?null:E.jsx(s,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:a,onClick:l,id:u.id})}const tb=k.memo(eb);var nb=k.memo(qM);const rb=200,ob=150,ib=e=>!e.hidden,ab=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?d0(ia(e.nodeLookup,{filter:ib}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},sb="react-flow__minimap-desc";function cv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:v,pannable:y=!1,zoomable:x=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:w=5}){const _=Re(),N=k.useRef(null),{boundingRect:S,viewBB:M,rfId:L,panZoom:I,translateExtent:H,flowWidth:z,flowHeight:B,ariaLabelConfig:C}=xe(ab,je),T=(e==null?void 0:e.width)??rb,O=(e==null?void 0:e.height)??ob,R=S.width/T,D=S.height/O,b=Math.max(R,D),A=b*T,F=b*O,U=w*b,K=S.x-(A-S.width)/2-U,X=S.y-(F-S.height)/2-U,q=A+U*2,re=F+U*2,Q=`${sb}-${L}`,$=k.useRef(0),Z=k.useRef();$.current=b,k.useEffect(()=>{if(N.current&&I)return Z.current=Tk({domNode:N.current,panZoom:I,getTransform:()=>_.getState().transform,getViewScale:()=>$.current}),()=>{var ie;(ie=Z.current)==null||ie.destroy()}},[I]),k.useEffect(()=>{var ie;(ie=Z.current)==null||ie.update({translateExtent:H,width:z,height:B,inversePan:g,pannable:y,zoomStep:p,zoomable:x})},[y,x,g,p,H,z,B]);const ce=h?ie=>{var ye;const[ue,Ee]=((ye=Z.current)==null?void 0:ye.pointer(ie))||[0,0];h(ie,{x:ue,y:Ee})}:void 0,fe=v?k.useCallback((ie,ue)=>{const Ee=_.getState().nodeLookup.get(ue).internals.userNode;v(ie,Ee)},[]):void 0,J=m??C["minimap.ariaLabel"];return E.jsx(kl,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*b:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:E.jsxs("svg",{width:T,height:O,viewBox:`${K} ${X} ${q} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:N,onClick:ce,children:[J&&E.jsx("title",{id:Q,children:J}),E.jsx(nb,{onClick:fe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:s}),E.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-U},${X-U}h${q+U*2}v${re+U*2}h${-q-U*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cv.displayName="MiniMap";k.memo(cv);const lb=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,ub={[Lo.Line]:"right",[Lo.Handle]:"bottom-right"};function cb({nodeId:e,position:t,variant:n=Lo.Handle,className:r,style:o=void 0,children:i,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:v,onResizeStart:y,onResize:x,onResizeEnd:m}){const g=B0(),p=typeof e=="string"?e:g,w=Re(),_=k.useRef(null),N=n===Lo.Handle,S=xe(k.useCallback(lb(N&&h),[N,h]),je),M=k.useRef(null),L=t??ub[n];k.useEffect(()=>{if(!(!_.current||!p))return M.current||(M.current=Kk({domNode:_.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,domNode:O}=w.getState();return{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,paneDomNode:O}},onChange:(H,z)=>{const{triggerNodeChanges:B,nodeLookup:C,parentLookup:T,nodeOrigin:O}=w.getState(),R=[],D={x:H.x,y:H.y},b=C.get(p);if(b&&b.expandParent&&b.parentId){const A=b.origin??O,F=H.width??b.measured.width??0,U=H.height??b.measured.height??0,K={id:b.id,parentId:b.parentId,rect:{width:F,height:U,...h0({x:H.x??b.position.x,y:H.y??b.position.y},{width:F,height:U},b.parentId,C,A)}},X=qd([K],C,T,O);R.push(...X),D.x=H.x?Math.max(A[0]*F,H.x):void 0,D.y=H.y?Math.max(A[1]*U,H.y):void 0}if(D.x!==void 0&&D.y!==void 0){const A={id:p,type:"position",position:{...D}};R.push(A)}if(H.width!==void 0&&H.height!==void 0){const F={id:p,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:H.width,height:H.height}};R.push(F)}for(const A of z){const F={...A,type:"position"};R.push(F)}B(R)},onEnd:({width:H,height:z})=>{const B={id:p,type:"dimensions",resizing:!1,dimensions:{width:H,height:z}};w.getState().triggerNodeChanges([B])}})),M.current.update({controlPosition:L,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:y,onResize:x,onResizeEnd:m,shouldResize:v}),()=>{var H;(H=M.current)==null||H.destroy()}},[L,s,l,u,c,f,y,x,m,v]);const I=L.split("-");return E.jsx("div",{className:He(["react-flow__resize-control","nodrag",...I,n,r]),ref:_,style:{...o,scale:S,...a&&{[N?"backgroundColor":"borderColor"]:a}},children:i})}k.memo(cb);const Ut={NODE_DIMENSIONS:{width:260,height:180,gap:80},CANVAS:{defaultHeight:400,minZoom:.4,maxZoom:1.75},ANIMATION_DURATIONS:{ripple:1300,ringOut:1500,downgrade:1500,scaleIn:700,pop:1100,pulseSlow:1600},COLORS:{status:{pending:"#f59e0b",partial:"#3b82f6",complete:"#10b981",error:"#ef4444"},node:{source:"#3b82f6",destination:"#10b981"},edge:{transformToDestination:"#be185d"}},RESPONSIVE:{verticalBreakpoint:720}},db={light:8,medium:20,heavy:50};function nf(e){return Ut.COLORS.status[e]}function Wa(e,t,n,r){if(e==="transform")return t==="Map & Validate"||Object.keys(r||{}).length>0?"complete":"pending";const o=n.filter(i=>!!(r||{})[i]);return o.length===0?"pending":o.length<n.length?"partial":"complete"}function dv({status:e}){const t=nf(e),n=k.useRef(null),[r,o]=k.useState("");return k.useEffect(()=>{const i=n.current,{ANIMATION_DURATIONS:a}=Ut;let s="";e==="pending"&&(s=`pulseSlow ${a.pulseSlow}ms ease-in-out infinite`),e==="partial"&&(s=i==="complete"?`downgrade ${a.downgrade}ms ease-out forwards`:`scaleIn ${a.scaleIn}ms ease-out`),e==="complete"&&(s=`pop ${a.pop}ms cubic-bezier(0.2,0.8,0.2,1)`),o(s),n.current=e},[e]),E.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border px-2 py-0.5 text-[11px] transition-colors duration-300 w-20",style:{borderColor:t,color:t},children:[E.jsxs("span",{className:"relative grid place-items-center h-2.5 w-2.5 rounded-full",style:{backgroundColor:t,animation:r},children:[e==="complete"?E.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ripple ${Ut.ANIMATION_DURATIONS.ripple}ms ease-out`}}):null,e==="partial"&&n.current==="complete"?E.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ringOut ${Ut.ANIMATION_DURATIONS.ringOut}ms ease-out`}}):null]}),e,E.jsx("style",{children:`
        @keyframes scaleIn{0%{transform:scale(0.94)}100%{transform:scale(1)}}
        @keyframes pop{0%{transform:scale(0.85)}60%{transform:scale(1.06)}100%{transform:scale(1)}}
        @keyframes pulseSlow{0%,100%{opacity:0.65}50%{opacity:1}}
        @keyframes ripple{0%{box-shadow:0 0 0 0 ${t}55}100%{box-shadow:0 0 0 10px ${t}00}}
        @keyframes ringOut{0%{box-shadow:0 0 0 10px ${t}33;opacity:1}100%{box-shadow:0 0 0 18px ${t}00;opacity:0}}
        @keyframes downgrade{0%{transform:scale(1);box-shadow:0 0 0 0 ${t}00}30%{transform:scale(0.95);box-shadow:0 0 0 8px ${t}22}70%{transform:scale(0.98);box-shadow:0 0 0 4px ${t}11}100%{transform:scale(1);box-shadow:0 0 0 0 ${t}00}}
        `})]})}function en(e){return typeof e!="string"?"":e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").trim()}function fb(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function hb(e){try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}}function pb(e){return/^[a-zA-Z0-9_\-.]+$/.test(e)&&e.length>=8&&e.length<=128}function Rc(e,t){if(en(t)!==t)return{isValid:!1,error:"Input contains potentially unsafe characters"};const r=e.toLowerCase();return r.includes("email")&&!fb(t)?{isValid:!1,error:"Invalid email format"}:(r.includes("url")||r.includes("endpoint")||r.includes("host"))&&t&&!hb(t)&&!t.includes("localhost")&&!t.match(/^\d+\.\d+\.\d+\.\d+/)?{isValid:!1,error:"Invalid URL format"}:(r.includes("apikey")||r.includes("token"))&&t&&!pb(t)?{isValid:!1,error:"API key must be 8-128 characters, alphanumeric with _ - . allowed"}:t.length>0&&t.length<2?{isValid:!1,error:"Value must be at least 2 characters long"}:t.length>500?{isValid:!1,error:"Value must be less than 500 characters"}:{isValid:!0}}function mb(e){const t=[];if(!e||typeof e!="object")return{isValid:!1,errors:["Configuration must be a valid object"]};const n=e;if(!n.nodes||typeof n.nodes!="object")return{isValid:!1,errors:['Configuration must have a "nodes" object']};const r=n.nodes,o=["source","destination","transform"];for(const a of o){if(!r[a]||typeof r[a]!="object"){t.push(`Missing or invalid "${a}" node`);continue}const s=r[a];(!s.name||typeof s.name!="string")&&t.push(`${a} node must have a valid "name" string`),(!s.credentials||typeof s.credentials!="object")&&t.push(`${a} node must have a "credentials" object`)}if(t.length>0)return{isValid:!1,errors:t};const i={nodes:{source:{name:en(r.source.name),credentials:{}},destination:{name:en(r.destination.name),credentials:{}},transform:{name:en(r.transform.name),credentials:{}}}};for(const a of o){const s=r[a];if(s.credentials){for(const[l,u]of Object.entries(s.credentials))if(typeof u=="string"){const c=Rc(l,u);c.isValid?i.nodes[a].credentials[en(l)]=en(u):t.push(`${a}.${l}: ${c.error}`)}}}return{isValid:t.length===0,sanitized:t.length===0?i:void 0,errors:t}}function Fp(e,t){return["password","token","secret","key","apikey"].some(o=>e.toLowerCase().includes(o))&&t?t.length<=4?"*".repeat(t.length):t.substring(0,2)+"*".repeat(Math.min(t.length-4,8))+t.substring(t.length-2):t}function gb(e){return e==="source"?Ut.COLORS.node.source:Ut.COLORS.node.destination}function fv({instance:e,nodeId:t,onEditValue:n}){var z,B;const{role:r,spec:o,values:i,status:a}=e,[s,l]=k.useState({}),[u,c]=k.useState({}),[f,d]=k.useState({}),[h,v]=k.useState(!0),[y,x]=k.useState(""),m=k.useRef(null),[g,p]=k.useState(12),[w,_]=k.useState(12),[N,S]=k.useState(0);k.useEffect(()=>{const C=m.current;if(!C)return;const T=()=>S(C.scrollHeight);T();const O=window.ResizeObserver,R=O?new O(()=>T()):void 0;return R&&R.observe(C),()=>R&&R.disconnect()},[]);const M=r==="source"?"bg-node-source text-white":"bg-node-destination text-white",L={borderColor:nf(a||"pending")},I=gb(r),H={backgroundColor:I+"14"};return E.jsxs("div",{className:"relative rounded-xl border bg-white shadow-sm w-56",style:L,children:[E.jsx("div",{className:`px-3 py-1 text-xs font-semibold rounded-t-xl ${M}`,children:r.toUpperCase()}),E.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:I}}),E.jsxs("div",{className:"p-3",style:H,children:[E.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[E.jsx("span",{children:o.name}),E.jsx("span",{className:"ml-auto"}),a?E.jsx(dv,{status:a}):null]}),E.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["Category: ",o.category]}),E.jsxs("div",{className:"mt-2 text-xs",children:[E.jsxs("button",{type:"button","aria-expanded":h,className:"w-full flex items-center justify-between text-left font-medium text-slate-700 select-none active:scale-[0.98] transition-transform",onClick:()=>{var C;if("vibrate"in navigator)try{(C=navigator.vibrate)==null||C.call(navigator,db.light)}catch{}v(T=>!T)},children:[E.jsx("span",{children:"Credentials"}),E.jsx("span",{className:`text-slate-400 text-xl leading-none transition-transform duration-200 ripple-ink ${h?"":"rotate-90"}`,onMouseMove:C=>{const T=C.currentTarget.getBoundingClientRect();p(C.clientX-T.left),_(C.clientY-T.top)},style:{"--rx":g+"px","--ry":w+"px"},children:E.jsx("span",{className:"ink-symbol",children:h?"−":"+"})})]}),E.jsx("div",{ref:m,className:"overflow-hidden transition-[max-height] duration-300 ease-in-out",style:{maxHeight:h?N:0},children:E.jsxs("div",{className:"mt-1",children:[E.jsx("div",{className:"text-[11px] text-slate-500",children:"Mandatory"}),o.credentials.mandatory.map(C=>{const T=i==null?void 0:i[C],O=typeof T=="string"?T:T??"",R=Fp(C,O),D=!O,b=e.status==="pending";return E.jsxs("div",{className:`mt-1 text-[12px] ${D&&b?"text-red-600":"text-slate-700"}`,children:[E.jsx("div",{className:"font-medium",children:C}),D||s[C]?E.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:D&&b?"#ef4444":"#cbd5e1"},type:C.toLowerCase().includes("password")?"password":"text",value:u[C]??(typeof T=="string"?T:T??""),onChange:A=>c(F=>({...F,[C]:A.target.value})),onBlur:()=>{const A=u[C]??(typeof T=="string"?T:T??""),F=Rc(C,A);if(F.isValid){const U=en(A);t&&(n==null||n(t,C,U)),d(K=>({...K,[C]:""})),x(`${C} field updated successfully`)}else d(U=>({...U,[C]:F.error||"Invalid input"})),x(`${C} field validation failed: ${F.error}`);setTimeout(()=>x(""),2e3),l(U=>({...U,[C]:!1})),c(U=>({...U,[C]:void 0}))},onKeyDown:A=>{if(A.key==="Enter"){const F=u[C]??(typeof T=="string"?T:T??""),U=Rc(C,F);if(U.isValid){const K=en(F);t&&(n==null||n(t,C,K)),d(X=>({...X,[C]:""}))}else d(K=>({...K,[C]:U.error||"Invalid input"}));l(K=>({...K,[C]:!1})),c(K=>({...K,[C]:void 0}))}},autoFocus:s[C]===!0,"aria-label":`Enter ${C} for ${r} connector`,"aria-required":D&&b,"aria-invalid":D&&b}):E.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] text-slate-800 cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(A=>({...A,[C]:!0})),onKeyDown:A=>A.key==="Enter"&&l(F=>({...F,[C]:!0})),title:typeof O=="string"?O:"",tabIndex:0,role:"button","aria-label":`Edit ${C} field. Current value: ${R||"empty"}`,children:R}),f[C]&&E.jsx("div",{className:"mt-1 text-[10px] text-red-600",role:"alert",children:f[C]})]},C)}),(z=o.credentials.optional)!=null&&z.length?E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional"}),(B=o.credentials.optional)==null?void 0:B.map(C=>{const T=i==null?void 0:i[C],O=typeof T=="string"?T:T??"",R=Fp(C,O);return E.jsxs("div",{className:"mt-1 text-[12px] text-slate-700",children:[E.jsx("div",{className:"font-medium",children:C}),s[C]??!0?E.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},type:C.toLowerCase().includes("password")?"password":"text",value:u[C]??(typeof T=="string"?T:T??""),onChange:D=>c(b=>({...b,[C]:D.target.value})),onBlur:()=>{const D=u[C]??(typeof T=="string"?T:T??"");(D.trim()!==""||o.credentials.mandatory.includes(C))&&t&&(n==null||n(t,C,D)),l(b=>({...b,[C]:!1})),c(b=>({...b,[C]:void 0}))},onKeyDown:D=>{if(D.key==="Enter"){const b=u[C]??(typeof T=="string"?T:T??"");(b.trim()!==""||o.credentials.mandatory.includes(C))&&t&&(n==null||n(t,C,b)),l(A=>({...A,[C]:!1})),c(A=>({...A,[C]:void 0}))}},autoFocus:!0}):E.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(D=>({...D,[C]:!0})),onKeyDown:D=>D.key==="Enter"&&l(b=>({...b,[C]:!0})),title:O||"",tabIndex:0,role:"button","aria-label":`Edit ${C} field. Current value: ${R||"empty"}`,children:O?E.jsx("span",{className:"text-slate-800",children:R}):E.jsx("span",{className:"text-slate-400 italic",children:o.credentials.mandatory.includes(C)?"Required":"Optional - click to add"})})]},C)})]}):null]})})]})]}),E.jsx("style",{children:`
        .ripple-ink{position:relative;display:inline-grid;place-items:center;width:28px;height:28px;border-radius:9999px}
        .ripple-ink .ink-symbol{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);line-height:1}
        /* soft filled circular background */
        .ripple-ink::before{content:"";position:absolute;inset:0;border-radius:inherit;background:currentColor;opacity:.08;transform:scale(.98);transition:opacity 220ms ease,transform 220ms ease}
        /* concentric ring at the edge */
        .ripple-ink::after{content:"";position:absolute;inset:-2px;border-radius:inherit;border:2px solid currentColor;opacity:0;transform:scale(.9)}
        .ripple-ink:hover::before{opacity:.14;transform:scale(1.06)}
        .ripple-ink:hover::after{opacity:.35;animation:ringPulse 1200ms ease-in-out infinite}
        .ripple-ink:active::after{opacity:.45}
        @keyframes ringPulse{0%{transform:scale(.92)}50%{transform:scale(1.08)}100%{transform:scale(.92)}}
        `}),E.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:y})]})}const yb=k.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(qn,{type:"source",position:le.Right,style:{width:12,height:12,background:"#1e40af",border:"2px solid #1e3a8a",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),E.jsx(fv,{instance:{role:"source",spec:r.spec,values:r.values,status:r.status},nodeId:t,onEditValue:(o,i,a)=>{var s;return(s=r.onEdit)==null?void 0:s.call(r,o,i,a)}})]})});function vb(e){switch(e){case"pending":return"#f59e0b";case"partial":return"#3b82f6";case"complete":return"#10b981";case"error":return"#ef4444"}}function xb({name:e,status:t,nodeId:n,values:r,onAdd:o}){const[i,a]=k.useState(""),[s,l]=k.useState(!0),u=Object.keys(r||{});return E.jsxs("div",{className:"relative rounded-xl bg-white shadow-sm w-56",style:{border:`1px dashed ${vb(t)}`},children:[E.jsx("div",{className:"px-3 py-1 text-xs font-semibold rounded-t-xl bg-node-transform text-white",children:"TRANSFORM"}),E.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:"#8b5cf6"}}),E.jsxs("div",{className:"p-3",children:[E.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[E.jsx("span",{children:e}),E.jsx(dv,{status:t})]}),E.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:"Category: Transform"}),E.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"Configure transform parameters"}),e!=="Map & Validate"?E.jsxs(E.Fragment,{children:[E.jsxs("button",{type:"button",className:"mt-2 w-full min-h-[44px] flex items-center justify-between text-left text-xs font-medium text-slate-700 px-2 py-2 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(c=>!c),"aria-expanded":s,"aria-controls":"transform-extras","aria-label":`${s?"Collapse":"Expand"} transform extras section`,children:[E.jsx("span",{children:"Extras"}),E.jsx("span",{className:"text-slate-400 min-w-[24px] min-h-[24px] flex items-center justify-center","aria-hidden":"true",children:s?"−":"+"})]}),s?E.jsxs("div",{id:"transform-extras",className:"mt-1",children:[u.length?E.jsx("div",{className:"text-[12px] text-slate-700",role:"list","aria-label":"Current extra fields",children:u.map(c=>E.jsx("div",{className:"mt-1",role:"listitem",children:c},c))}):null,E.jsx("input",{className:"mt-2 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},placeholder:"Add field name and press Enter",value:i,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&i.trim()&&(n&&(o==null||o(n,i.trim())),a(""))},"aria-label":"Add new transform field","aria-describedby":"field-help"}),E.jsx("div",{id:"field-help",className:"sr-only",children:"Enter a field name and press Enter to add it to the transform configuration"})]}):null]}):null]})]})}const wb=k.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(qn,{type:"target",position:le.Left,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),E.jsx(xb,{name:r.name,status:r.status,nodeId:t,values:r.values,onAdd:(o,i)=>{var a;return(a=r.onAdd)==null?void 0:a.call(r,o,i)}}),E.jsx(qn,{type:"source",position:le.Right,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),Sb=k.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(fv,{instance:{role:"destination",spec:r.spec,values:r.values,status:r.status},nodeId:t,onEditValue:(o,i,a)=>{var s;return(s=r.onEdit)==null?void 0:s.call(r,o,i,a)}}),E.jsx(qn,{type:"target",position:le.Left,style:{width:12,height:12,background:"#065f46",border:"2px solid #064e3b",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),Eb=k.memo(function({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,data:l,markerEnd:u}){const[c]=Gd({sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s}),f=l,d=(f==null?void 0:f.status)||"partial",h=(f==null?void 0:f.kind)==="tx-dst"?Ut.COLORS.edge.transformToDestination:nf(d);return E.jsx("g",{children:E.jsx("path",{id:t,className:"react-flow__edge-path",d:c,stroke:h,strokeWidth:4,fill:"none",markerEnd:u})})}),Cb=k.createContext(null),wu={didCatch:!1,error:null};let _b=class extends k.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=wu}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:i,reason:"imperative-api"}),this.setState(wu)}}componentDidCatch(t,n){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&n.error!==null&&kb(t.resetKeys,o)){var i,a;(i=(a=this.props).onReset)===null||i===void 0||i.call(a,{next:o,prev:t.resetKeys,reason:"keys"}),this.setState(wu)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:o}=this.props,{didCatch:i,error:a}=this.state;let s=t;if(i){const l={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")s=n(l);else if(r)s=k.createElement(r,l);else if(o!==void 0)s=o;else throw a}return k.createElement(Cb.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}};function kb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}function Nb({error:e,resetErrorBoundary:t}){return E.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6 bg-red-50 border border-red-200 rounded-xl",children:[E.jsx(hE,{className:"w-12 h-12 text-red-500 mb-4"}),E.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),E.jsx("p",{className:"text-sm text-red-600 text-center mb-4",children:"The flow canvas encountered an error. Please try refreshing the page."}),E.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"}),!1]})}function Mb({children:e,fallback:t}){return E.jsx(_b,{FallbackComponent:t?()=>E.jsx(E.Fragment,{children:t}):Nb,onError:(n,r)=>{console.error("Flow Canvas Error:",n,r)},children:e})}function bb(e,t,n){if(n)return e;const{NODE_DIMENSIONS:r,RESPONSIVE:o,CANVAS:i}=Ut,{width:a,height:s,gap:l}=r,u=i.defaultHeight-s-80;if(t<o.verticalBreakpoint){const z=Math.floor((t-a)/2),B=t<a+60?20:Math.min(40,z);let C=20;return e.map(T=>{const O=Math.min(C,u),R={x:B,y:O};return C+=s+l+20,{...T,position:R}})}const c=40,f=Math.max(40,t*.05),d=t-c-f,h=c,v=60,y=Math.min(100,d*.08),x=Math.max(v,y),m=3*a+2*x,g=c+m+f;let p,w;if(g>t){const I=(t-c-f-3*a)/2,H=Math.max(30,I);p=h+a+H,w=p+a+H}else p=h+a+x,w=p+a+x;const _=Math.min(50,u),N=_,S=_,M=_;return e.map(I=>I.type==="source"?{...I,position:{x:h,y:N}}:I.type==="transform"?{...I,position:{x:p,y:S}}:I.type==="destination"?{...I,position:{x:w,y:M}}:I)}const Db={source:yb,transform:wb,destination:Sb},Pb={statusBezier:Eb};function Tb({initial:e,links:t,onNodeValuesChange:n}){const[r,o,i]=jM([]),[a,s]=k.useState(!1),l=k.useRef(null),u=k.useCallback(y=>{if(!n)return;const x={};y.forEach(m=>{if(m.type==="source"||m.type==="destination"){const g=m.data;x[m.type]=g.values||{}}else if(m.type==="transform"){const g=m.data;x.transform=g.values||{}}}),n(x)},[n]);k.useEffect(()=>{const y=e.map(x=>{var p;let m=40,g=50;return x.role==="source"?(m=40,g=50):x.role==="transform"?(m=400,g=50):x.role==="destination"&&(m=760,g=50),{id:x.id,type:x.role,position:{x:m,y:g},zIndex:x.role==="transform"?10:x.role==="source"?5:1,data:x.role==="transform"?{name:x.spec.name,values:x.values,status:Wa("transform",x.spec.name,[],x.values),onAdd:(w,_)=>{o(N=>{const S=N.map(M=>{if(M.id!==w||M.type!=="transform")return M;const L=M.data,I={...L.values||{},[_]:"1"};return{...M,data:{...L,values:I,status:Wa("transform",L.name,[],I)}}});return setTimeout(()=>u(S),0),S})}}:{spec:x.spec,values:x.values,status:Wa(x.role,void 0,((p=x.spec.credentials)==null?void 0:p.mandatory)||[],x.values),onEdit:(w,_,N)=>{o(S=>{const M=S.map(L=>{var C;if(L.id!==w||L.type!=="source"&&L.type!=="destination")return L;const I=L.data,H={...I.values||{},[_]:N},z=((C=I.spec.credentials)==null?void 0:C.mandatory)||[],B=Wa(L.type,void 0,z,H);return{...L,data:{...I,values:H,status:B}}});return setTimeout(()=>u(M),0),M})}}}});o(y)},[e,o,u]);const c=k.useCallback(()=>{const y=l.current;if(!y){console.log("⚠️ Layout called but host ref is null");return}const x=y.getBoundingClientRect().width;o(m=>bb(m,x,a))},[a,o]),f=k.useMemo(()=>{const y=new Map;return e.forEach(x=>y.set(x.id,x.role)),y},[e]),d=k.useMemo(()=>t.map((y,x)=>{const m=f.get(y.fromId)==="transform"&&f.get(y.toId)==="destination"?"tx-dst":void 0;return{id:`e-${x}`,source:y.fromId,target:y.toId,type:"statusBezier",data:{status:y.status,kind:m}}}),[t,f]);k.useEffect(()=>{setTimeout(()=>c(),300);const y=()=>setTimeout(()=>c(),100);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const h=k.useCallback(()=>s(!0),[]),v=k.useMemo(()=>({hideAttribution:!0}),[]);return E.jsx("div",{ref:l,className:"relative rounded-xl bg-slate-50 border","data-testid":"flow-canvas",style:{height:Ut.CANVAS.defaultHeight},children:E.jsxs(AM,{nodes:r,edges:d,onNodesChange:i,nodeTypes:Db,edgeTypes:Pb,onNodeDragStart:h,proOptions:v,nodesConnectable:!0,nodesDraggable:!0,panOnScroll:!0,zoomOnScroll:!0,minZoom:Ut.CANVAS.minZoom,maxZoom:Ut.CANVAS.maxZoom,defaultViewport:{x:0,y:-800,zoom:1},translateExtent:[[-100,-1e3],[1400,400]],nodeExtent:[[0,0],[1200,1e3]],onViewportChange:()=>{},children:[E.jsx(VM,{variant:wn.Dots,gap:16,size:1}),E.jsx(GM,{position:"bottom-left",showInteractive:!1})]})})}function hv({nodes:e,links:t,onNodeValuesChange:n}){const r={initial:e||[],links:t||[],onNodeValuesChange:n};return E.jsx(Mb,{children:E.jsx(sv,{children:E.jsx(Tb,{...r})})})}function Ob(){const{messages:e,input:t,setInput:n,send:r,aiThinking:o,highlightId:i}=_y(),a=k.useRef(null),s=k.useRef(null);return k.useEffect(()=>{var l;(l=a.current)==null||l.scrollIntoView({behavior:"smooth",block:"end"})},[e.length]),k.useEffect(()=>{var l;(l=a.current)==null||l.scrollIntoView({behavior:"auto",block:"end"})},[]),k.useEffect(()=>{var u;const l=s.current;l&&(l.style.height="auto",l.style.height=l.scrollHeight+"px",(u=a.current)==null||u.scrollIntoView({behavior:"auto",block:"end"}))},[t]),E.jsxs("div",{className:"h-screen grid grid-rows-[auto_1fr_auto]",children:[E.jsx("header",{className:"border-b bg-violet-600 text-white",children:E.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-3 flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 grid place-items-center",children:E.jsx(Ny,{size:18})}),E.jsx("div",{className:"font-semibold",children:"NexBot"}),E.jsx("div",{className:"ml-2 text-white/70 text-sm",children:"How can I help you today?"})]})}),E.jsxs("main",{className:"mx-auto max-w-7xl w-full px-4 overflow-hidden py-4 grid gap-6 grid-cols-1 lg:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col min-h-0",children:[E.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-6",role:"log","aria-live":"polite","aria-relevant":"additions","aria-busy":o,children:[e.map(l=>E.jsx(mE,{type:l.type,content:l.content,status:l.status,createdAt:l.createdAt,highlight:l.id===i},l.id)),E.jsx("div",{ref:a})]}),E.jsx("form",{onSubmit:l=>{l.preventDefault(),r()},className:"mt-3",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"flex-1",children:E.jsx("textarea",{"aria-multiline":"true",rows:1,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-violet-200 focus:border-violet-300 resize-none overflow-hidden min-h-[44px]",placeholder:"Describe your data flow…",value:t,ref:s,onChange:l=>{n(l.target.value);const u=l.currentTarget;u.style.height="auto",u.style.height=u.scrollHeight+"px"},onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r())}})}),E.jsxs("button",{className:"inline-flex items-center gap-2 rounded-full bg-violet-600 hover:bg-violet-500 text-white px-4 py-2 border border-transparent focus:outline-none focus:ring-2 focus:ring-violet-200",children:[E.jsx(fE,{size:16}),E.jsx("span",{className:"font-semibold",children:"Send"})]})]})})]}),E.jsx("div",{className:"min-h-0",children:E.jsx(hv,{nodes:[],links:[]})})]})]})}const Rb=[{name:"2dehands",category:"Other"},{name:"2ememain",category:"Other"},{name:"6Sense",category:"Other"},{name:"ActiGraph CentrePoint",category:"Other"},{name:"Active Campaign",category:"Other"},{name:"Ad Butler",category:"Other"},{name:"Adobe Experience Manager",category:"Other"},{name:"Adobe User Management",category:"Other"},{name:"Adyen",category:"Other"},{name:"Affinity CRM",category:"CRM"},{name:"Aftership",category:"Other"},{name:"Agile CRM",category:"Other"},{name:"Aircall",category:"Other"},{name:"Airtable",category:"Other"},{name:"Amazon Ads",category:"Marketing & Advertising"},{name:"Amazon Redshift",category:"Databases"},{name:"Amazon S3",category:"File Systems"},{name:"Amazon Seller Partner API",category:"E-Commerce"},{name:"Amplitude",category:"Other"},{name:"Ansible",category:"Other"},{name:"Anthropic AI",category:"LLMs"},{name:"Anvyl",category:"Other"},{name:"Apache ActiveMQ",category:"Other"},{name:"Apache Airflow",category:"Other"},{name:"Apify",category:"Other"},{name:"AppFollow",category:"Other"},{name:"Apprl",category:"Other"},{name:"Arts Vision",category:"Other"},{name:"Asana",category:"Other"},{name:"AT Internet",category:"Other"},{name:"ATS Anywhere",category:"Other"},{name:"Avaza",category:"Other"},{name:"Aventri",category:"Other"},{name:"AWS Athena",category:"Databases"},{name:"AWS CloudWatch",category:"Other"},{name:"AWS Kinesis Firehose",category:"Streaming"},{name:"Azure AI Studio",category:"LLMs"},{name:"Azure Blob Storage",category:"File Systems"},{name:"Azure Data Lake",category:"File Systems"},{name:"Azure Devops",category:"Other"},{name:"Azure Synapse",category:"Databases"},{name:"Bamboo HR",category:"Other"},{name:"Basis DSP",category:"Marketing & Advertising"},{name:"Bazaarvoice",category:"Other"},{name:"Beekeeper",category:"Other"},{name:"Beslist.nl",category:"Other"},{name:"Better Proposals",category:"Other"},{name:"Better Uptime",category:"Other"},{name:"Bexio",category:"Other"},{name:"Big Commerce Graph API",category:"E-Commerce"},{name:"Big Commerce Store Management",category:"E-Commerce"},{name:"Bill",category:"Other"},{name:"Bitbucket Server",category:"Other"},{name:"Blink",category:"Other"},{name:"Bloomerang",category:"Other"},{name:"Bloomreach",category:"Other"},{name:"Box",category:"File Systems"},{name:"Braze",category:"Marketing & Advertising"},{name:"Brex",category:"Other"},{name:"Browserstack",category:"Other"},{name:"Bugherd",category:"Other"},{name:"Button",category:"Other"},{name:"Campaigner",category:"Marketing & Advertising"},{name:"Capsule",category:"CRM"},{name:"Certify",category:"Other"},{name:"Chargeback",category:"Other"},{name:"Chargebee",category:"Other"},{name:"Choozle",category:"Other"},{name:"CircleCI",category:"Other"},{name:"Clever",category:"Other"},{name:"Clever District",category:"Other"},{name:"Clickwise",category:"Other"},{name:"Clockify",category:"Other"},{name:"Cognism",category:"Other"},{name:"Collibra",category:"Data as a Service"},{name:"Confluence",category:"Other"},{name:"Confluent Kafka",category:"Streaming"},{name:"Convert Kit",category:"Other"},{name:"Convey",category:"Other"},{name:"Copper",category:"Other"},{name:"Corsano",category:"Other"},{name:"Coupa",category:"Other"},{name:"Criteo",category:"Marketing & Advertising"},{name:"Crunchbase",category:"Data as a Service"},{name:"Crunchbase Pro",category:"Data as a Service"},{name:"Cue",category:"Other"},{name:"data.world",category:"Data as a Service"},{name:"Databricks",category:"Other"},{name:"Datadog",category:"Other"},{name:"dbt",category:"Other"},{name:"Delighted",category:"Other"},{name:"Delta Lake",category:"File Systems"},{name:"Delta Lake on AWS S3",category:"File Systems"},{name:"Delta Lake on Azure Blob",category:"File Systems"},{name:"Delta Lake on Azure Data Lake",category:"File Systems"},{name:"Discord",category:"Other"},{name:"Dixa",category:"Other"},{name:"Docker",category:"Other"},{name:"Domo",category:"Other"},{name:"Dropbox",category:"File Systems"},{name:"DynamoDB",category:"Other"},{name:"Elasticsearch",category:"Databases"},{name:"ELT Script Runner",category:"Other"},{name:"Email Destination",category:"Other"},{name:"Email Source",category:"Other"},{name:"Emma",category:"Other"},{name:"Everhour",category:"Other"},{name:"Expensify",category:"Other"},{name:"Extole",category:"Other"},{name:"FDA",category:"Data as a Service"},{name:"File Upload",category:"Other"},{name:"Fingerbank",category:"Cybersecurity"},{name:"Firebase",category:"Other"},{name:"Firebolt",category:"Other"},{name:"Fivetran",category:"Other"},{name:"Fixer",category:"Other"},{name:"Foursquare",category:"Other"},{name:"Freshsales",category:"CRM"},{name:"Freshservice",category:"Other"},{name:"Front",category:"Other"},{name:"FTP, SFTP, FTPS",category:"File Systems"},{name:"Fulcrum",category:"Other"},{name:"FullContact",category:"Other"},{name:"Gainsight CS",category:"CRM"},{name:"Gem",category:"Other"},{name:"Github",category:"Other"},{name:"Glean",category:"Other"},{name:"Go Daddy",category:"Other"},{name:"Google Ads",category:"Marketing & Advertising"},{name:"Google AlloyDB",category:"Databases"},{name:"Google Analytics",category:"Marketing & Advertising"},{name:"Google BigQuery",category:"Databases"},{name:"Google BigQuery API",category:"Databases"},{name:"Google Cloud Spanner",category:"Databases"},{name:"Google Cloud SQL MySQL",category:"Databases"},{name:"Google Cloud SQL PostgreSQL",category:"Databases"},{name:"Google Cloud Storage",category:"File Systems"},{name:"Google CloudSQL SQLServer",category:"Databases"},{name:"Google Drive",category:"File Systems"},{name:"Google Gemini",category:"LLMs"},{name:"Google Gmail Postmaster",category:"Other"},{name:"Google Merchant Center",category:"Other"},{name:"Google Pub Sub",category:"Streaming"},{name:"Google Search Ads 360",category:"Marketing & Advertising"},{name:"Grade us",category:"Other"},{name:"GraphQL API",category:"Generic APIs"},{name:"Greenhouse",category:"Other"},{name:"Grok by xAI",category:"LLMs"},{name:"Harvest",category:"Other"},{name:"HelloSign",category:"Other"},{name:"Heureka",category:"Other"},{name:"HiBob",category:"Other"},{name:"Hightouch",category:"Data as a Service"},{name:"Hive",category:"Databases"},{name:"Hive HR",category:"Databases"},{name:"Hootsuite",category:"Other"},{name:"Hotjar",category:"Other"},{name:"Hotmart",category:"Other"},{name:"Hubspot",category:"CRM"},{name:"IBM AS400",category:"Other"},{name:"IBM Db2",category:"Databases"},{name:"Iceberg on S3",category:"File Systems"},{name:"iLevel",category:"Other"},{name:"Instagram",category:"Other"},{name:"Intuit Quickbooks",category:"Other"},{name:"Jampp",category:"Other"},{name:"JazzHR",category:"Other"},{name:"JIRA",category:"Other"},{name:"JMS",category:"Streaming"},{name:"Kafka",category:"Streaming"},{name:"Kapost",category:"Other"},{name:"Kargo",category:"Other"},{name:"Keap",category:"CRM"},{name:"Kibo",category:"Other"},{name:"Kissmetrics",category:"Other"},{name:"Klaviyo",category:"Marketing & Advertising"},{name:"KnowBe4 (KMSAT)",category:"Other"},{name:"Lattice",category:"Other"},{name:"LaunchDarkly",category:"Other"},{name:"Leadfeader",category:"Other"},{name:"Leapfin",category:"Other"},{name:"Leapsome",category:"Other"},{name:"Lemlist",category:"Other"},{name:"Lessonly / Seismic Learning",category:"Other"},{name:"LinkedIn Ads",category:"Marketing & Advertising"},{name:"LinkedIn Marketing",category:"Marketing & Advertising"},{name:"Locker",category:"Other"},{name:"Loggly",category:"Other"},{name:"LogicGate",category:"Other"},{name:"Lokalise",category:"Other"},{name:"Looker",category:"Data as a Service"},{name:"Lookup Tables",category:"Other"},{name:"Magento",category:"E-Commerce"},{name:"Mailboxlayer",category:"File Systems"},{name:"Mailchimp",category:"Marketing & Advertising"},{name:"ManagerPlus",category:"Other"},{name:"Manhattan",category:"Other"},{name:"Marketo",category:"Marketing & Advertising"},{name:"Maropost",category:"Other"},{name:"Medallia",category:"Other"},{name:"Meta / Facebook Ads",category:"Marketing & Advertising"},{name:"Meta / Facebook Pages",category:"Marketing & Advertising"},{name:"Microsoft Bing Ads",category:"Marketing & Advertising"},{name:"Microsoft Dynamics 365",category:"Other"},{name:"Microsoft Office 365",category:"Other"},{name:"Microsoft Office 365 Management",category:"Other"},{name:"Microsoft SQLServer",category:"Databases"},{name:"Microsoft Text Translator",category:"Other"},{name:"Milvus",category:"Databases"},{name:"MinIO",category:"Other"},{name:"Mirakl",category:"E-Commerce"},{name:"Mistral AI",category:"LLMs"},{name:"Mixpanel",category:"Other"},{name:"Mode",category:"Other"},{name:"Monday",category:"Other"},{name:"MongoDB",category:"Other"},{name:"Moz",category:"Other"},{name:"MySQL",category:"Databases"},{name:"Namely",category:"Other"},{name:"Netskope",category:"Cybersecurity"},{name:"New Relic",category:"Other"},{name:"News API",category:"Data as a Service"},{name:"Nexla Monitoring APIs",category:"Other"},{name:"Nielsen Digital Ad Ratings",category:"Other"},{name:"Notion Api",category:"Other"},{name:"NVIDIA AI",category:"LLMs"},{name:"Odoo ERP",category:"Other"},{name:"On24",category:"Other"},{name:"Open AI",category:"LLMs"},{name:"OpenAir",category:"Other"},{name:"OpenRouter",category:"Other"},{name:"OpenWeather",category:"Data as a Service"},{name:"Opsgenie",category:"Other"},{name:"Optimizely",category:"Other"},{name:"Oracle Autonomous Database",category:"Databases"},{name:"Oracle Database",category:"Databases"},{name:"Oracle Financials UCM",category:"Databases"},{name:"Oracle Netsuite APIs",category:"Databases"},{name:"Oracle Netsuite JDBC",category:"Databases"},{name:"Oracle PBCS",category:"Databases"},{name:"Oura Ring",category:"Other"},{name:"Outbrain Amplify",category:"Other"},{name:"Outbrain Engage",category:"Other"},{name:"Outreach",category:"Other"},{name:"Panaya",category:"Other"},{name:"Panda Doc",category:"Other"},{name:"Pandas",category:"Other"},{name:"Paymo",category:"Other"},{name:"Paypal",category:"Other"},{name:"Peakon",category:"Other"},{name:"Pendo",category:"Other"},{name:"Perplexity AI",category:"LLMs"},{name:"Personio",category:"Other"},{name:"Pinecone",category:"Vector Databases"},{name:"Pinterest",category:"Other"},{name:"Pipedrive",category:"File Systems"},{name:"Playtix",category:"Other"},{name:"Polygon",category:"Other"},{name:"Porta Billing",category:"Other"},{name:"PostgreSQL",category:"Databases"},{name:"Postscript",category:"Other"},{name:"Productboard",category:"Other"},{name:"Project 44",category:"Other"},{name:"Proofpoint",category:"Cybersecurity"},{name:"Pulsedive",category:"Other"},{name:"Qdrant",category:"Databases"},{name:"Qualtrics",category:"Other"},{name:"Quip",category:"Other"},{name:"Razorpay",category:"Other"},{name:"Reltio",category:"Data as a Service"},{name:"ReSci",category:"Other"},{name:"Rest API",category:"Generic APIs"},{name:"Retool",category:"Other"},{name:"Rocket Fuel",category:"Other"},{name:"Sailthru",category:"Other"},{name:"Salesforce",category:"CRM"},{name:"Salesforce B2B Commerce Cloud",category:"CRM"},{name:"Salesforce B2C Commerce Cloud",category:"CRM"},{name:"Salesforce Marketing Cloud",category:"CRM"},{name:"SAP",category:"Other"},{name:"SAP HANA JDBC",category:"Databases"},{name:"Scalyr / Dataset",category:"Other"},{name:"Sendgrid",category:"Marketing & Advertising"},{name:"Sendpulse",category:"Other"},{name:"ServiceNow",category:"Other"},{name:"Sharepoint",category:"File Systems"},{name:"ShipBob",category:"Other"},{name:"ShipStation",category:"Other"},{name:"Shopify",category:"E-Commerce"},{name:"Similar Web",category:"Other"},{name:"Skilljar",category:"Other"},{name:"SkyScanner",category:"E-Commerce"},{name:"Slack",category:"Other"},{name:"SmartRecruiters",category:"Other"},{name:"Snapchat Ads",category:"Marketing & Advertising"},{name:"Snowflake",category:"Databases"},{name:"Snowflake Clean Room",category:"Databases"},{name:"SOAP API",category:"Generic APIs"},{name:"Sonarqube",category:"Other"},{name:"SplashThat",category:"Other"},{name:"Splunk",category:"Other"},{name:"Splunk SignalFX",category:"Other"},{name:"SpotDraft",category:"Other"},{name:"StarRez",category:"Other"},{name:"Stripe",category:"Other"},{name:"SurveyMonkey",category:"Other"},{name:"Sybase",category:"Databases"},{name:"Tableau",category:"Other"},{name:"TalkDesk",category:"Other"},{name:"Teamtailor",category:"Other"},{name:"Teradata",category:"Databases"},{name:"The TradeDesk",category:"Marketing & Advertising"},{name:"Tibco EMS",category:"Streaming"},{name:"Ticketmaster",category:"E-Commerce"},{name:"Together AI",category:"LLMs"},{name:"Toggl",category:"Other"},{name:"Totango",category:"CRM"},{name:"Transport For London (TFL)",category:"Other"},{name:"Trello",category:"Other"},{name:"Trip Advisor",category:"Other"},{name:"Tune Network",category:"Other"},{name:"Typeform",category:"Other"},{name:"UpPromote",category:"Other"},{name:"Upshop",category:"Other"},{name:"Usajobs",category:"Data as a Service"},{name:"Vespa",category:"Databases"},{name:"VinSolutions",category:"Other"},{name:"VirusTotal",category:"Cybersecurity"},{name:"Walmart",category:"E-Commerce"},{name:"Weaviate",category:"Databases"},{name:"Webdam",category:"Other"},{name:"WebDAV",category:"File Systems"},{name:"Webex",category:"Other"},{name:"Webhook",category:"Generic APIs"},{name:"Whoop",category:"Other"},{name:"Wicket",category:"Other"},{name:"Wolfram Alpha",category:"Other"},{name:"Workday Reporting",category:"Other"},{name:"Workday Web Services",category:"Other"},{name:"Wufoo Online Forms",category:"Other"},{name:"X (Twitter)",category:"Other"},{name:"Xero",category:"Other"},{name:"YouTube",category:"Other"},{name:"Zendesk Support",category:"CRM"},{name:"Zillow",category:"Other"},{name:"Zoho",category:"CRM"},{name:"Zoom",category:"Other"},{name:"Zscaler",category:"Cybersecurity"},{name:"Zuora Billing",category:"Other"},{name:"Zuora Revenue",category:"Other"}],Lb={connectors:Rb},Ib=new Set(["Google BigQuery","Snowflake","PostgreSQL","MySQL","Microsoft SQLServer","Oracle Database","Teradata","MongoDB","DynamoDB","Elasticsearch","Sybase","IBM Db2","Google AlloyDB"]),Ab=new Set(["Amazon S3","Google Cloud Storage","Azure Blob Storage","Dropbox","Box","WebDAV","Sharepoint","Google Drive","FTP, SFTP, FTPS"]),jb=new Set(["Kafka","Google Pub Sub","AWS Kinesis Firehose","JMS","Tibco EMS"]),zb=new Set(["Salesforce","Zoho","Pipedrive","Copper","Hubspot","Freshsales","Zendesk Support","Capsule","Affinity CRM"]),Fb=new Set(["Shopify","Magento","Big Commerce Graph API","Big Commerce Store Management","Salesforce B2B Commerce Cloud","Salesforce B2C Commerce Cloud","Mirakl","Walmart"]),$b=new Set(["Google Ads","Facebook Ads","LinkedIn Ads","Snapchat Ads","Criteo","The TradeDesk","Amazon Ads"]),Bb=new Set(["Pinecone","Weaviate","Qdrant","Vespa","Milvus"]),Vb=new Set(["Open AI","Anthropic AI","Google Gemini","Mistral AI","Together AI","Grok by xAI","Perplexity AI","NVIDIA AI","Azure AI Studio"]),Hb=new Set(["data.world","Crunchbase","Crunchbase Pro","OpenWeather","News API","FDA","Collibra","Hightouch","Reltio","Usajobs","Looker"]),Ub=new Set(["VirusTotal","Zscaler","Netskope","Proofpoint","Fingerbank"]);function Wb(e){return Ib.has(e)||/SQL|DB2|Db2|Sybase|AlloyDB|BigQuery/.test(e)?"Databases":Ab.has(e)||/(S3|Storage|Drive|Dropbox|Box|WebDAV|Sharepoint|FTP)/i.test(e)?"File Systems":jb.has(e)||/(Kafka|Pub Sub|Kinesis|JMS|EMS)/i.test(e)?"Streaming":zb.has(e)||/(Salesforce|Hubspot|Zoho|Zendesk|Capsule|Pipedrive|Freshsales)/i.test(e)?"CRM":Fb.has(e)||/(Shopify|Magento|Big Commerce|Commerce Cloud|Mirakl|Walmart)/i.test(e)?"E-Commerce":$b.has(e)||/(Ads|Advertising|DSP|SA 360|Search Ads)/i.test(e)?"Marketing & Advertising":Bb.has(e)?"Vector Databases":Vb.has(e)?"LLMs":Hb.has(e)?"Data as a Service":Ub.has(e)||/(Security|Cyber|Zscaler|Netskope)/i.test(e)?"Cybersecurity":/REST|GraphQL|SOAP|Webhook/i.test(e)?"Generic APIs":"Other"}function Yb(e){switch(e){case"Databases":return{roles:{source:!0,destination:!0},mandatory:["host/account","user","password or key","database/schema"],optional:["warehouse","role","ssl"]};case"File Systems":return{roles:{source:!0,destination:!0},mandatory:["endpoint/bucket","auth"],optional:["region","path/prefix"]};case"Streaming":return{roles:{source:!0,destination:!0},mandatory:["broker/endpoint","topic/stream","auth"],optional:["tls/sasl"]};case"CRM":return{roles:{source:!0,destination:!0},mandatory:["baseUrl/loginUrl","clientId","clientSecret","user","token/password"],optional:["instance"]};case"E-Commerce":return{roles:{source:!0,destination:!0},mandatory:["storeDomain","apiKey/token"],optional:["apiVersion"]};case"Marketing & Advertising":return{roles:{source:!0,destination:!0},mandatory:["accessToken/apiKey","accountId"],optional:["clientId","clientSecret"]};case"Vector Databases":return{roles:{source:!0,destination:!0},mandatory:["endpoint/host","apiKey","index/collection"],optional:[]};case"LLMs":return{roles:{source:!1,destination:!0},mandatory:["apiKey","model"],optional:["endpoint"]};case"Data as a Service":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl","accountId"]};case"Cybersecurity":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl"]};case"Generic APIs":return{roles:{source:!0,destination:!0},mandatory:["baseUrl","auth"],optional:["headers","params"]};default:return{roles:{source:!0,destination:!0},mandatory:["baseUrl or host","auth"],optional:[]}}}function Kb(){const e=Lb.connectors,t={};return e.forEach(({name:n,category:r})=>{const o=r||Wb(n),i=Yb(o);t[n]={name:n,category:o,roles:i.roles,credentials:{mandatory:i.mandatory,optional:i.optional}}}),t}const Gr=Kb(),ds={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lc=new Map,Ya=e=>{const t=Lc.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},Xb=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=Lc.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Lc.set(n.name,o),{type:"tracked",store:e,...o}},Gb=(e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let u;try{u=(i??(ds?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(ds?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,o);const{connection:c,...f}=Xb(s,u,l);let d=!0;o.setState=(y,x,m)=>{const g=n(y,x);if(!d)return g;const p=m===void 0?{type:a||"anonymous"}:typeof m=="string"?{type:m}:m;return s===void 0?(c==null||c.send(p,r()),g):(c==null||c.send({...p,type:`${s}/${p.type}`},{...Ya(l.name),[s]:o.getState()}),g)};const h=(...y)=>{const x=d;d=!1,n(...y),d=x},v=e(o.setState,r,o);if(f.type==="untracked"?c==null||c.init(v):(f.stores[f.store]=o,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([y,x])=>[y,y===f.store?v:x.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let y=!1;const x=o.dispatch;o.dispatch=(...m)=>{(ds?"production":void 0)!=="production"&&m[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),x(...m)}}return c.subscribe(y=>{var x;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Su(y.payload,m=>{if(m.type==="__setState"){if(s===void 0){h(m.state);return}Object.keys(m.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=m.state[s];if(g==null)return;JSON.stringify(o.getState())!==JSON.stringify(g)&&h(g);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(m)});case"DISPATCH":switch(y.payload.type){case"RESET":return h(v),s===void 0?c==null?void 0:c.init(o.getState()):c==null?void 0:c.init(Ya(l.name));case"COMMIT":if(s===void 0){c==null||c.init(o.getState());return}return c==null?void 0:c.init(Ya(l.name));case"ROLLBACK":return Su(y.state,m=>{if(s===void 0){h(m),c==null||c.init(o.getState());return}h(m[s]),c==null||c.init(Ya(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Su(y.state,m=>{if(s===void 0){h(m);return}JSON.stringify(o.getState())!==JSON.stringify(m[s])&&h(m[s])});case"IMPORT_STATE":{const{nextLiftedState:m}=y.payload,g=(x=m.computedStates.slice(-1)[0])==null?void 0:x.state;if(!g)return;h(s===void 0?g:g[s]),c==null||c.send(null,m);return}case"PAUSE_RECORDING":return d=!d}return}}),v},Qb=Gb,Su=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function Zb(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),s=(i=n.getItem(o))!=null?i:null;return s instanceof Promise?s.then(a):a(s)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const Gi=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Gi(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Gi(r)(n)}}}},Jb=(e,t)=>(n,r,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,m)=>({...m,...x}),...t},a=!1;const s=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,o);const c=Gi(i.serialize),f=()=>{const x=i.partialize({...r()});let m;const g=c({state:x,version:i.version}).then(p=>u.setItem(i.name,p)).catch(p=>{m=p});if(m)throw m;return g},d=o.setState;o.setState=(x,m)=>{d(x,m),f()};const h=e((...x)=>{n(...x),f()},r,o);let v;const y=()=>{var x;if(!u)return;a=!1,s.forEach(g=>g(r()));const m=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Gi(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var p;return v=i.merge(g,(p=r())!=null?p:h),n(v,!0),f()}).then(()=>{m==null||m(v,void 0),a=!0,l.forEach(g=>g(v))}).catch(g=>{m==null||m(void 0,g)})};return o.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},y(),v||h},qb=(e,t)=>(n,r,o)=>{let i={storage:Zb(()=>localStorage),partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},a=!1;const s=new Set,l=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,o);const c=()=>{const y=i.partialize({...r()});return u.setItem(i.name,{state:y,version:i.version})},f=o.setState;o.setState=(y,x)=>{f(y,x),c()};const d=e((...y)=>{n(...y),c()},r,o);o.getInitialState=()=>d;let h;const v=()=>{var y,x;if(!u)return;a=!1,s.forEach(g=>{var p;return g((p=r())!=null?p:d)});const m=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(y=r())!=null?y:d))||void 0;return Gi(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var p;const[w,_]=g;if(h=i.merge(_,(p=r())!=null?p:d),n(h,!0),w)return c()}).then(()=>{m==null||m(h,void 0),h=r(),a=!0,l.forEach(g=>g(h))}).catch(g=>{m==null||m(void 0,g)})};return o.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:y=>(s.add(y),()=>{s.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||v(),h||d},eD=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ds?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Jb(e,t)):qb(e,t),tD=eD,Eu={source:{},destination:{},transform:{},transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},Cu={nodes:{source:{name:"Dummy Source",credentials:{username:"",password:""}},destination:{name:"Dummy Destination",credentials:{apiKey:"",serverPrefix:""}},transform:{name:"Dummy Transform",credentials:{}}}},pv=jd()(Qb(tD((e,t)=>({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:{...Eu,transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},flowConfiguration:Cu,setSelectedSource:n=>e({selectedSource:n},!1,"setSelectedSource"),setSelectedDestination:n=>e({selectedDestination:n},!1,"setSelectedDestination"),setSelectedTransform:n=>e({selectedTransform:n},!1,"setSelectedTransform"),updateNodeValues:n=>e(r=>({nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...n.source},destination:{...r.nodeValues.destination,...n.destination},transform:{...r.nodeValues.transform,...n.transform}}}),!1,"updateNodeValues"),updateSourceValues:n=>e(r=>({nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...n}}}),!1,"updateSourceValues"),updateDestinationValues:n=>e(r=>({nodeValues:{...r.nodeValues,destination:{...r.nodeValues.destination,...n}}}),!1,"updateDestinationValues"),updateTransformValues:n=>e(r=>({nodeValues:{...r.nodeValues,transform:{...r.nodeValues.transform,...n}}}),!1,"updateTransformValues"),updateTransformValuesByType:(n,r)=>e(o=>{const i=o.nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}};return{nodeValues:{...o.nodeValues,transformByType:{...i,[n]:{...i[n]||{},...r}}}}},!1,"updateTransformValuesByType"),getTransformValuesByType:n=>(t().nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}})[n]||{},resetToDefaults:()=>e({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:Eu},!1,"resetToDefaults"),loadConfiguration:n=>{var o,i,a;const r=t();e({selectedSource:n.selectedSource??r.selectedSource,selectedDestination:n.selectedDestination??r.selectedDestination,selectedTransform:n.selectedTransform??r.selectedTransform,nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...(o=n.nodeValues)==null?void 0:o.source},destination:{...r.nodeValues.destination,...(i=n.nodeValues)==null?void 0:i.destination},transform:{...r.nodeValues.transform,...(a=n.nodeValues)==null?void 0:a.transform}}},!1,"loadConfiguration")},loadFlowConfiguration:n=>{e(r=>({flowConfiguration:n,selectedSource:n.nodes.source.name,selectedDestination:n.nodes.destination.name,selectedTransform:n.nodes.transform.name,nodeValues:{...r.nodeValues,source:n.nodes.source.credentials,destination:n.nodes.destination.credentials,transform:n.nodes.transform.credentials}}),!1,"loadFlowConfiguration")},updateNodeConfiguration:(n,r,o)=>{e(i=>({flowConfiguration:{...i.flowConfiguration,nodes:{...i.flowConfiguration.nodes,[n]:{name:r,credentials:o}}},[`selected${n.charAt(0).toUpperCase()+n.slice(1)}`]:r,nodeValues:{...i.nodeValues,[n]:o}}),!1,"updateNodeConfiguration")},resetToDefaultConfiguration:()=>{e({flowConfiguration:Cu,selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:Eu},!1,"resetToDefaultConfiguration")},getFlowConfigurationJSON:()=>{const n=t();return JSON.stringify(n.flowConfiguration,null,2)}}),{name:"canvas-store",partialize:e=>({selectedSource:e.selectedSource,selectedDestination:e.selectedDestination,selectedTransform:e.selectedTransform,nodeValues:e.nodeValues,flowConfiguration:e.flowConfiguration}),migrate:e=>{const t=e;return t&&t.nodeValues&&!t.nodeValues.transformByType&&(t.nodeValues.transformByType={"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}),t&&!t.flowConfiguration&&(t.flowConfiguration=Cu),t},version:1}),{name:"CanvasStore"}));function nD({onSourceChange:e,onDestinationChange:t,onTransformChange:n,onNodeValuesChange:r,showControls:o=!0,showJsonPanel:i=!0,title:a="⚡ Live Configuration Preview",className:s=""}){const[l,u]=k.useState([]),[c,f]=k.useState(""),[d,h]=k.useState(""),v=k.useRef(null),y=k.useRef(null),x=k.useRef(null),m=k.useRef(null),g=k.useRef(null),{selectedSource:p,selectedDestination:w,selectedTransform:_,nodeValues:N,setSelectedSource:S,setSelectedDestination:M,setSelectedTransform:L,updateNodeValues:I,updateTransformValuesByType:H,getTransformValuesByType:z,loadFlowConfiguration:B,resetToDefaultConfiguration:C,getFlowConfigurationJSON:T}=pv(),O=k.useCallback($=>{f($),setTimeout(()=>f(""),1e3)},[]),R=k.useCallback($=>{h($),setTimeout(()=>h(""),1e3)},[]),D=$=>{S($),e==null||e($),O(`Source connector changed to ${$}`)},b=$=>{M($),t==null||t($),O(`Destination connector changed to ${$}`)},A=$=>{L($),n==null||n($),O(`Transform type changed to ${$}`)},F=$=>{($.source||$.destination)&&I({source:$.source,destination:$.destination}),$.transform&&(H(_,$.transform),I({transform:$.transform})),r==null||r($)},U=["Dummy Source",...Object.keys(Gr).filter($=>{var Z;return(Z=Gr[$].roles)==null?void 0:Z.source})],K=["Dummy Destination",...Object.keys(Gr).filter($=>{var Z;return(Z=Gr[$].roles)==null?void 0:Z.destination})],X=["Dummy Transform","Map & Validate","Cleanse","Enrich & Map"],q=k.useCallback(()=>{const $=()=>({name:"Dummy Source",category:"Data Source",roles:{source:!0,destination:!1},credentials:{mandatory:["username","password"],optional:[]}}),Z=()=>({name:"Dummy Destination",category:"Data Destination",roles:{source:!1,destination:!0},credentials:{mandatory:["apiKey","serverPrefix"],optional:[]}}),ce=()=>({name:"Dummy Transform",category:"Transform",credentials:{mandatory:[],optional:[]}}),fe=Gr[p]||$(),J=Gr[w]||Z(),ie=_==="Dummy Transform"?ce():{name:_,category:"Transform",credentials:{mandatory:[],optional:[]}},ue=`source-${p.replace(/\s+/g,"-")}`,Ee=`transform-${_.replace(/\s+/g,"-")}`,ye=`destination-${w.replace(/\s+/g,"-")}`,nt=N.source||{},Kt=N.destination||{},ln=z(_);return{nodes:[{id:ue,role:"source",spec:fe,values:nt},{id:Ee,role:"transform",spec:ie,values:ln},{id:ye,role:"destination",spec:J,values:Kt}],edges:[{fromId:ue,toId:Ee,status:"pending"},{fromId:Ee,toId:ye,status:"pending"}]}},[p,w,_,N,z]),re=k.useMemo(()=>q(),[q]),Q=k.useCallback($=>{var Z,ce,fe,J,ie;if(!($.target instanceof HTMLInputElement||$.target instanceof HTMLTextAreaElement||$.target instanceof HTMLSelectElement))switch($.key){case"1":$.preventDefault(),(Z=y.current)==null||Z.focus();break;case"2":$.preventDefault(),(ce=x.current)==null||ce.focus();break;case"3":$.preventDefault(),(fe=m.current)==null||fe.focus();break;case"j":case"J":$.preventDefault(),(J=g.current)==null||J.focus();break;case"Escape":$.preventDefault(),(ie=v.current)==null||ie.focus();break;case"?":$.preventDefault(),alert(`Keyboard Shortcuts:
1 - Focus Source
2 - Focus Transform
3 - Focus Destination
J - Focus JSON
Esc - Focus Canvas
Tab - Navigate elements
? - Show this help`);break}},[]);return k.useEffect(()=>(document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)),[Q]),E.jsxs("div",{ref:v,className:`space-y-6 ${s}`,tabIndex:0,role:"application","aria-label":"Data flow configuration canvas","aria-describedby":"keyboard-help",children:[o&&E.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:"🎛️ Configure Your Data Flow"}),E.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"source-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Source Connector"}),E.jsx("select",{ref:y,id:"source-selector",value:p,onChange:$=>D($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400","aria-label":"Select source connector for data flow","aria-describedby":"source-help",children:U.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"source-help",className:"sr-only",children:"Choose the data source connector that will provide input data for your flow"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"transform-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Transform Type"}),E.jsx("select",{ref:x,id:"transform-selector",value:_,onChange:$=>A($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400","aria-label":"Select transform type for data processing","aria-describedby":"transform-help",children:X.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"transform-help",className:"sr-only",children:"Choose the data transformation method to process your data"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"destination-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Destination Connector"}),E.jsx("select",{ref:m,id:"destination-selector",value:w,onChange:$=>b($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-200 focus:border-green-400","aria-label":"Select destination connector for data output","aria-describedby":"destination-help",children:K.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"destination-help",className:"sr-only",children:"Choose the destination connector where processed data will be sent"})]})]})]}),i&&E.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:"📝 Dynamic JSON Configuration"}),E.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"json-config",className:"block text-xs font-medium text-slate-600 mb-2",children:"Flow Configuration (JSON)"}),E.jsx("textarea",{ref:g,id:"json-config",className:"w-full h-32 rounded-lg border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400",value:T(),"aria-label":"JSON configuration for data flow","aria-describedby":"json-help",placeholder:`{
              "nodes": {
                "source": {
                  "name": "Shopify",
                  "credentials": {
                    "apiKey": "shop_key_abc",
                    "storeDomain": "mystore.myshopify.com"
                  }
                },
                "destination": {
                  "name": "Snowflake",
                  "credentials": {
                    "host/account": "company.snowflakecomputing.com",
                    "user": "datauser",
                    "password or key": "snow123",
                    "database/schema": "PROD_DB"
                  }
                },
                "transform": {
                  "name": "Cleanse",
                  "credentials": {
                    "cleansingRule": "remove_nulls"
                  }
                }
              }
            }`,onChange:$=>{try{const Z=JSON.parse($.target.value);if(Z.nodes&&Z.nodes.source&&Z.nodes.destination&&Z.nodes.transform){const ce=mb(Z);ce.isValid&&ce.sanitized?(B(ce.sanitized),u([]),R("Configuration loaded successfully")):(u(ce.errors),R(`Configuration validation failed: ${ce.errors.length} errors found`))}else{const ce={};for(const[fe,J]of Object.entries(Z))if(typeof J=="object"&&J!==null){ce[fe]={};for(const[ie,ue]of Object.entries(J))typeof ue=="string"&&(ce[fe][en(ie)]=en(ue))}F(ce),u([]),R("Legacy configuration format loaded")}}catch{u(["Invalid JSON format"]),R("Invalid JSON format detected")}}}),E.jsx("div",{id:"json-help",className:"sr-only",children:"Enter JSON configuration to define your data flow with source, transform, and destination nodes"}),l.length>0&&E.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",role:"alert","aria-live":"polite",children:[E.jsx("div",{className:"text-xs font-medium text-red-800 mb-1",children:"Validation Errors:"}),E.jsx("ul",{className:"text-xs text-red-700 space-y-1",children:l.map(($,Z)=>E.jsxs("li",{children:["• ",$]},Z))})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Quick Actions"}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("button",{onClick:()=>{B({nodes:{source:{name:"Shopify",credentials:{"apiKey/token":"shop_key_abc",storeDomain:"mystore.myshopify.com"}},destination:{name:"Snowflake",credentials:{"host/account":"company.snowflakecomputing.com",user:"datauser","password or key":"snow123","database/schema":"PROD_DB",warehouse:"COMPUTE_WH"}},transform:{name:"Cleanse",credentials:{cleansingRule:"remove_nulls",dataQuality:"high"}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors","aria-label":"Load sample Shopify to Snowflake configuration",children:"🚀 Load Your JSON (Shopify → Snowflake)"}),E.jsx("button",{onClick:()=>{B({nodes:{source:{name:"Salesforce",credentials:{username:"demo@salesforce.com",password:"demo123",securityToken:"token123"}},destination:{name:"Mailchimp",credentials:{apiKey:"mailchimp_key_456",serverPrefix:"us1"}},transform:{name:"Map & Validate",credentials:{}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors","aria-label":"Load sample Salesforce to Mailchimp configuration",children:"🔄 Load Sample (Salesforce → Mailchimp)"}),E.jsx("button",{onClick:C,className:"w-full min-h-[44px] px-3 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors","aria-label":"Reset configuration to default dummy nodes",children:"🔄 Reset to Dummy Nodes"}),E.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[E.jsx("strong",{children:"Current Flow Configuration:"}),E.jsx("pre",{className:"mt-1 p-2 bg-white rounded text-xs overflow-auto max-h-20",children:T()})]})]})]})]})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-semibold text-slate-600 px-1 mb-2",children:a}),E.jsx(hv,{nodes:re.nodes,links:re.edges,onNodeValuesChange:F})]}),E.jsx("div",{id:"keyboard-help",className:"sr-only",children:"Keyboard shortcuts: Press 1 for Source, 2 for Transform, 3 for Destination, J for JSON editor, Escape to focus canvas, Tab to navigate, ? for help"}),E.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:c}),E.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:d})]})}function rD(){const{loadConfiguration:e}=pv(),t=[{id:"default",name:"🎯 Default Dummy Nodes",description:"Empty placeholder nodes ready for configuration",data:{selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:{source:{},destination:{},transform:{}}}},{id:"salesforce-mailchimp",name:"🚀 Salesforce → Mailchimp",description:"Complete CRM to Email Marketing flow",data:{selectedSource:"Salesforce",selectedDestination:"Mailchimp",selectedTransform:"Map & Validate",nodeValues:{source:{username:"sales@company.com",password:"pass123",securityToken:"token456"},destination:{apiKey:"mc_key_789",serverPrefix:"us1",listId:"12345"},transform:{}}}},{id:"shopify-snowflake",name:"💼 Shopify → Snowflake",description:"E-commerce to Data Warehouse",data:{selectedSource:"Shopify",selectedDestination:"Snowflake",selectedTransform:"Cleanse",nodeValues:{source:{apiKey:"shop_key_abc",domain:"mystore.myshopify.com"},destination:{account:"company.snowflakecomputing.com",username:"datauser",password:"snow123",warehouse:"COMPUTE_WH"},transform:{cleansingRule:"remove_nulls",dataQuality:"high"}}}},{id:"postgres-elasticsearch",name:"🔍 PostgreSQL → Elasticsearch",description:"Database to Search Engine",data:{selectedSource:"PostgreSQL",selectedDestination:"Elasticsearch",selectedTransform:"Enrich & Map",nodeValues:{source:{host:"localhost",port:"5432",database:"products",username:"dbuser",password:"dbpass"},destination:{host:"elastic.company.com",port:"9200",index:"products",username:"elastic",password:"elastic123"},transform:{enrichment:"add_metadata",mapping:"product_schema"}}}},{id:"partial-config",name:"⚠️ Partial Configuration",description:"Some fields missing - shows pending/partial status",data:{selectedSource:"Salesforce",selectedDestination:"Mailchimp",selectedTransform:"Map & Validate",nodeValues:{source:{username:"incomplete@example.com"},destination:{apiKey:"partial_key"},transform:{}}}},{id:"empty-config",name:"📝 Empty Configuration",description:"No values - all nodes pending",data:{source:"Salesforce",destination:"Snowflake",transform:"Cleanse",values:{source:{},destination:{},transform:{}}}}],n=r=>{e(r.data)};return E.jsxs("div",{className:"min-h-screen p-6",children:[E.jsx("div",{className:"text-xl font-semibold mb-6",children:"Canvas Test — Dynamic Data Testing"}),E.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-xl border",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:"🧪 Test Scenarios - Click to Apply"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(r=>E.jsxs("button",{onClick:()=>n(r),className:"text-left p-3 bg-white rounded-lg border hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[E.jsx("div",{className:"font-medium text-sm text-slate-800",children:r.name}),E.jsx("div",{className:"text-xs text-slate-500 mt-1",children:r.description})]},r.id))})]}),E.jsx("div",{className:"mb-12",children:E.jsx(nD,{showControls:!0,showJsonPanel:!0,title:"⚡ Dynamic Canvas - Updates Based on Test Data"})})]})}const oD=mS([{path:"/",element:E.jsx(TS,{})},{path:"/chat",element:E.jsx(Ob,{})},{path:"/canvasTest",element:E.jsx(rD,{})}]);qg(document.getElementById("root")).render(E.jsx(Zs.StrictMode,{children:E.jsx(_S,{router:oD})}));
