function bm(e,r){for(var o=0;o<r.length;o++){const s=r[o];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();function Kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rc={exports:{}},Yi={},oc={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function Sv(){if(Bh)return Fe;Bh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(b){return b===null||typeof b!="object"?null:(b=v&&b[v]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function S(b,Q,se){this.props=b,this.context=Q,this.refs=w,this.updater=se||x}S.prototype.isReactComponent={},S.prototype.setState=function(b,Q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Q,"setState")},S.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function _(){}_.prototype=S.prototype;function T(b,Q,se){this.props=b,this.context=Q,this.refs=w,this.updater=se||x}var C=T.prototype=new _;C.constructor=T,N(C,S.prototype),C.isPureReactComponent=!0;var D=Array.isArray,A=Object.prototype.hasOwnProperty,V={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function z(b,Q,se){var oe,ue={},pe=null,de=null;if(Q!=null)for(oe in Q.ref!==void 0&&(de=Q.ref),Q.key!==void 0&&(pe=""+Q.key),Q)A.call(Q,oe)&&!M.hasOwnProperty(oe)&&(ue[oe]=Q[oe]);var X=arguments.length-2;if(X===1)ue.children=se;else if(1<X){for(var fe=Array(X),_e=0;_e<X;_e++)fe[_e]=arguments[_e+2];ue.children=fe}if(b&&b.defaultProps)for(oe in X=b.defaultProps,X)ue[oe]===void 0&&(ue[oe]=X[oe]);return{$$typeof:e,type:b,key:pe,ref:de,props:ue,_owner:V.current}}function G(b,Q){return{$$typeof:e,type:b.type,key:Q,ref:b.ref,props:b.props,_owner:b._owner}}function ne(b){return typeof b=="object"&&b!==null&&b.$$typeof===e}function re(b){var Q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(se){return Q[se]})}var L=/\/+/g;function q(b,Q){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):Q.toString(36)}function O(b,Q,se,oe,ue){var pe=typeof b;(pe==="undefined"||pe==="boolean")&&(b=null);var de=!1;if(b===null)de=!0;else switch(pe){case"string":case"number":de=!0;break;case"object":switch(b.$$typeof){case e:case r:de=!0}}if(de)return de=b,ue=ue(de),b=oe===""?"."+q(de,0):oe,D(ue)?(se="",b!=null&&(se=b.replace(L,"$&/")+"/"),O(ue,Q,se,"",function(_e){return _e})):ue!=null&&(ne(ue)&&(ue=G(ue,se+(!ue.key||de&&de.key===ue.key?"":(""+ue.key).replace(L,"$&/")+"/")+b)),Q.push(ue)),1;if(de=0,oe=oe===""?".":oe+":",D(b))for(var X=0;X<b.length;X++){pe=b[X];var fe=oe+q(pe,X);de+=O(pe,Q,se,fe,ue)}else if(fe=y(b),typeof fe=="function")for(b=fe.call(b),X=0;!(pe=b.next()).done;)pe=pe.value,fe=oe+q(pe,X++),de+=O(pe,Q,se,fe,ue);else if(pe==="object")throw Q=String(b),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return de}function U(b,Q,se){if(b==null)return b;var oe=[],ue=0;return O(b,oe,"","",function(pe){return Q.call(se,pe,ue++)}),oe}function H(b){if(b._status===-1){var Q=b._result;Q=Q(),Q.then(function(se){(b._status===0||b._status===-1)&&(b._status=1,b._result=se)},function(se){(b._status===0||b._status===-1)&&(b._status=2,b._result=se)}),b._status===-1&&(b._status=0,b._result=Q)}if(b._status===1)return b._result.default;throw b._result}var F={current:null},I={transition:null},B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:I,ReactCurrentOwner:V};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:U,forEach:function(b,Q,se){U(b,function(){Q.apply(this,arguments)},se)},count:function(b){var Q=0;return U(b,function(){Q++}),Q},toArray:function(b){return U(b,function(Q){return Q})||[]},only:function(b){if(!ne(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Fe.Component=S,Fe.Fragment=o,Fe.Profiler=a,Fe.PureComponent=T,Fe.StrictMode=s,Fe.Suspense=h,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Fe.act=Y,Fe.cloneElement=function(b,Q,se){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var oe=N({},b.props),ue=b.key,pe=b.ref,de=b._owner;if(Q!=null){if(Q.ref!==void 0&&(pe=Q.ref,de=V.current),Q.key!==void 0&&(ue=""+Q.key),b.type&&b.type.defaultProps)var X=b.type.defaultProps;for(fe in Q)A.call(Q,fe)&&!M.hasOwnProperty(fe)&&(oe[fe]=Q[fe]===void 0&&X!==void 0?X[fe]:Q[fe])}var fe=arguments.length-2;if(fe===1)oe.children=se;else if(1<fe){X=Array(fe);for(var _e=0;_e<fe;_e++)X[_e]=arguments[_e+2];oe.children=X}return{$$typeof:e,type:b.type,key:ue,ref:pe,props:oe,_owner:de}},Fe.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Fe.createElement=z,Fe.createFactory=function(b){var Q=z.bind(null,b);return Q.type=b,Q},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(b){return{$$typeof:d,render:b}},Fe.isValidElement=ne,Fe.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:H}},Fe.memo=function(b,Q){return{$$typeof:p,type:b,compare:Q===void 0?null:Q}},Fe.startTransition=function(b){var Q=I.transition;I.transition={};try{b()}finally{I.transition=Q}},Fe.unstable_act=Y,Fe.useCallback=function(b,Q){return F.current.useCallback(b,Q)},Fe.useContext=function(b){return F.current.useContext(b)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(b){return F.current.useDeferredValue(b)},Fe.useEffect=function(b,Q){return F.current.useEffect(b,Q)},Fe.useId=function(){return F.current.useId()},Fe.useImperativeHandle=function(b,Q,se){return F.current.useImperativeHandle(b,Q,se)},Fe.useInsertionEffect=function(b,Q){return F.current.useInsertionEffect(b,Q)},Fe.useLayoutEffect=function(b,Q){return F.current.useLayoutEffect(b,Q)},Fe.useMemo=function(b,Q){return F.current.useMemo(b,Q)},Fe.useReducer=function(b,Q,se){return F.current.useReducer(b,Q,se)},Fe.useRef=function(b){return F.current.useRef(b)},Fe.useState=function(b){return F.current.useState(b)},Fe.useSyncExternalStore=function(b,Q,se){return F.current.useSyncExternalStore(b,Q,se)},Fe.useTransition=function(){return F.current.useTransition()},Fe.version="18.3.1",Fe}var Uh;function xs(){return Uh||(Uh=1,oc.exports=Sv()),oc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function Ev(){if(Wh)return Yi;Wh=1;var e=xs(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var m,v={},y=null,x=null;p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(x=h.ref);for(m in h)s.call(h,m)&&!l.hasOwnProperty(m)&&(v[m]=h[m]);if(d&&d.defaultProps)for(m in h=d.defaultProps,h)v[m]===void 0&&(v[m]=h[m]);return{$$typeof:r,type:d,key:y,ref:x,props:v,_owner:a.current}}return Yi.Fragment=o,Yi.jsx=c,Yi.jsxs=c,Yi}var Qh;function Cv(){return Qh||(Qh=1,rc.exports=Ev()),rc.exports}var k=Cv(),P=xs();const ul=Kc(P),Nv=bm({__proto__:null,default:ul},[P]);var ba={},ic={exports:{}},$t={},sc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function kv(){return Yh||(Yh=1,(function(e){function r(I,B){var Y=I.length;I.push(B);e:for(;0<Y;){var b=Y-1>>>1,Q=I[b];if(0<a(Q,B))I[b]=B,I[Y]=Q,Y=b;else break e}}function o(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var B=I[0],Y=I.pop();if(Y!==B){I[0]=Y;e:for(var b=0,Q=I.length,se=Q>>>1;b<se;){var oe=2*(b+1)-1,ue=I[oe],pe=oe+1,de=I[pe];if(0>a(ue,Y))pe<Q&&0>a(de,ue)?(I[b]=de,I[pe]=Y,b=pe):(I[b]=ue,I[oe]=Y,b=oe);else if(pe<Q&&0>a(de,Y))I[b]=de,I[pe]=Y,b=pe;else break e}}return B}function a(I,B){var Y=I.sortIndex-B.sortIndex;return Y!==0?Y:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],p=[],m=1,v=null,y=3,x=!1,N=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var B=o(p);B!==null;){if(B.callback===null)s(p);else if(B.startTime<=I)s(p),B.sortIndex=B.expirationTime,r(h,B);else break;B=o(p)}}function D(I){if(w=!1,C(I),!N)if(o(h)!==null)N=!0,H(A);else{var B=o(p);B!==null&&F(D,B.startTime-I)}}function A(I,B){N=!1,w&&(w=!1,_(z),z=-1),x=!0;var Y=y;try{for(C(B),v=o(h);v!==null&&(!(v.expirationTime>B)||I&&!re());){var b=v.callback;if(typeof b=="function"){v.callback=null,y=v.priorityLevel;var Q=b(v.expirationTime<=B);B=e.unstable_now(),typeof Q=="function"?v.callback=Q:v===o(h)&&s(h),C(B)}else s(h);v=o(h)}if(v!==null)var se=!0;else{var oe=o(p);oe!==null&&F(D,oe.startTime-B),se=!1}return se}finally{v=null,y=Y,x=!1}}var V=!1,M=null,z=-1,G=5,ne=-1;function re(){return!(e.unstable_now()-ne<G)}function L(){if(M!==null){var I=e.unstable_now();ne=I;var B=!0;try{B=M(!0,I)}finally{B?q():(V=!1,M=null)}}else V=!1}var q;if(typeof T=="function")q=function(){T(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=L,q=function(){U.postMessage(null)}}else q=function(){S(L,0)};function H(I){M=I,V||(V=!0,q())}function F(I,B){z=S(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){N||x||(N=!0,H(A))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return o(h)},e.unstable_next=function(I){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var Y=y;y=B;try{return I()}finally{y=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=y;y=I;try{return B()}finally{y=Y}},e.unstable_scheduleCallback=function(I,B,Y){var b=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?b+Y:b):Y=b,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,I={id:m++,callback:B,priorityLevel:I,startTime:Y,expirationTime:Q,sortIndex:-1},Y>b?(I.sortIndex=Y,r(p,I),o(h)===null&&I===o(p)&&(w?(_(z),z=-1):w=!0,F(D,Y-b))):(I.sortIndex=Q,r(h,I),N||x||(N=!0,H(A))),I},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(I){var B=y;return function(){var Y=y;y=B;try{return I.apply(this,arguments)}finally{y=Y}}}})(ac)),ac}var Kh;function _v(){return Kh||(Kh=1,sc.exports=kv()),sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function Mv(){if(Xh)return $t;Xh=1;var e=xs(),r=_v();function o(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(a[t]=n,t=0;t<n.length;t++)s.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(t){return h.call(v,t)?!0:h.call(m,t)?!1:p.test(t)?v[t]=!0:(m[t]=!0,!1)}function x(t,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,n,i,u){if(n===null||typeof n>"u"||x(t,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function w(t,n,i,u,f,g,E){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=g,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){S[t]=new w(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];S[n]=new w(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){S[t]=new w(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){S[t]=new w(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){S[t]=new w(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){S[t]=new w(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){S[t]=new w(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){S[t]=new w(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){S[t]=new w(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){S[t]=new w(t,1,!1,t.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){S[t]=new w(t,1,!1,t.toLowerCase(),null,!0,!0)});function C(t,n,i,u){var f=S.hasOwnProperty(n)?S[n]:null;(f!==null?f.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,f,u)&&(i=null),u||f===null?y(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):f.mustUseProperty?t[f.propertyName]=i===null?f.type===3?!1:"":i:(n=f.attributeName,u=f.attributeNamespace,i===null?t.removeAttribute(n):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,u?t.setAttributeNS(u,n,i):t.setAttribute(n,i))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),I=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,b;function Q(t){if(b===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);b=n&&n[1]||""}return`
`+b+t}var se=!1;function oe(t,n){if(!t||se)return"";se=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ee){var u=ee}Reflect.construct(t,[],n)}else{try{n.call()}catch(ee){u=ee}t.call(n.prototype)}else{try{throw Error()}catch(ee){u=ee}t()}}catch(ee){if(ee&&u&&typeof ee.stack=="string"){for(var f=ee.stack.split(`
`),g=u.stack.split(`
`),E=f.length-1,R=g.length-1;1<=E&&0<=R&&f[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(f[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||f[E]!==g[R]){var $=`
`+f[E].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=E&&0<=R);break}}}finally{se=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Q(t):""}function ue(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case V:return"Portal";case G:return"Profiler";case z:return"StrictMode";case q:return"Suspense";case O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case re:return(t.displayName||"Context")+".Consumer";case ne:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}function de(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(n);case 8:return n===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function X(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _e(t){var n=fe(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ae(t){t._valueTracker||(t._valueTracker=_e(t))}function ge(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return t&&(u=fe(t)?t.checked?"true":"false":t.value),t=u,t!==i?(n.setValue(t),!0):!1}function Te(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function be(t,n){var i=n.checked;return Y({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function He(t,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=X(n.value!=null?n.value:i),t._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xe(t,n){n=n.checked,n!=null&&C(t,"checked",n,!1)}function mt(t,n){Xe(t,n);var i=X(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Wt(t,n.type,i):n.hasOwnProperty("defaultValue")&&Wt(t,n.type,X(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Ut(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Wt(t,n,i){(n!=="number"||Te(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Qt=Array.isArray;function Pt(t,n,i,u){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&u&&(t[i].defaultSelected=!0)}else{for(i=""+X(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function yn(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return Y({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function On(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(o(92));if(Qt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:X(i)}}function Ot(t,n){var i=X(n.value),u=X(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),u!=null&&(t.defaultValue=""+u)}function Yt(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function rn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?rn(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nt,Rt=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,f){MSApp.execUnsafeLocalFunction(function(){return t(n,i,u,f)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Nt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function on(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hi=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(t){hi.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),sn[n]=sn[t]})});function Xt(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||sn.hasOwnProperty(t)&&sn[t]?(""+n).trim():n+"px"}function Br(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,f=Xt(i,n[i],u);i==="float"&&(i="cssFloat"),u?t.setProperty(i,f):t[i]=f}}var Co=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(t,n){if(n){if(Co[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function Ur(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,an=null,ln=null;function No(t){if(t=Oi(t)){if(typeof hr!="function")throw Error(o(280));var n=t.stateNode;n&&(n=Bs(n),hr(t.stateNode,t.type,n))}}function Wr(t){an?ln?ln.push(t):ln=[t]:an=t}function Qr(){if(an){var t=an,n=ln;if(ln=an=null,No(t),n)for(t=0;t<n.length;t++)No(n[t])}}function Yr(t,n){return t(n)}function Yn(){}var In=!1;function ko(t,n,i){if(In)return t(n,i);In=!0;try{return Yr(t,n,i)}finally{In=!1,(an!==null||ln!==null)&&(Yn(),Qr())}}function Kn(t,n){var i=t.stateNode;if(i===null)return null;var u=Bs(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var j=!1;if(d)try{var K={};Object.defineProperty(K,"passive",{get:function(){j=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{j=!1}function te(t,n,i,u,f,g,E,R,$){var ee=Array.prototype.slice.call(arguments,3);try{n.apply(i,ee)}catch(le){this.onError(le)}}var ie=!1,me=null,ke=!1,Pe=null,we={onError:function(t){ie=!0,me=t}};function Ee(t,n,i,u,f,g,E,R,$){ie=!1,me=null,te.apply(we,arguments)}function ve(t,n,i,u,f,g,E,R,$){if(Ee.apply(this,arguments),ie){if(ie){var ee=me;ie=!1,me=null}else throw Error(o(198));ke||(ke=!0,Pe=ee)}}function xe(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Ie(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function je(t){if(xe(t)!==t)throw Error(o(188))}function ct(t){var n=t.alternate;if(!n){if(n=xe(t),n===null)throw Error(o(188));return n!==t?null:t}for(var i=t,u=n;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){i=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return je(f),t;if(g===u)return je(f),n;g=g.sibling}throw Error(o(188))}if(i.return!==u.return)i=f,u=g;else{for(var E=!1,R=f.child;R;){if(R===i){E=!0,i=f,u=g;break}if(R===u){E=!0,u=f,i=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===i){E=!0,i=g,u=f;break}if(R===u){E=!0,u=g,i=f;break}R=R.sibling}if(!E)throw Error(o(189))}}if(i.alternate!==u)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:n}function Ke(t){return t=ct(t),t!==null?$e(t):null}function $e(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=$e(t);if(n!==null)return n;t=t.sibling}return null}var Je=r.unstable_scheduleCallback,vn=r.unstable_cancelCallback,Xn=r.unstable_shouldYield,It=r.unstable_requestPaint,Be=r.unstable_now,Kr=r.unstable_getCurrentPriorityLevel,xn=r.unstable_ImmediatePriority,un=r.unstable_UserBlockingPriority,wn=r.unstable_NormalPriority,pr=r.unstable_LowPriority,ze=r.unstable_IdlePriority,Ge=null,gt=null;function Gn(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ge,t,void 0,(t.current.flags&128)===128)}catch{}}var Ue=Math.clz32?Math.clz32:pi,Ln=Math.log,_o=Math.LN2;function pi(t){return t>>>=0,t===0?32:31-(Ln(t)/_o|0)|0}var Mo=64,bo=4194304;function mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,n){var i=t.pendingLanes;if(i===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes,E=i&268435455;if(E!==0){var R=E&~f;R!==0?u=mr(R):(g&=E,g!==0&&(u=mr(g)))}else E=i&~f,E!==0?u=mr(E):g!==0&&(u=mr(g));if(u===0)return 0;if(n!==0&&n!==u&&(n&f)===0&&(f=u&-u,g=n&-n,f>=g||f===16&&(g&4194240)!==0))return n;if((u&4)!==0&&(u|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)i=31-Ue(n),f=1<<i,u|=t[i],n&=~f;return u}function Nl(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(t,n){for(var i=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes;0<g;){var E=31-Ue(g),R=1<<E,$=f[E];$===-1?((R&i)===0||(R&u)!==0)&&(f[E]=Nl(R,n)):$<=n&&(t.expiredLanes|=R),g&=~R}}function Xr(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ms(){var t=Mo;return Mo<<=1,(Mo&4194240)===0&&(Mo=64),t}function mi(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function gr(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Ue(n),t[n]=i}function Hy(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<i;){var f=31-Ue(i),g=1<<f;n[f]=0,u[f]=-1,t[f]=-1,i&=~g}}function _l(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var u=31-Ue(i),f=1<<u;f&n|t[u]&n&&(t[u]|=n),i&=~f}}var Ze=0;function wd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Sd,Ml,Ed,Cd,Nd,bl=!1,bs=[],yr=null,vr=null,xr=null,gi=new Map,yi=new Map,wr=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(t,n){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":gi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(n.pointerId)}}function vi(t,n,i,u,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},n!==null&&(n=Oi(n),n!==null&&Ml(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Uy(t,n,i,u,f){switch(n){case"focusin":return yr=vi(yr,t,n,i,u,f),!0;case"dragenter":return vr=vi(vr,t,n,i,u,f),!0;case"mouseover":return xr=vi(xr,t,n,i,u,f),!0;case"pointerover":var g=f.pointerId;return gi.set(g,vi(gi.get(g)||null,t,n,i,u,f)),!0;case"gotpointercapture":return g=f.pointerId,yi.set(g,vi(yi.get(g)||null,t,n,i,u,f)),!0}return!1}function _d(t){var n=Gr(t.target);if(n!==null){var i=xe(n);if(i!==null){if(n=i.tag,n===13){if(n=Ie(i),n!==null){t.blockedOn=n,Nd(t.priority,function(){Ed(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=Tl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);fr=u,i.target.dispatchEvent(u),fr=null}else return n=Oi(i),n!==null&&Ml(n),t.blockedOn=i,!1;n.shift()}return!0}function Md(t,n,i){Ds(t)&&i.delete(n)}function Wy(){bl=!1,yr!==null&&Ds(yr)&&(yr=null),vr!==null&&Ds(vr)&&(vr=null),xr!==null&&Ds(xr)&&(xr=null),gi.forEach(Md),yi.forEach(Md)}function xi(t,n){t.blockedOn===n&&(t.blockedOn=null,bl||(bl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wy)))}function wi(t){function n(f){return xi(f,t)}if(0<bs.length){xi(bs[0],t);for(var i=1;i<bs.length;i++){var u=bs[i];u.blockedOn===t&&(u.blockedOn=null)}}for(yr!==null&&xi(yr,t),vr!==null&&xi(vr,t),xr!==null&&xi(xr,t),gi.forEach(n),yi.forEach(n),i=0;i<wr.length;i++)u=wr[i],u.blockedOn===t&&(u.blockedOn=null);for(;0<wr.length&&(i=wr[0],i.blockedOn===null);)_d(i),i.blockedOn===null&&wr.shift()}var To=D.ReactCurrentBatchConfig,Ts=!0;function Qy(t,n,i,u){var f=Ze,g=To.transition;To.transition=null;try{Ze=1,Dl(t,n,i,u)}finally{Ze=f,To.transition=g}}function Yy(t,n,i,u){var f=Ze,g=To.transition;To.transition=null;try{Ze=4,Dl(t,n,i,u)}finally{Ze=f,To.transition=g}}function Dl(t,n,i,u){if(Ts){var f=Tl(t,n,i,u);if(f===null)Yl(t,n,u,Ps,i),kd(t,u);else if(Uy(f,t,n,i,u))u.stopPropagation();else if(kd(t,u),n&4&&-1<By.indexOf(t)){for(;f!==null;){var g=Oi(f);if(g!==null&&Sd(g),g=Tl(t,n,i,u),g===null&&Yl(t,n,u,Ps,i),g===f)break;f=g}f!==null&&u.stopPropagation()}else Yl(t,n,u,null,i)}}var Ps=null;function Tl(t,n,i,u){if(Ps=null,t=Rn(u),t=Gr(t),t!==null)if(n=xe(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Ie(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Ps=t,null}function bd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kr()){case xn:return 1;case un:return 4;case wn:case pr:return 16;case ze:return 536870912;default:return 16}default:return 16}}var Sr=null,Pl=null,Os=null;function Dd(){if(Os)return Os;var t,n=Pl,i=n.length,u,f="value"in Sr?Sr.value:Sr.textContent,g=f.length;for(t=0;t<i&&n[t]===f[t];t++);var E=i-t;for(u=1;u<=E&&n[i-u]===f[g-u];u++);return Os=f.slice(t,1<u?1-u:void 0)}function Rs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function Td(){return!1}function Gt(t){function n(i,u,f,g,E){this._reactName=i,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(i=t[R],this[R]=i?i(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Is:Td,this.isPropagationStopped=Td,this}return Y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),n}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Gt(Po),Si=Y({},Po,{view:0,detail:0}),Ky=Gt(Si),Rl,Il,Ei,Ls=Y({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Rl=t.screenX-Ei.screenX,Il=t.screenY-Ei.screenY):Il=Rl=0,Ei=t),Rl)},movementY:function(t){return"movementY"in t?t.movementY:Il}}),Pd=Gt(Ls),Xy=Y({},Ls,{dataTransfer:0}),Gy=Gt(Xy),Zy=Y({},Si,{relatedTarget:0}),Ll=Gt(Zy),qy=Y({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),Jy=Gt(qy),e0=Y({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),t0=Gt(e0),n0=Y({},Po,{data:0}),Od=Gt(n0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=i0[t])?!!n[t]:!1}function Al(){return s0}var a0=Y({},Si,{key:function(t){if(t.key){var n=r0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),l0=Gt(a0),u0=Y({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Gt(u0),c0=Y({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),d0=Gt(c0),f0=Y({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=Gt(f0),p0=Y({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=Gt(p0),g0=[9,13,27,32],jl=d&&"CompositionEvent"in window,Ci=null;d&&"documentMode"in document&&(Ci=document.documentMode);var y0=d&&"TextEvent"in window&&!Ci,Id=d&&(!jl||Ci&&8<Ci&&11>=Ci),Ld=" ",Ad=!1;function jd(t,n){switch(t){case"keyup":return g0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function v0(t,n){switch(t){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(Ad=!0,Ld);case"textInput":return t=n.data,t===Ld&&Ad?null:t;default:return null}}function x0(t,n){if(Oo)return t==="compositionend"||!jl&&jd(t,n)?(t=Dd(),Os=Pl=Sr=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Id&&n.locale!=="ko"?null:n.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!w0[t.type]:n==="textarea"}function $d(t,n,i,u){Wr(u),n=$s(n,"onChange"),0<n.length&&(i=new Ol("onChange","change",null,i,u),t.push({event:i,listeners:n}))}var Ni=null,ki=null;function S0(t){of(t,0)}function As(t){var n=jo(t);if(ge(n))return t}function E0(t,n){if(t==="change")return n}var Vd=!1;if(d){var Fl;if(d){var zl="oninput"in document;if(!zl){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),zl=typeof Hd.oninput=="function"}Fl=zl}else Fl=!1;Vd=Fl&&(!document.documentMode||9<document.documentMode)}function Bd(){Ni&&(Ni.detachEvent("onpropertychange",Ud),ki=Ni=null)}function Ud(t){if(t.propertyName==="value"&&As(ki)){var n=[];$d(n,ki,t,Rn(t)),ko(S0,n)}}function C0(t,n,i){t==="focusin"?(Bd(),Ni=n,ki=i,Ni.attachEvent("onpropertychange",Ud)):t==="focusout"&&Bd()}function N0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return As(ki)}function k0(t,n){if(t==="click")return As(n)}function _0(t,n){if(t==="input"||t==="change")return As(n)}function M0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:M0;function _i(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var f=i[u];if(!h.call(n,f)||!Sn(t[f],n[f]))return!1}return!0}function Wd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qd(t,n){var i=Wd(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=n&&u>=n)return{node:i,offset:n-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Wd(i)}}function Yd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kd(){for(var t=window,n=Te();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Te(t.document)}return n}function $l(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function b0(t){var n=Kd(),i=t.focusedElem,u=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Yd(i.ownerDocument.documentElement,i)){if(u!==null&&$l(i)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var f=i.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!t.extend&&g>u&&(f=u,u=g,g=f),f=Qd(i,g);var E=Qd(i,u);f&&E&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),t.removeAllRanges(),g>u?(t.addRange(n),t.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D0=d&&"documentMode"in document&&11>=document.documentMode,Ro=null,Vl=null,Mi=null,Hl=!1;function Xd(t,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Hl||Ro==null||Ro!==Te(u)||(u=Ro,"selectionStart"in u&&$l(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mi&&_i(Mi,u)||(Mi=u,u=$s(Vl,"onSelect"),0<u.length&&(n=new Ol("onSelect","select",null,n,i),t.push({event:n,listeners:u}),n.target=Ro)))}function js(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Io={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Bl={},Gd={};d&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Fs(t){if(Bl[t])return Bl[t];if(!Io[t])return t;var n=Io[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in Gd)return Bl[t]=n[i];return t}var Zd=Fs("animationend"),qd=Fs("animationiteration"),Jd=Fs("animationstart"),ef=Fs("transitionend"),tf=new Map,nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(t,n){tf.set(t,n),l(n,[t])}for(var Ul=0;Ul<nf.length;Ul++){var Wl=nf[Ul],T0=Wl.toLowerCase(),P0=Wl[0].toUpperCase()+Wl.slice(1);Er(T0,"on"+P0)}Er(Zd,"onAnimationEnd"),Er(qd,"onAnimationIteration"),Er(Jd,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(ef,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O0=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function rf(t,n,i){var u=t.type||"unknown-event";t.currentTarget=i,ve(u,n,void 0,t),t.currentTarget=null}function of(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],f=u.event;u=u.listeners;e:{var g=void 0;if(n)for(var E=u.length-1;0<=E;E--){var R=u[E],$=R.instance,ee=R.currentTarget;if(R=R.listener,$!==g&&f.isPropagationStopped())break e;rf(f,R,ee),g=$}else for(E=0;E<u.length;E++){if(R=u[E],$=R.instance,ee=R.currentTarget,R=R.listener,$!==g&&f.isPropagationStopped())break e;rf(f,R,ee),g=$}}}if(ke)throw t=Pe,ke=!1,Pe=null,t}function tt(t,n){var i=n[Jl];i===void 0&&(i=n[Jl]=new Set);var u=t+"__bubble";i.has(u)||(sf(n,t,2,!1),i.add(u))}function Ql(t,n,i){var u=0;n&&(u|=4),sf(i,t,u,n)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Di(t){if(!t[zs]){t[zs]=!0,s.forEach(function(i){i!=="selectionchange"&&(O0.has(i)||Ql(i,!1,t),Ql(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zs]||(n[zs]=!0,Ql("selectionchange",!1,n))}}function sf(t,n,i,u){switch(bd(n)){case 1:var f=Qy;break;case 4:f=Yy;break;default:f=Dl}i=f.bind(null,n,i,t),f=void 0,!j||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function Yl(t,n,i,u,f){var g=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var $=E.tag;if(($===3||$===4)&&($=E.stateNode.containerInfo,$===f||$.nodeType===8&&$.parentNode===f))return;E=E.return}for(;R!==null;){if(E=Gr(R),E===null)return;if($=E.tag,$===5||$===6){u=g=E;continue e}R=R.parentNode}}u=u.return}ko(function(){var ee=g,le=Rn(i),ce=[];e:{var ae=tf.get(t);if(ae!==void 0){var ye=Ol,Ce=t;switch(t){case"keypress":if(Rs(i)===0)break e;case"keydown":case"keyup":ye=l0;break;case"focusin":Ce="focus",ye=Ll;break;case"focusout":Ce="blur",ye=Ll;break;case"beforeblur":case"afterblur":ye=Ll;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=d0;break;case Zd:case qd:case Jd:ye=Jy;break;case ef:ye=h0;break;case"scroll":ye=Ky;break;case"wheel":ye=m0;break;case"copy":case"cut":case"paste":ye=t0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Rd}var Ne=(n&4)!==0,dt=!Ne&&t==="scroll",Z=Ne?ae!==null?ae+"Capture":null:ae;Ne=[];for(var W=ee,J;W!==null;){J=W;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Z!==null&&(he=Kn(W,Z),he!=null&&Ne.push(Ti(W,he,J)))),dt)break;W=W.return}0<Ne.length&&(ae=new ye(ae,Ce,null,i,le),ce.push({event:ae,listeners:Ne}))}}if((n&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",ae&&i!==fr&&(Ce=i.relatedTarget||i.fromElement)&&(Gr(Ce)||Ce[Zn]))break e;if((ye||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,ye?(Ce=i.relatedTarget||i.toElement,ye=ee,Ce=Ce?Gr(Ce):null,Ce!==null&&(dt=xe(Ce),Ce!==dt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ye=null,Ce=ee),ye!==Ce)){if(Ne=Pd,he="onMouseLeave",Z="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=Rd,he="onPointerLeave",Z="onPointerEnter",W="pointer"),dt=ye==null?ae:jo(ye),J=Ce==null?ae:jo(Ce),ae=new Ne(he,W+"leave",ye,i,le),ae.target=dt,ae.relatedTarget=J,he=null,Gr(le)===ee&&(Ne=new Ne(Z,W+"enter",Ce,i,le),Ne.target=J,Ne.relatedTarget=dt,he=Ne),dt=he,ye&&Ce)t:{for(Ne=ye,Z=Ce,W=0,J=Ne;J;J=Lo(J))W++;for(J=0,he=Z;he;he=Lo(he))J++;for(;0<W-J;)Ne=Lo(Ne),W--;for(;0<J-W;)Z=Lo(Z),J--;for(;W--;){if(Ne===Z||Z!==null&&Ne===Z.alternate)break t;Ne=Lo(Ne),Z=Lo(Z)}Ne=null}else Ne=null;ye!==null&&af(ce,ae,ye,Ne,!1),Ce!==null&&dt!==null&&af(ce,dt,Ce,Ne,!0)}}e:{if(ae=ee?jo(ee):window,ye=ae.nodeName&&ae.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ae.type==="file")var Me=E0;else if(zd(ae))if(Vd)Me=_0;else{Me=N0;var Oe=C0}else(ye=ae.nodeName)&&ye.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=k0);if(Me&&(Me=Me(t,ee))){$d(ce,Me,i,le);break e}Oe&&Oe(t,ae,ee),t==="focusout"&&(Oe=ae._wrapperState)&&Oe.controlled&&ae.type==="number"&&Wt(ae,"number",ae.value)}switch(Oe=ee?jo(ee):window,t){case"focusin":(zd(Oe)||Oe.contentEditable==="true")&&(Ro=Oe,Vl=ee,Mi=null);break;case"focusout":Mi=Vl=Ro=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Xd(ce,i,le);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":Xd(ce,i,le)}var Re;if(jl)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Oo?jd(t,i)&&(Le="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Le="onCompositionStart");Le&&(Id&&i.locale!=="ko"&&(Oo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Oo&&(Re=Dd()):(Sr=le,Pl="value"in Sr?Sr.value:Sr.textContent,Oo=!0)),Oe=$s(ee,Le),0<Oe.length&&(Le=new Od(Le,t,null,i,le),ce.push({event:Le,listeners:Oe}),Re?Le.data=Re:(Re=Fd(i),Re!==null&&(Le.data=Re)))),(Re=y0?v0(t,i):x0(t,i))&&(ee=$s(ee,"onBeforeInput"),0<ee.length&&(le=new Od("onBeforeInput","beforeinput",null,i,le),ce.push({event:le,listeners:ee}),le.data=Re))}of(ce,n)})}function Ti(t,n,i){return{instance:t,listener:n,currentTarget:i}}function $s(t,n){for(var i=n+"Capture",u=[];t!==null;){var f=t,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Kn(t,i),g!=null&&u.unshift(Ti(t,g,f)),g=Kn(t,n),g!=null&&u.push(Ti(t,g,f))),t=t.return}return u}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function af(t,n,i,u,f){for(var g=n._reactName,E=[];i!==null&&i!==u;){var R=i,$=R.alternate,ee=R.stateNode;if($!==null&&$===u)break;R.tag===5&&ee!==null&&(R=ee,f?($=Kn(i,g),$!=null&&E.unshift(Ti(i,$,R))):f||($=Kn(i,g),$!=null&&E.push(Ti(i,$,R)))),i=i.return}E.length!==0&&t.push({event:n,listeners:E})}var R0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function lf(t){return(typeof t=="string"?t:""+t).replace(R0,`
`).replace(I0,"")}function Vs(t,n,i){if(n=lf(n),lf(t)!==n&&i)throw Error(o(425))}function Hs(){}var Kl=null,Xl=null;function Gl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,A0=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(t){return uf.resolve(null).then(t).catch(j0)}:Zl;function j0(t){setTimeout(function(){throw t})}function ql(t,n){var i=n,u=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(u===0){t.removeChild(f),wi(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=f}while(i);wi(n)}function Cr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function cf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),An="__reactFiber$"+Ao,Pi="__reactProps$"+Ao,Zn="__reactContainer$"+Ao,Jl="__reactEvents$"+Ao,F0="__reactListeners$"+Ao,z0="__reactHandles$"+Ao;function Gr(t){var n=t[An];if(n)return n;for(var i=t.parentNode;i;){if(n=i[Zn]||i[An]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=cf(t);t!==null;){if(i=t[An])return i;t=cf(t)}return n}t=i,i=t.parentNode}return null}function Oi(t){return t=t[An]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function Bs(t){return t[Pi]||null}var eu=[],Fo=-1;function Nr(t){return{current:t}}function nt(t){0>Fo||(t.current=eu[Fo],eu[Fo]=null,Fo--)}function et(t,n){Fo++,eu[Fo]=t.current,t.current=n}var kr={},kt=Nr(kr),Lt=Nr(!1),Zr=kr;function zo(t,n){var i=t.type.contextTypes;if(!i)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in i)f[g]=n[g];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=f),f}function At(t){return t=t.childContextTypes,t!=null}function Us(){nt(Lt),nt(kt)}function df(t,n,i){if(kt.current!==kr)throw Error(o(168));et(kt,n),et(Lt,i)}function ff(t,n,i){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var f in u)if(!(f in n))throw Error(o(108,de(t)||"Unknown",f));return Y({},i,u)}function Ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Zr=kt.current,et(kt,t),et(Lt,Lt.current),!0}function hf(t,n,i){var u=t.stateNode;if(!u)throw Error(o(169));i?(t=ff(t,n,Zr),u.__reactInternalMemoizedMergedChildContext=t,nt(Lt),nt(kt),et(kt,t)):nt(Lt),et(Lt,i)}var qn=null,Qs=!1,tu=!1;function pf(t){qn===null?qn=[t]:qn.push(t)}function $0(t){Qs=!0,pf(t)}function _r(){if(!tu&&qn!==null){tu=!0;var t=0,n=Ze;try{var i=qn;for(Ze=1;t<i.length;t++){var u=i[t];do u=u(!0);while(u!==null)}qn=null,Qs=!1}catch(f){throw qn!==null&&(qn=qn.slice(t+1)),Je(xn,_r),f}finally{Ze=n,tu=!1}}return null}var $o=[],Vo=0,Ys=null,Ks=0,cn=[],dn=0,qr=null,Jn=1,er="";function Jr(t,n){$o[Vo++]=Ks,$o[Vo++]=Ys,Ys=t,Ks=n}function mf(t,n,i){cn[dn++]=Jn,cn[dn++]=er,cn[dn++]=qr,qr=t;var u=Jn;t=er;var f=32-Ue(u)-1;u&=~(1<<f),i+=1;var g=32-Ue(n)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Jn=1<<32-Ue(n)+f|i<<f|u,er=g+t}else Jn=1<<g|i<<f|u,er=t}function nu(t){t.return!==null&&(Jr(t,1),mf(t,1,0))}function ru(t){for(;t===Ys;)Ys=$o[--Vo],$o[Vo]=null,Ks=$o[--Vo],$o[Vo]=null;for(;t===qr;)qr=cn[--dn],cn[dn]=null,er=cn[--dn],cn[dn]=null,Jn=cn[--dn],cn[dn]=null}var Zt=null,qt=null,rt=!1,En=null;function gf(t,n){var i=mn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function yf(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Zt=t,qt=Cr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Zt=t,qt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=qr!==null?{id:Jn,overflow:er}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=mn(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,Zt=t,qt=null,!0):!1;default:return!1}}function ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iu(t){if(rt){var n=qt;if(n){var i=n;if(!yf(t,n)){if(ou(t))throw Error(o(418));n=Cr(i.nextSibling);var u=Zt;n&&yf(t,n)?gf(u,i):(t.flags=t.flags&-4097|2,rt=!1,Zt=t)}}else{if(ou(t))throw Error(o(418));t.flags=t.flags&-4097|2,rt=!1,Zt=t}}}function vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Xs(t){if(t!==Zt)return!1;if(!rt)return vf(t),rt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Gl(t.type,t.memoizedProps)),n&&(n=qt)){if(ou(t))throw xf(),Error(o(418));for(;n;)gf(t,n),n=Cr(n.nextSibling)}if(vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){qt=Cr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}qt=null}}else qt=Zt?Cr(t.stateNode.nextSibling):null;return!0}function xf(){for(var t=qt;t;)t=Cr(t.nextSibling)}function Ho(){qt=Zt=null,rt=!1}function su(t){En===null?En=[t]:En.push(t)}var V0=D.ReactCurrentBatchConfig;function Ri(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var u=i.stateNode}if(!u)throw Error(o(147,t));var f=u,g=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(E){var R=f.refs;E===null?delete R[g]:R[g]=E},n._stringRef=g,n)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function Gs(t,n){throw t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function wf(t){var n=t._init;return n(t._payload)}function Sf(t){function n(Z,W){if(t){var J=Z.deletions;J===null?(Z.deletions=[W],Z.flags|=16):J.push(W)}}function i(Z,W){if(!t)return null;for(;W!==null;)n(Z,W),W=W.sibling;return null}function u(Z,W){for(Z=new Map;W!==null;)W.key!==null?Z.set(W.key,W):Z.set(W.index,W),W=W.sibling;return Z}function f(Z,W){return Z=Ir(Z,W),Z.index=0,Z.sibling=null,Z}function g(Z,W,J){return Z.index=J,t?(J=Z.alternate,J!==null?(J=J.index,J<W?(Z.flags|=2,W):J):(Z.flags|=2,W)):(Z.flags|=1048576,W)}function E(Z){return t&&Z.alternate===null&&(Z.flags|=2),Z}function R(Z,W,J,he){return W===null||W.tag!==6?(W=Zu(J,Z.mode,he),W.return=Z,W):(W=f(W,J),W.return=Z,W)}function $(Z,W,J,he){var Me=J.type;return Me===M?le(Z,W,J.props.children,he,J.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&wf(Me)===W.type)?(he=f(W,J.props),he.ref=Ri(Z,W,J),he.return=Z,he):(he=wa(J.type,J.key,J.props,null,Z.mode,he),he.ref=Ri(Z,W,J),he.return=Z,he)}function ee(Z,W,J,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=qu(J,Z.mode,he),W.return=Z,W):(W=f(W,J.children||[]),W.return=Z,W)}function le(Z,W,J,he,Me){return W===null||W.tag!==7?(W=ao(J,Z.mode,he,Me),W.return=Z,W):(W=f(W,J),W.return=Z,W)}function ce(Z,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Zu(""+W,Z.mode,J),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return J=wa(W.type,W.key,W.props,null,Z.mode,J),J.ref=Ri(Z,null,W),J.return=Z,J;case V:return W=qu(W,Z.mode,J),W.return=Z,W;case H:var he=W._init;return ce(Z,he(W._payload),J)}if(Qt(W)||B(W))return W=ao(W,Z.mode,J,null),W.return=Z,W;Gs(Z,W)}return null}function ae(Z,W,J,he){var Me=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Me!==null?null:R(Z,W,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===Me?$(Z,W,J,he):null;case V:return J.key===Me?ee(Z,W,J,he):null;case H:return Me=J._init,ae(Z,W,Me(J._payload),he)}if(Qt(J)||B(J))return Me!==null?null:le(Z,W,J,he,null);Gs(Z,J)}return null}function ye(Z,W,J,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number")return Z=Z.get(J)||null,R(W,Z,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case A:return Z=Z.get(he.key===null?J:he.key)||null,$(W,Z,he,Me);case V:return Z=Z.get(he.key===null?J:he.key)||null,ee(W,Z,he,Me);case H:var Oe=he._init;return ye(Z,W,J,Oe(he._payload),Me)}if(Qt(he)||B(he))return Z=Z.get(J)||null,le(W,Z,he,Me,null);Gs(W,he)}return null}function Ce(Z,W,J,he){for(var Me=null,Oe=null,Re=W,Le=W=0,St=null;Re!==null&&Le<J.length;Le++){Re.index>Le?(St=Re,Re=null):St=Re.sibling;var Ye=ae(Z,Re,J[Le],he);if(Ye===null){Re===null&&(Re=St);break}t&&Re&&Ye.alternate===null&&n(Z,Re),W=g(Ye,W,Le),Oe===null?Me=Ye:Oe.sibling=Ye,Oe=Ye,Re=St}if(Le===J.length)return i(Z,Re),rt&&Jr(Z,Le),Me;if(Re===null){for(;Le<J.length;Le++)Re=ce(Z,J[Le],he),Re!==null&&(W=g(Re,W,Le),Oe===null?Me=Re:Oe.sibling=Re,Oe=Re);return rt&&Jr(Z,Le),Me}for(Re=u(Z,Re);Le<J.length;Le++)St=ye(Re,Z,Le,J[Le],he),St!==null&&(t&&St.alternate!==null&&Re.delete(St.key===null?Le:St.key),W=g(St,W,Le),Oe===null?Me=St:Oe.sibling=St,Oe=St);return t&&Re.forEach(function(Lr){return n(Z,Lr)}),rt&&Jr(Z,Le),Me}function Ne(Z,W,J,he){var Me=B(J);if(typeof Me!="function")throw Error(o(150));if(J=Me.call(J),J==null)throw Error(o(151));for(var Oe=Me=null,Re=W,Le=W=0,St=null,Ye=J.next();Re!==null&&!Ye.done;Le++,Ye=J.next()){Re.index>Le?(St=Re,Re=null):St=Re.sibling;var Lr=ae(Z,Re,Ye.value,he);if(Lr===null){Re===null&&(Re=St);break}t&&Re&&Lr.alternate===null&&n(Z,Re),W=g(Lr,W,Le),Oe===null?Me=Lr:Oe.sibling=Lr,Oe=Lr,Re=St}if(Ye.done)return i(Z,Re),rt&&Jr(Z,Le),Me;if(Re===null){for(;!Ye.done;Le++,Ye=J.next())Ye=ce(Z,Ye.value,he),Ye!==null&&(W=g(Ye,W,Le),Oe===null?Me=Ye:Oe.sibling=Ye,Oe=Ye);return rt&&Jr(Z,Le),Me}for(Re=u(Z,Re);!Ye.done;Le++,Ye=J.next())Ye=ye(Re,Z,Le,Ye.value,he),Ye!==null&&(t&&Ye.alternate!==null&&Re.delete(Ye.key===null?Le:Ye.key),W=g(Ye,W,Le),Oe===null?Me=Ye:Oe.sibling=Ye,Oe=Ye);return t&&Re.forEach(function(wv){return n(Z,wv)}),rt&&Jr(Z,Le),Me}function dt(Z,W,J,he){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:e:{for(var Me=J.key,Oe=W;Oe!==null;){if(Oe.key===Me){if(Me=J.type,Me===M){if(Oe.tag===7){i(Z,Oe.sibling),W=f(Oe,J.props.children),W.return=Z,Z=W;break e}}else if(Oe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===H&&wf(Me)===Oe.type){i(Z,Oe.sibling),W=f(Oe,J.props),W.ref=Ri(Z,Oe,J),W.return=Z,Z=W;break e}i(Z,Oe);break}else n(Z,Oe);Oe=Oe.sibling}J.type===M?(W=ao(J.props.children,Z.mode,he,J.key),W.return=Z,Z=W):(he=wa(J.type,J.key,J.props,null,Z.mode,he),he.ref=Ri(Z,W,J),he.return=Z,Z=he)}return E(Z);case V:e:{for(Oe=J.key;W!==null;){if(W.key===Oe)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){i(Z,W.sibling),W=f(W,J.children||[]),W.return=Z,Z=W;break e}else{i(Z,W);break}else n(Z,W);W=W.sibling}W=qu(J,Z.mode,he),W.return=Z,Z=W}return E(Z);case H:return Oe=J._init,dt(Z,W,Oe(J._payload),he)}if(Qt(J))return Ce(Z,W,J,he);if(B(J))return Ne(Z,W,J,he);Gs(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(i(Z,W.sibling),W=f(W,J),W.return=Z,Z=W):(i(Z,W),W=Zu(J,Z.mode,he),W.return=Z,Z=W),E(Z)):i(Z,W)}return dt}var Bo=Sf(!0),Ef=Sf(!1),Zs=Nr(null),qs=null,Uo=null,au=null;function lu(){au=Uo=qs=null}function uu(t){var n=Zs.current;nt(Zs),t._currentValue=n}function cu(t,n,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===i)break;t=t.return}}function Wo(t,n){qs=t,au=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(jt=!0),t.firstContext=null)}function fn(t){var n=t._currentValue;if(au!==t)if(t={context:t,memoizedValue:n,next:null},Uo===null){if(qs===null)throw Error(o(308));Uo=t,qs.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return n}var eo=null;function du(t){eo===null?eo=[t]:eo.push(t)}function Cf(t,n,i,u){var f=n.interleaved;return f===null?(i.next=i,du(n)):(i.next=f.next,f.next=i),n.interleaved=i,tr(t,u)}function tr(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Mr=!1;function fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function br(t,n,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,tr(t,i)}return f=u.interleaved,f===null?(n.next=n,du(u)):(n.next=f.next,f.next=n),u.interleaved=n,tr(t,i)}function Js(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,_l(t,i)}}function kf(t,n){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var E={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?f=g=E:g=g.next=E,i=i.next}while(i!==null);g===null?f=g=n:g=g.next=n}else f=g=n;i={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,effects:u.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function ea(t,n,i,u){var f=t.updateQueue;Mr=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var $=R,ee=$.next;$.next=null,E===null?g=ee:E.next=ee,E=$;var le=t.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==E&&(R===null?le.firstBaseUpdate=ee:R.next=ee,le.lastBaseUpdate=$))}if(g!==null){var ce=f.baseState;E=0,le=ee=$=null,R=g;do{var ae=R.lane,ye=R.eventTime;if((u&ae)===ae){le!==null&&(le=le.next={eventTime:ye,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ce=t,Ne=R;switch(ae=n,ye=i,Ne.tag){case 1:if(Ce=Ne.payload,typeof Ce=="function"){ce=Ce.call(ye,ce,ae);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ne.payload,ae=typeof Ce=="function"?Ce.call(ye,ce,ae):Ce,ae==null)break e;ce=Y({},ce,ae);break e;case 2:Mr=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,ae=f.effects,ae===null?f.effects=[R]:ae.push(R))}else ye={eventTime:ye,lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(ee=le=ye,$=ce):le=le.next=ye,E|=ae;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);if(le===null&&($=ce),f.baseState=$,f.firstBaseUpdate=ee,f.lastBaseUpdate=le,n=f.shared.interleaved,n!==null){f=n;do E|=f.lane,f=f.next;while(f!==n)}else g===null&&(f.shared.lanes=0);ro|=E,t.lanes=E,t.memoizedState=ce}}function _f(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],f=u.callback;if(f!==null){if(u.callback=null,u=i,typeof f!="function")throw Error(o(191,f));f.call(u)}}}var Ii={},jn=Nr(Ii),Li=Nr(Ii),Ai=Nr(Ii);function to(t){if(t===Ii)throw Error(o(174));return t}function hu(t,n){switch(et(Ai,n),et(Li,t),et(jn,Ii),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Kt(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Kt(n,t)}nt(jn),et(jn,n)}function Qo(){nt(jn),nt(Li),nt(Ai)}function Mf(t){to(Ai.current);var n=to(jn.current),i=Kt(n,t.type);n!==i&&(et(Li,t),et(jn,i))}function pu(t){Li.current===t&&(nt(jn),nt(Li))}var st=Nr(0);function ta(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var mu=[];function gu(){for(var t=0;t<mu.length;t++)mu[t]._workInProgressVersionPrimary=null;mu.length=0}var na=D.ReactCurrentDispatcher,yu=D.ReactCurrentBatchConfig,no=0,at=null,yt=null,xt=null,ra=!1,ji=!1,Fi=0,H0=0;function _t(){throw Error(o(321))}function vu(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Sn(t[i],n[i]))return!1;return!0}function xu(t,n,i,u,f,g){if(no=g,at=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,na.current=t===null||t.memoizedState===null?Q0:Y0,t=i(u,f),ji){g=0;do{if(ji=!1,Fi=0,25<=g)throw Error(o(301));g+=1,xt=yt=null,n.updateQueue=null,na.current=K0,t=i(u,f)}while(ji)}if(na.current=sa,n=yt!==null&&yt.next!==null,no=0,xt=yt=at=null,ra=!1,n)throw Error(o(300));return t}function wu(){var t=Fi!==0;return Fi=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?at.memoizedState=xt=t:xt=xt.next=t,xt}function hn(){if(yt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=xt===null?at.memoizedState:xt.next;if(n!==null)xt=n,yt=t;else{if(t===null)throw Error(o(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},xt===null?at.memoizedState=xt=t:xt=xt.next=t}return xt}function zi(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=hn(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var u=yt,f=u.baseQueue,g=i.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}u.baseQueue=f=g,i.pending=null}if(f!==null){g=f.next,u=u.baseState;var R=E=null,$=null,ee=g;do{var le=ee.lane;if((no&le)===le)$!==null&&($=$.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),u=ee.hasEagerState?ee.eagerState:t(u,ee.action);else{var ce={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};$===null?(R=$=ce,E=u):$=$.next=ce,at.lanes|=le,ro|=le}ee=ee.next}while(ee!==null&&ee!==g);$===null?E=u:$.next=R,Sn(u,n.memoizedState)||(jt=!0),n.memoizedState=u,n.baseState=E,n.baseQueue=$,i.lastRenderedState=u}if(t=i.interleaved,t!==null){f=t;do g=f.lane,at.lanes|=g,ro|=g,f=f.next;while(f!==t)}else f===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Eu(t){var n=hn(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var u=i.dispatch,f=i.pending,g=n.memoizedState;if(f!==null){i.pending=null;var E=f=f.next;do g=t(g,E.action),E=E.next;while(E!==f);Sn(g,n.memoizedState)||(jt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,u]}function bf(){}function Df(t,n){var i=at,u=hn(),f=n(),g=!Sn(u.memoizedState,f);if(g&&(u.memoizedState=f,jt=!0),u=u.queue,Cu(Of.bind(null,i,u,t),[t]),u.getSnapshot!==n||g||xt!==null&&xt.memoizedState.tag&1){if(i.flags|=2048,$i(9,Pf.bind(null,i,u,f,n),void 0,null),wt===null)throw Error(o(349));(no&30)!==0||Tf(i,n,f)}return f}function Tf(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Pf(t,n,i,u){n.value=i,n.getSnapshot=u,Rf(n)&&If(t)}function Of(t,n,i){return i(function(){Rf(n)&&If(t)})}function Rf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Sn(t,i)}catch{return!0}}function If(t){var n=tr(t,1);n!==null&&_n(n,t,1,-1)}function Lf(t){var n=Fn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n.queue=t,t=t.dispatch=W0.bind(null,at,t),[n.memoizedState,t]}function $i(t,n,i,u){return t={tag:t,create:n,destroy:i,deps:u,next:null},n=at.updateQueue,n===null?(n={lastEffect:null,stores:null},at.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,n.lastEffect=t)),t}function Af(){return hn().memoizedState}function oa(t,n,i,u){var f=Fn();at.flags|=t,f.memoizedState=$i(1|n,i,void 0,u===void 0?null:u)}function ia(t,n,i,u){var f=hn();u=u===void 0?null:u;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,u!==null&&vu(u,E.deps)){f.memoizedState=$i(n,i,g,u);return}}at.flags|=t,f.memoizedState=$i(1|n,i,g,u)}function jf(t,n){return oa(8390656,8,t,n)}function Cu(t,n){return ia(2048,8,t,n)}function Ff(t,n){return ia(4,2,t,n)}function zf(t,n){return ia(4,4,t,n)}function $f(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vf(t,n,i){return i=i!=null?i.concat([t]):null,ia(4,4,$f.bind(null,n,t),i)}function Nu(){}function Hf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&vu(n,u[1])?u[0]:(i.memoizedState=[t,n],t)}function Bf(t,n){var i=hn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&vu(n,u[1])?u[0]:(t=t(),i.memoizedState=[t,n],t)}function Uf(t,n,i){return(no&21)===0?(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=i):(Sn(i,n)||(i=Ms(),at.lanes|=i,ro|=i,t.baseState=!0),n)}function B0(t,n){var i=Ze;Ze=i!==0&&4>i?i:4,t(!0);var u=yu.transition;yu.transition={};try{t(!1),n()}finally{Ze=i,yu.transition=u}}function Wf(){return hn().memoizedState}function U0(t,n,i){var u=Or(t);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Qf(t))Yf(n,i);else if(i=Cf(t,n,i,u),i!==null){var f=Tt();_n(i,t,u,f),Kf(i,n,u)}}function W0(t,n,i){var u=Or(t),f={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qf(t))Yf(n,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var E=n.lastRenderedState,R=g(E,i);if(f.hasEagerState=!0,f.eagerState=R,Sn(R,E)){var $=n.interleaved;$===null?(f.next=f,du(n)):(f.next=$.next,$.next=f),n.interleaved=f;return}}catch{}finally{}i=Cf(t,n,f,u),i!==null&&(f=Tt(),_n(i,t,u,f),Kf(i,n,u))}}function Qf(t){var n=t.alternate;return t===at||n!==null&&n===at}function Yf(t,n){ji=ra=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Kf(t,n,i){if((i&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,_l(t,i)}}var sa={readContext:fn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},Q0={readContext:fn,useCallback:function(t,n){return Fn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:jf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,oa(4194308,4,$f.bind(null,n,t),i)},useLayoutEffect:function(t,n){return oa(4194308,4,t,n)},useInsertionEffect:function(t,n){return oa(4,2,t,n)},useMemo:function(t,n){var i=Fn();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var u=Fn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=U0.bind(null,at,t),[u.memoizedState,t]},useRef:function(t){var n=Fn();return t={current:t},n.memoizedState=t},useState:Lf,useDebugValue:Nu,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=Lf(!1),n=t[0];return t=B0.bind(null,t[1]),Fn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var u=at,f=Fn();if(rt){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),wt===null)throw Error(o(349));(no&30)!==0||Tf(u,n,i)}f.memoizedState=i;var g={value:i,getSnapshot:n};return f.queue=g,jf(Of.bind(null,u,g,t),[t]),u.flags|=2048,$i(9,Pf.bind(null,u,g,i,n),void 0,null),i},useId:function(){var t=Fn(),n=wt.identifierPrefix;if(rt){var i=er,u=Jn;i=(u&~(1<<32-Ue(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=Fi++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=H0++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Y0={readContext:fn,useCallback:Hf,useContext:fn,useEffect:Cu,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:zf,useMemo:Bf,useReducer:Su,useRef:Af,useState:function(){return Su(zi)},useDebugValue:Nu,useDeferredValue:function(t){var n=hn();return Uf(n,yt.memoizedState,t)},useTransition:function(){var t=Su(zi)[0],n=hn().memoizedState;return[t,n]},useMutableSource:bf,useSyncExternalStore:Df,useId:Wf,unstable_isNewReconciler:!1},K0={readContext:fn,useCallback:Hf,useContext:fn,useEffect:Cu,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:zf,useMemo:Bf,useReducer:Eu,useRef:Af,useState:function(){return Eu(zi)},useDebugValue:Nu,useDeferredValue:function(t){var n=hn();return yt===null?n.memoizedState=t:Uf(n,yt.memoizedState,t)},useTransition:function(){var t=Eu(zi)[0],n=hn().memoizedState;return[t,n]},useMutableSource:bf,useSyncExternalStore:Df,useId:Wf,unstable_isNewReconciler:!1};function Cn(t,n){if(t&&t.defaultProps){n=Y({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function ku(t,n,i,u){n=t.memoizedState,i=i(u,n),i=i==null?n:Y({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var aa={isMounted:function(t){return(t=t._reactInternals)?xe(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var u=Tt(),f=Or(t),g=nr(u,f);g.payload=n,i!=null&&(g.callback=i),n=br(t,g,f),n!==null&&(_n(n,t,f,u),Js(n,t,f))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var u=Tt(),f=Or(t),g=nr(u,f);g.tag=1,g.payload=n,i!=null&&(g.callback=i),n=br(t,g,f),n!==null&&(_n(n,t,f,u),Js(n,t,f))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Tt(),u=Or(t),f=nr(i,u);f.tag=2,n!=null&&(f.callback=n),n=br(t,f,u),n!==null&&(_n(n,t,u,i),Js(n,t,u))}};function Xf(t,n,i,u,f,g,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,E):n.prototype&&n.prototype.isPureReactComponent?!_i(i,u)||!_i(f,g):!0}function Gf(t,n,i){var u=!1,f=kr,g=n.contextType;return typeof g=="object"&&g!==null?g=fn(g):(f=At(n)?Zr:kt.current,u=n.contextTypes,g=(u=u!=null)?zo(t,f):kr),n=new n(i,g),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=aa,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=g),n}function Zf(t,n,i,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==t&&aa.enqueueReplaceState(n,n.state,null)}function _u(t,n,i,u){var f=t.stateNode;f.props=i,f.state=t.memoizedState,f.refs={},fu(t);var g=n.contextType;typeof g=="object"&&g!==null?f.context=fn(g):(g=At(n)?Zr:kt.current,f.context=zo(t,g)),f.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(ku(t,n,g,i),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&aa.enqueueReplaceState(f,f.state,null),ea(t,i,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,n){try{var i="",u=n;do i+=ue(u),u=u.return;while(u);var f=i}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:n,stack:f,digest:null}}function Mu(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function bu(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var X0=typeof WeakMap=="function"?WeakMap:Map;function qf(t,n,i){i=nr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){pa||(pa=!0,Bu=u),bu(t,n)},i}function Jf(t,n,i){i=nr(-1,i),i.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=n.value;i.payload=function(){return u(f)},i.callback=function(){bu(t,n)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){bu(t,n),typeof u!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var E=n.stack;this.componentDidCatch(n.value,{componentStack:E!==null?E:""})}),i}function eh(t,n,i){var u=t.pingCache;if(u===null){u=t.pingCache=new X0;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(i)||(f.add(i),t=uv.bind(null,t,n,i),n.then(t,t))}function th(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function nh(t,n,i,u,f){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=nr(-1,1),n.tag=2,br(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var G0=D.ReactCurrentOwner,jt=!1;function Dt(t,n,i,u){n.child=t===null?Ef(n,null,i,u):Bo(n,t.child,i,u)}function rh(t,n,i,u,f){i=i.render;var g=n.ref;return Wo(n,f),u=xu(t,n,i,u,g,f),i=wu(),t!==null&&!jt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,rr(t,n,f)):(rt&&i&&nu(n),n.flags|=1,Dt(t,n,u,f),n.child)}function oh(t,n,i,u,f){if(t===null){var g=i.type;return typeof g=="function"&&!Gu(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=g,ih(t,n,g,u,f)):(t=wa(i.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,(t.lanes&f)===0){var E=g.memoizedProps;if(i=i.compare,i=i!==null?i:_i,i(E,u)&&t.ref===n.ref)return rr(t,n,f)}return n.flags|=1,t=Ir(g,u),t.ref=n.ref,t.return=n,n.child=t}function ih(t,n,i,u,f){if(t!==null){var g=t.memoizedProps;if(_i(g,u)&&t.ref===n.ref)if(jt=!1,n.pendingProps=u=g,(t.lanes&f)!==0)(t.flags&131072)!==0&&(jt=!0);else return n.lanes=t.lanes,rr(t,n,f)}return Du(t,n,i,u,f)}function sh(t,n,i){var u=n.pendingProps,f=u.children,g=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Xo,Jt),Jt|=i;else{if((i&1073741824)===0)return t=g!==null?g.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,et(Xo,Jt),Jt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:i,et(Xo,Jt),Jt|=u}else g!==null?(u=g.baseLanes|i,n.memoizedState=null):u=i,et(Xo,Jt),Jt|=u;return Dt(t,n,f,i),n.child}function ah(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Du(t,n,i,u,f){var g=At(i)?Zr:kt.current;return g=zo(n,g),Wo(n,f),i=xu(t,n,i,u,g,f),u=wu(),t!==null&&!jt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,rr(t,n,f)):(rt&&u&&nu(n),n.flags|=1,Dt(t,n,i,f),n.child)}function lh(t,n,i,u,f){if(At(i)){var g=!0;Ws(n)}else g=!1;if(Wo(n,f),n.stateNode===null)ua(t,n),Gf(n,i,u),_u(n,i,u,f),u=!0;else if(t===null){var E=n.stateNode,R=n.memoizedProps;E.props=R;var $=E.context,ee=i.contextType;typeof ee=="object"&&ee!==null?ee=fn(ee):(ee=At(i)?Zr:kt.current,ee=zo(n,ee));var le=i.getDerivedStateFromProps,ce=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==u||$!==ee)&&Zf(n,E,u,ee),Mr=!1;var ae=n.memoizedState;E.state=ae,ea(n,u,E,f),$=n.memoizedState,R!==u||ae!==$||Lt.current||Mr?(typeof le=="function"&&(ku(n,i,le,u),$=n.memoizedState),(R=Mr||Xf(n,i,R,u,ae,$,ee))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=$),E.props=u,E.state=$,E.context=ee,u=R):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{E=n.stateNode,Nf(t,n),R=n.memoizedProps,ee=n.type===n.elementType?R:Cn(n.type,R),E.props=ee,ce=n.pendingProps,ae=E.context,$=i.contextType,typeof $=="object"&&$!==null?$=fn($):($=At(i)?Zr:kt.current,$=zo(n,$));var ye=i.getDerivedStateFromProps;(le=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==ce||ae!==$)&&Zf(n,E,u,$),Mr=!1,ae=n.memoizedState,E.state=ae,ea(n,u,E,f);var Ce=n.memoizedState;R!==ce||ae!==Ce||Lt.current||Mr?(typeof ye=="function"&&(ku(n,i,ye,u),Ce=n.memoizedState),(ee=Mr||Xf(n,i,ee,u,ae,Ce,$)||!1)?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,Ce,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,Ce,$)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Ce),E.props=u,E.state=Ce,E.context=$,u=ee):(typeof E.componentDidUpdate!="function"||R===t.memoizedProps&&ae===t.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ae===t.memoizedState||(n.flags|=1024),u=!1)}return Tu(t,n,i,u,g,f)}function Tu(t,n,i,u,f,g){ah(t,n);var E=(n.flags&128)!==0;if(!u&&!E)return f&&hf(n,i,!1),rr(t,n,g);u=n.stateNode,G0.current=n;var R=E&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&E?(n.child=Bo(n,t.child,null,g),n.child=Bo(n,null,R,g)):Dt(t,n,R,g),n.memoizedState=u.state,f&&hf(n,i,!0),n.child}function uh(t){var n=t.stateNode;n.pendingContext?df(t,n.pendingContext,n.pendingContext!==n.context):n.context&&df(t,n.context,!1),hu(t,n.containerInfo)}function ch(t,n,i,u,f){return Ho(),su(f),n.flags|=256,Dt(t,n,i,u),n.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function dh(t,n,i){var u=n.pendingProps,f=st.current,g=!1,E=(n.flags&128)!==0,R;if((R=E)||(R=t!==null&&t.memoizedState===null?!1:(f&2)!==0),R?(g=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),et(st,f&1),t===null)return iu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(E=u.children,t=u.fallback,g?(u=n.mode,g=n.child,E={mode:"hidden",children:E},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Sa(E,u,0,null),t=ao(t,u,i,null),g.return=n,t.return=n,g.sibling=t,n.child=g,n.child.memoizedState=Ou(i),n.memoizedState=Pu,t):Ru(n,E));if(f=t.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return Z0(t,n,E,u,R,f,i);if(g){g=u.fallback,E=n.mode,f=t.child,R=f.sibling;var $={mode:"hidden",children:u.children};return(E&1)===0&&n.child!==f?(u=n.child,u.childLanes=0,u.pendingProps=$,n.deletions=null):(u=Ir(f,$),u.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=Ir(R,g):(g=ao(g,E,i,null),g.flags|=2),g.return=n,u.return=n,u.sibling=g,n.child=u,u=g,g=n.child,E=t.child.memoizedState,E=E===null?Ou(i):{baseLanes:E.baseLanes|i,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=t.childLanes&~i,n.memoizedState=Pu,u}return g=t.child,t=g.sibling,u=Ir(g,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=i),u.return=n,u.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=u,n.memoizedState=null,u}function Ru(t,n){return n=Sa({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function la(t,n,i,u){return u!==null&&su(u),Bo(n,t.child,null,i),t=Ru(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Z0(t,n,i,u,f,g,E){if(i)return n.flags&256?(n.flags&=-257,u=Mu(Error(o(422))),la(t,n,E,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(g=u.fallback,f=n.mode,u=Sa({mode:"visible",children:u.children},f,0,null),g=ao(g,f,E,null),g.flags|=2,u.return=n,g.return=n,u.sibling=g,n.child=u,(n.mode&1)!==0&&Bo(n,t.child,null,E),n.child.memoizedState=Ou(E),n.memoizedState=Pu,g);if((n.mode&1)===0)return la(t,n,E,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var R=u.dgst;return u=R,g=Error(o(419)),u=Mu(g,u,void 0),la(t,n,E,u)}if(R=(E&t.childLanes)!==0,jt||R){if(u=wt,u!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,tr(t,f),_n(u,t,f,-1))}return Xu(),u=Mu(Error(o(421))),la(t,n,E,u)}return f.data==="$?"?(n.flags|=128,n.child=t.child,n=cv.bind(null,t),f._reactRetry=n,null):(t=g.treeContext,qt=Cr(f.nextSibling),Zt=n,rt=!0,En=null,t!==null&&(cn[dn++]=Jn,cn[dn++]=er,cn[dn++]=qr,Jn=t.id,er=t.overflow,qr=n),n=Ru(n,u.children),n.flags|=4096,n)}function fh(t,n,i){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),cu(t.return,n,i)}function Iu(t,n,i,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=i,g.tailMode=f)}function hh(t,n,i){var u=n.pendingProps,f=u.revealOrder,g=u.tail;if(Dt(t,n,u.children,i),u=st.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fh(t,i,n);else if(t.tag===19)fh(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(et(st,u),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&ta(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),Iu(n,!1,f,i,g);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&ta(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}Iu(n,!0,i,null,g);break;case"together":Iu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ua(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function rr(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),ro|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,i=Ir(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Ir(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function q0(t,n,i){switch(n.tag){case 3:uh(n),Ho();break;case 5:Mf(n);break;case 1:At(n.type)&&Ws(n);break;case 4:hu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,f=n.memoizedProps.value;et(Zs,u._currentValue),u._currentValue=f;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(et(st,st.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?dh(t,n,i):(et(st,st.current&1),t=rr(t,n,i),t!==null?t.sibling:null);et(st,st.current&1);break;case 19:if(u=(i&n.childLanes)!==0,(t.flags&128)!==0){if(u)return hh(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),et(st,st.current),u)break;return null;case 22:case 23:return n.lanes=0,sh(t,n,i)}return rr(t,n,i)}var ph,Lu,mh,gh;ph=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Lu=function(){},mh=function(t,n,i,u){var f=t.memoizedProps;if(f!==u){t=n.stateNode,to(jn.current);var g=null;switch(i){case"input":f=be(t,f),u=be(t,u),g=[];break;case"select":f=Y({},f,{value:void 0}),u=Y({},u,{value:void 0}),g=[];break;case"textarea":f=yn(t,f),u=yn(t,u),g=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Hs)}dr(i,u);var E;i=null;for(ee in f)if(!u.hasOwnProperty(ee)&&f.hasOwnProperty(ee)&&f[ee]!=null)if(ee==="style"){var R=f[ee];for(E in R)R.hasOwnProperty(E)&&(i||(i={}),i[E]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?g||(g=[]):(g=g||[]).push(ee,null));for(ee in u){var $=u[ee];if(R=f?.[ee],u.hasOwnProperty(ee)&&$!==R&&($!=null||R!=null))if(ee==="style")if(R){for(E in R)!R.hasOwnProperty(E)||$&&$.hasOwnProperty(E)||(i||(i={}),i[E]="");for(E in $)$.hasOwnProperty(E)&&R[E]!==$[E]&&(i||(i={}),i[E]=$[E])}else i||(g||(g=[]),g.push(ee,i)),i=$;else ee==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,R=R?R.__html:void 0,$!=null&&R!==$&&(g=g||[]).push(ee,$)):ee==="children"?typeof $!="string"&&typeof $!="number"||(g=g||[]).push(ee,""+$):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?($!=null&&ee==="onScroll"&&tt("scroll",t),g||R===$||(g=[])):(g=g||[]).push(ee,$))}i&&(g=g||[]).push("style",i);var ee=g;(n.updateQueue=ee)&&(n.flags|=4)}},gh=function(t,n,i,u){i!==u&&(n.flags|=4)};function Vi(t,n){if(!rt)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=i,n}function J0(t,n,i){var u=n.pendingProps;switch(ru(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(n),null;case 1:return At(n.type)&&Us(),Mt(n),null;case 3:return u=n.stateNode,Qo(),nt(Lt),nt(kt),gu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,En!==null&&(Qu(En),En=null))),Lu(t,n),Mt(n),null;case 5:pu(n);var f=to(Ai.current);if(i=n.type,t!==null&&n.stateNode!=null)mh(t,n,i,u,f),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(o(166));return Mt(n),null}if(t=to(jn.current),Xs(n)){u=n.stateNode,i=n.type;var g=n.memoizedProps;switch(u[An]=n,u[Pi]=g,t=(n.mode&1)!==0,i){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(f=0;f<bi.length;f++)tt(bi[f],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":He(u,g),tt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},tt("invalid",u);break;case"textarea":On(u,g),tt("invalid",u)}dr(i,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?u.textContent!==R&&(g.suppressHydrationWarning!==!0&&Vs(u.textContent,R,t),f=["children",R]):typeof R=="number"&&u.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Vs(u.textContent,R,t),f=["children",""+R]):a.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&tt("scroll",u)}switch(i){case"input":Ae(u),Ut(u,g,!0);break;case"textarea":Ae(u),Yt(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=Hs)}u=f,n.updateQueue=u,u!==null&&(n.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rn(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=E.createElement(i,{is:u.is}):(t=E.createElement(i),i==="select"&&(E=t,u.multiple?E.multiple=!0:u.size&&(E.size=u.size))):t=E.createElementNS(t,i),t[An]=n,t[Pi]=u,ph(t,n,!1,!1),n.stateNode=t;e:{switch(E=Ur(i,u),i){case"dialog":tt("cancel",t),tt("close",t),f=u;break;case"iframe":case"object":case"embed":tt("load",t),f=u;break;case"video":case"audio":for(f=0;f<bi.length;f++)tt(bi[f],t);f=u;break;case"source":tt("error",t),f=u;break;case"img":case"image":case"link":tt("error",t),tt("load",t),f=u;break;case"details":tt("toggle",t),f=u;break;case"input":He(t,u),f=be(t,u),tt("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=Y({},u,{value:void 0}),tt("invalid",t);break;case"textarea":On(t,u),f=yn(t,u),tt("invalid",t);break;default:f=u}dr(i,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var $=R[g];g==="style"?Br(t,$):g==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Rt(t,$)):g==="children"?typeof $=="string"?(i!=="textarea"||$!=="")&&on(t,$):typeof $=="number"&&on(t,""+$):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?$!=null&&g==="onScroll"&&tt("scroll",t):$!=null&&C(t,g,$,E))}switch(i){case"input":Ae(t),Ut(t,u,!1);break;case"textarea":Ae(t),Yt(t);break;case"option":u.value!=null&&t.setAttribute("value",""+X(u.value));break;case"select":t.multiple=!!u.multiple,g=u.value,g!=null?Pt(t,!!u.multiple,g,!1):u.defaultValue!=null&&Pt(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Hs)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Mt(n),null;case 6:if(t&&n.stateNode!=null)gh(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(i=to(Ai.current),to(jn.current),Xs(n)){if(u=n.stateNode,i=n.memoizedProps,u[An]=n,(g=u.nodeValue!==i)&&(t=Zt,t!==null))switch(t.tag){case 3:Vs(u.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vs(u.nodeValue,i,(t.mode&1)!==0)}g&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[An]=n,n.stateNode=u}return Mt(n),null;case 13:if(nt(st),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&qt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)xf(),Ho(),n.flags|=98560,g=!1;else if(g=Xs(n),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(o(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[An]=n}else Ho(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Mt(n),g=!1}else En!==null&&(Qu(En),En=null),g=!0;if(!g)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(st.current&1)!==0?vt===0&&(vt=3):Xu())),n.updateQueue!==null&&(n.flags|=4),Mt(n),null);case 4:return Qo(),Lu(t,n),t===null&&Di(n.stateNode.containerInfo),Mt(n),null;case 10:return uu(n.type._context),Mt(n),null;case 17:return At(n.type)&&Us(),Mt(n),null;case 19:if(nt(st),g=n.memoizedState,g===null)return Mt(n),null;if(u=(n.flags&128)!==0,E=g.rendering,E===null)if(u)Vi(g,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(E=ta(t),E!==null){for(n.flags|=128,Vi(g,!1),u=E.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)g=i,t=u,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,t=E.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return et(st,st.current&1|2),n.child}t=t.sibling}g.tail!==null&&Be()>Go&&(n.flags|=128,u=!0,Vi(g,!1),n.lanes=4194304)}else{if(!u)if(t=ta(E),t!==null){if(n.flags|=128,u=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Vi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return Mt(n),null}else 2*Be()-g.renderingStartTime>Go&&i!==1073741824&&(n.flags|=128,u=!0,Vi(g,!1),n.lanes=4194304);g.isBackwards?(E.sibling=n.child,n.child=E):(i=g.last,i!==null?i.sibling=E:n.child=E,g.last=E)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Be(),n.sibling=null,i=st.current,et(st,u?i&1|2:i&1),n):(Mt(n),null);case 22:case 23:return Ku(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(Jt&1073741824)!==0&&(Mt(n),n.subtreeFlags&6&&(n.flags|=8192)):Mt(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function ev(t,n){switch(ru(n),n.tag){case 1:return At(n.type)&&Us(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qo(),nt(Lt),nt(kt),gu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return pu(n),null;case 13:if(nt(st),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ho()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(st),null;case 4:return Qo(),null;case 10:return uu(n.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var ca=!1,bt=!1,tv=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ko(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){ut(t,n,u)}else i.current=null}function Au(t,n,i){try{i()}catch(u){ut(t,n,u)}}var yh=!1;function nv(t,n){if(Kl=Ts,t=Kd(),$l(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var E=0,R=-1,$=-1,ee=0,le=0,ce=t,ae=null;t:for(;;){for(var ye;ce!==i||f!==0&&ce.nodeType!==3||(R=E+f),ce!==g||u!==0&&ce.nodeType!==3||($=E+u),ce.nodeType===3&&(E+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)ae=ce,ce=ye;for(;;){if(ce===t)break t;if(ae===i&&++ee===f&&(R=E),ae===g&&++le===u&&($=E),(ye=ce.nextSibling)!==null)break;ce=ae,ae=ce.parentNode}ce=ye}i=R===-1||$===-1?null:{start:R,end:$}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xl={focusedElem:t,selectionRange:i},Ts=!1,Se=n;Se!==null;)if(n=Se,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Se=t;else for(;Se!==null;){n=Se;try{var Ce=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ne=Ce.memoizedProps,dt=Ce.memoizedState,Z=n.stateNode,W=Z.getSnapshotBeforeUpdate(n.elementType===n.type?Ne:Cn(n.type,Ne),dt);Z.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=n.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){ut(n,n.return,he)}if(t=n.sibling,t!==null){t.return=n.return,Se=t;break}Se=n.return}return Ce=yh,yh=!1,Ce}function Hi(t,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var g=f.destroy;f.destroy=void 0,g!==void 0&&Au(n,i,g)}f=f.next}while(f!==u)}}function da(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function ju(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function vh(t){var n=t.alternate;n!==null&&(t.alternate=null,vh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[An],delete n[Pi],delete n[Jl],delete n[F0],delete n[z0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xh(t){return t.tag===5||t.tag===3||t.tag===4}function wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Hs));else if(u!==4&&(t=t.child,t!==null))for(Fu(t,n,i),t=t.sibling;t!==null;)Fu(t,n,i),t=t.sibling}function zu(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(zu(t,n,i),t=t.sibling;t!==null;)zu(t,n,i),t=t.sibling}var Et=null,Nn=!1;function Dr(t,n,i){for(i=i.child;i!==null;)Sh(t,n,i),i=i.sibling}function Sh(t,n,i){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ge,i)}catch{}switch(i.tag){case 5:bt||Ko(i,n);case 6:var u=Et,f=Nn;Et=null,Dr(t,n,i),Et=u,Nn=f,Et!==null&&(Nn?(t=Et,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):Et.removeChild(i.stateNode));break;case 18:Et!==null&&(Nn?(t=Et,i=i.stateNode,t.nodeType===8?ql(t.parentNode,i):t.nodeType===1&&ql(t,i),wi(t)):ql(Et,i.stateNode));break;case 4:u=Et,f=Nn,Et=i.stateNode.containerInfo,Nn=!0,Dr(t,n,i),Et=u,Nn=f;break;case 0:case 11:case 14:case 15:if(!bt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Au(i,n,E),f=f.next}while(f!==u)}Dr(t,n,i);break;case 1:if(!bt&&(Ko(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(R){ut(i,n,R)}Dr(t,n,i);break;case 21:Dr(t,n,i);break;case 22:i.mode&1?(bt=(u=bt)||i.memoizedState!==null,Dr(t,n,i),bt=u):Dr(t,n,i);break;default:Dr(t,n,i)}}function Eh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new tv),n.forEach(function(u){var f=dv.bind(null,t,u);i.has(u)||(i.add(u),u.then(f,f))})}}function kn(t,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var f=i[u];try{var g=t,E=n,R=E;e:for(;R!==null;){switch(R.tag){case 5:Et=R.stateNode,Nn=!1;break e;case 3:Et=R.stateNode.containerInfo,Nn=!0;break e;case 4:Et=R.stateNode.containerInfo,Nn=!0;break e}R=R.return}if(Et===null)throw Error(o(160));Sh(g,E,f),Et=null,Nn=!1;var $=f.alternate;$!==null&&($.return=null),f.return=null}catch(ee){ut(f,n,ee)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Ch(n,t),n=n.sibling}function Ch(t,n){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(n,t),zn(t),u&4){try{Hi(3,t,t.return),da(3,t)}catch(Ne){ut(t,t.return,Ne)}try{Hi(5,t,t.return)}catch(Ne){ut(t,t.return,Ne)}}break;case 1:kn(n,t),zn(t),u&512&&i!==null&&Ko(i,i.return);break;case 5:if(kn(n,t),zn(t),u&512&&i!==null&&Ko(i,i.return),t.flags&32){var f=t.stateNode;try{on(f,"")}catch(Ne){ut(t,t.return,Ne)}}if(u&4&&(f=t.stateNode,f!=null)){var g=t.memoizedProps,E=i!==null?i.memoizedProps:g,R=t.type,$=t.updateQueue;if(t.updateQueue=null,$!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Xe(f,g),Ur(R,E);var ee=Ur(R,g);for(E=0;E<$.length;E+=2){var le=$[E],ce=$[E+1];le==="style"?Br(f,ce):le==="dangerouslySetInnerHTML"?Rt(f,ce):le==="children"?on(f,ce):C(f,le,ce,ee)}switch(R){case"input":mt(f,g);break;case"textarea":Ot(f,g);break;case"select":var ae=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ye=g.value;ye!=null?Pt(f,!!g.multiple,ye,!1):ae!==!!g.multiple&&(g.defaultValue!=null?Pt(f,!!g.multiple,g.defaultValue,!0):Pt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Pi]=g}catch(Ne){ut(t,t.return,Ne)}}break;case 6:if(kn(n,t),zn(t),u&4){if(t.stateNode===null)throw Error(o(162));f=t.stateNode,g=t.memoizedProps;try{f.nodeValue=g}catch(Ne){ut(t,t.return,Ne)}}break;case 3:if(kn(n,t),zn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wi(n.containerInfo)}catch(Ne){ut(t,t.return,Ne)}break;case 4:kn(n,t),zn(t);break;case 13:kn(n,t),zn(t),f=t.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Hu=Be())),u&4&&Eh(t);break;case 22:if(le=i!==null&&i.memoizedState!==null,t.mode&1?(bt=(ee=bt)||le,kn(n,t),bt=ee):kn(n,t),zn(t),u&8192){if(ee=t.memoizedState!==null,(t.stateNode.isHidden=ee)&&!le&&(t.mode&1)!==0)for(Se=t,le=t.child;le!==null;){for(ce=Se=le;Se!==null;){switch(ae=Se,ye=ae.child,ae.tag){case 0:case 11:case 14:case 15:Hi(4,ae,ae.return);break;case 1:Ko(ae,ae.return);var Ce=ae.stateNode;if(typeof Ce.componentWillUnmount=="function"){u=ae,i=ae.return;try{n=u,Ce.props=n.memoizedProps,Ce.state=n.memoizedState,Ce.componentWillUnmount()}catch(Ne){ut(u,i,Ne)}}break;case 5:Ko(ae,ae.return);break;case 22:if(ae.memoizedState!==null){_h(ce);continue}}ye!==null?(ye.return=ae,Se=ye):_h(ce)}le=le.sibling}e:for(le=null,ce=t;;){if(ce.tag===5){if(le===null){le=ce;try{f=ce.stateNode,ee?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ce.stateNode,$=ce.memoizedProps.style,E=$!=null&&$.hasOwnProperty("display")?$.display:null,R.style.display=Xt("display",E))}catch(Ne){ut(t,t.return,Ne)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(Ne){ut(t,t.return,Ne)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===t)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===t)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===t)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:kn(n,t),zn(t),u&4&&Eh(t);break;case 21:break;default:kn(n,t),zn(t)}}function zn(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(xh(i)){var u=i;break e}i=i.return}throw Error(o(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(on(f,""),u.flags&=-33);var g=wh(t);zu(t,g,f);break;case 3:case 4:var E=u.stateNode.containerInfo,R=wh(t);Fu(t,R,E);break;default:throw Error(o(161))}}catch($){ut(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rv(t,n,i){Se=t,Nh(t)}function Nh(t,n,i){for(var u=(t.mode&1)!==0;Se!==null;){var f=Se,g=f.child;if(f.tag===22&&u){var E=f.memoizedState!==null||ca;if(!E){var R=f.alternate,$=R!==null&&R.memoizedState!==null||bt;R=ca;var ee=bt;if(ca=E,(bt=$)&&!ee)for(Se=f;Se!==null;)E=Se,$=E.child,E.tag===22&&E.memoizedState!==null?Mh(f):$!==null?($.return=E,Se=$):Mh(f);for(;g!==null;)Se=g,Nh(g),g=g.sibling;Se=f,ca=R,bt=ee}kh(t)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,Se=g):kh(t)}}function kh(t){for(;Se!==null;){var n=Se;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:bt||da(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!bt)if(i===null)u.componentDidMount();else{var f=n.elementType===n.type?i.memoizedProps:Cn(n.type,i.memoizedProps);u.componentDidUpdate(f,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&_f(n,g,u);break;case 3:var E=n.updateQueue;if(E!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}_f(n,E,i)}break;case 5:var R=n.stateNode;if(i===null&&n.flags&4){i=R;var $=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&i.focus();break;case"img":$.src&&(i.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ee=n.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&wi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}bt||n.flags&512&&ju(n)}catch(ae){ut(n,n.return,ae)}}if(n===t){Se=null;break}if(i=n.sibling,i!==null){i.return=n.return,Se=i;break}Se=n.return}}function _h(t){for(;Se!==null;){var n=Se;if(n===t){Se=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Se=i;break}Se=n.return}}function Mh(t){for(;Se!==null;){var n=Se;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{da(4,n)}catch($){ut(n,i,$)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var f=n.return;try{u.componentDidMount()}catch($){ut(n,f,$)}}var g=n.return;try{ju(n)}catch($){ut(n,g,$)}break;case 5:var E=n.return;try{ju(n)}catch($){ut(n,E,$)}}}catch($){ut(n,n.return,$)}if(n===t){Se=null;break}var R=n.sibling;if(R!==null){R.return=n.return,Se=R;break}Se=n.return}}var ov=Math.ceil,fa=D.ReactCurrentDispatcher,$u=D.ReactCurrentOwner,pn=D.ReactCurrentBatchConfig,Qe=0,wt=null,ft=null,Ct=0,Jt=0,Xo=Nr(0),vt=0,Bi=null,ro=0,ha=0,Vu=0,Ui=null,Ft=null,Hu=0,Go=1/0,or=null,pa=!1,Bu=null,Tr=null,ma=!1,Pr=null,ga=0,Wi=0,Uu=null,ya=-1,va=0;function Tt(){return(Qe&6)!==0?Be():ya!==-1?ya:ya=Be()}function Or(t){return(t.mode&1)===0?1:(Qe&2)!==0&&Ct!==0?Ct&-Ct:V0.transition!==null?(va===0&&(va=Ms()),va):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:bd(t.type)),t)}function _n(t,n,i,u){if(50<Wi)throw Wi=0,Uu=null,Error(o(185));gr(t,i,u),((Qe&2)===0||t!==wt)&&(t===wt&&((Qe&2)===0&&(ha|=i),vt===4&&Rr(t,Ct)),zt(t,u),i===1&&Qe===0&&(n.mode&1)===0&&(Go=Be()+500,Qs&&_r()))}function zt(t,n){var i=t.callbackNode;kl(t,n);var u=Do(t,t===wt?Ct:0);if(u===0)i!==null&&vn(i),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(i!=null&&vn(i),n===1)t.tag===0?$0(Dh.bind(null,t)):pf(Dh.bind(null,t)),A0(function(){(Qe&6)===0&&_r()}),i=null;else{switch(wd(u)){case 1:i=xn;break;case 4:i=un;break;case 16:i=wn;break;case 536870912:i=ze;break;default:i=wn}i=jh(i,bh.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function bh(t,n){if(ya=-1,va=0,(Qe&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Zo()&&t.callbackNode!==i)return null;var u=Do(t,t===wt?Ct:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=xa(t,u);else{n=u;var f=Qe;Qe|=2;var g=Ph();(wt!==t||Ct!==n)&&(or=null,Go=Be()+500,io(t,n));do try{av();break}catch(R){Th(t,R)}while(!0);lu(),fa.current=g,Qe=f,ft!==null?n=0:(wt=null,Ct=0,n=vt)}if(n!==0){if(n===2&&(f=Xr(t),f!==0&&(u=f,n=Wu(t,f))),n===1)throw i=Bi,io(t,0),Rr(t,u),zt(t,Be()),i;if(n===6)Rr(t,u);else{if(f=t.current.alternate,(u&30)===0&&!iv(f)&&(n=xa(t,u),n===2&&(g=Xr(t),g!==0&&(u=g,n=Wu(t,g))),n===1))throw i=Bi,io(t,0),Rr(t,u),zt(t,Be()),i;switch(t.finishedWork=f,t.finishedLanes=u,n){case 0:case 1:throw Error(o(345));case 2:so(t,Ft,or);break;case 3:if(Rr(t,u),(u&130023424)===u&&(n=Hu+500-Be(),10<n)){if(Do(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){Tt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Zl(so.bind(null,t,Ft,or),n);break}so(t,Ft,or);break;case 4:if(Rr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,f=-1;0<u;){var E=31-Ue(u);g=1<<E,E=n[E],E>f&&(f=E),u&=~g}if(u=f,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*ov(u/1960))-u,10<u){t.timeoutHandle=Zl(so.bind(null,t,Ft,or),u);break}so(t,Ft,or);break;case 5:so(t,Ft,or);break;default:throw Error(o(329))}}}return zt(t,Be()),t.callbackNode===i?bh.bind(null,t):null}function Wu(t,n){var i=Ui;return t.current.memoizedState.isDehydrated&&(io(t,n).flags|=256),t=xa(t,n),t!==2&&(n=Ft,Ft=i,n!==null&&Qu(n)),t}function Qu(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function iv(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var f=i[u],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(t,n){for(n&=~Vu,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Ue(n),u=1<<i;t[i]=-1,n&=~u}}function Dh(t){if((Qe&6)!==0)throw Error(o(327));Zo();var n=Do(t,0);if((n&1)===0)return zt(t,Be()),null;var i=xa(t,n);if(t.tag!==0&&i===2){var u=Xr(t);u!==0&&(n=u,i=Wu(t,u))}if(i===1)throw i=Bi,io(t,0),Rr(t,n),zt(t,Be()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,so(t,Ft,or),zt(t,Be()),null}function Yu(t,n){var i=Qe;Qe|=1;try{return t(n)}finally{Qe=i,Qe===0&&(Go=Be()+500,Qs&&_r())}}function oo(t){Pr!==null&&Pr.tag===0&&(Qe&6)===0&&Zo();var n=Qe;Qe|=1;var i=pn.transition,u=Ze;try{if(pn.transition=null,Ze=1,t)return t()}finally{Ze=u,pn.transition=i,Qe=n,(Qe&6)===0&&_r()}}function Ku(){Jt=Xo.current,nt(Xo)}function io(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,L0(i)),ft!==null)for(i=ft.return;i!==null;){var u=i;switch(ru(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Us();break;case 3:Qo(),nt(Lt),nt(kt),gu();break;case 5:pu(u);break;case 4:Qo();break;case 13:nt(st);break;case 19:nt(st);break;case 10:uu(u.type._context);break;case 22:case 23:Ku()}i=i.return}if(wt=t,ft=t=Ir(t.current,null),Ct=Jt=n,vt=0,Bi=null,Vu=ha=ro=0,Ft=Ui=null,eo!==null){for(n=0;n<eo.length;n++)if(i=eo[n],u=i.interleaved,u!==null){i.interleaved=null;var f=u.next,g=i.pending;if(g!==null){var E=g.next;g.next=f,u.next=E}i.pending=u}eo=null}return t}function Th(t,n){do{var i=ft;try{if(lu(),na.current=sa,ra){for(var u=at.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}ra=!1}if(no=0,xt=yt=at=null,ji=!1,Fi=0,$u.current=null,i===null||i.return===null){vt=1,Bi=n,ft=null;break}e:{var g=t,E=i.return,R=i,$=n;if(n=Ct,R.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ee=$,le=R,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var ye=th(E);if(ye!==null){ye.flags&=-257,nh(ye,E,R,g,n),ye.mode&1&&eh(g,ee,n),n=ye,$=ee;var Ce=n.updateQueue;if(Ce===null){var Ne=new Set;Ne.add($),n.updateQueue=Ne}else Ce.add($);break e}else{if((n&1)===0){eh(g,ee,n),Xu();break e}$=Error(o(426))}}else if(rt&&R.mode&1){var dt=th(E);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),nh(dt,E,R,g,n),su(Yo($,R));break e}}g=$=Yo($,R),vt!==4&&(vt=2),Ui===null?Ui=[g]:Ui.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var Z=qf(g,$,n);kf(g,Z);break e;case 1:R=$;var W=g.type,J=g.stateNode;if((g.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Tr===null||!Tr.has(J)))){g.flags|=65536,n&=-n,g.lanes|=n;var he=Jf(g,R,n);kf(g,he);break e}}g=g.return}while(g!==null)}Rh(i)}catch(Me){n=Me,ft===i&&i!==null&&(ft=i=i.return);continue}break}while(!0)}function Ph(){var t=fa.current;return fa.current=sa,t===null?sa:t}function Xu(){(vt===0||vt===3||vt===2)&&(vt=4),wt===null||(ro&268435455)===0&&(ha&268435455)===0||Rr(wt,Ct)}function xa(t,n){var i=Qe;Qe|=2;var u=Ph();(wt!==t||Ct!==n)&&(or=null,io(t,n));do try{sv();break}catch(f){Th(t,f)}while(!0);if(lu(),Qe=i,fa.current=u,ft!==null)throw Error(o(261));return wt=null,Ct=0,vt}function sv(){for(;ft!==null;)Oh(ft)}function av(){for(;ft!==null&&!Xn();)Oh(ft)}function Oh(t){var n=Ah(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,n===null?Rh(t):ft=n,$u.current=null}function Rh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=J0(i,n,Jt),i!==null){ft=i;return}}else{if(i=ev(i,n),i!==null){i.flags&=32767,ft=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ft=null;return}}if(n=n.sibling,n!==null){ft=n;return}ft=n=t}while(n!==null);vt===0&&(vt=5)}function so(t,n,i){var u=Ze,f=pn.transition;try{pn.transition=null,Ze=1,lv(t,n,i,u)}finally{pn.transition=f,Ze=u}return null}function lv(t,n,i,u){do Zo();while(Pr!==null);if((Qe&6)!==0)throw Error(o(327));i=t.finishedWork;var f=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var g=i.lanes|i.childLanes;if(Hy(t,g),t===wt&&(ft=wt=null,Ct=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ma||(ma=!0,jh(wn,function(){return Zo(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=pn.transition,pn.transition=null;var E=Ze;Ze=1;var R=Qe;Qe|=4,$u.current=null,nv(t,i),Ch(i,t),b0(Xl),Ts=!!Kl,Xl=Kl=null,t.current=i,rv(i),It(),Qe=R,Ze=E,pn.transition=g}else t.current=i;if(ma&&(ma=!1,Pr=t,ga=f),g=t.pendingLanes,g===0&&(Tr=null),Gn(i.stateNode),zt(t,Be()),n!==null)for(u=t.onRecoverableError,i=0;i<n.length;i++)f=n[i],u(f.value,{componentStack:f.stack,digest:f.digest});if(pa)throw pa=!1,t=Bu,Bu=null,t;return(ga&1)!==0&&t.tag!==0&&Zo(),g=t.pendingLanes,(g&1)!==0?t===Uu?Wi++:(Wi=0,Uu=t):Wi=0,_r(),null}function Zo(){if(Pr!==null){var t=wd(ga),n=pn.transition,i=Ze;try{if(pn.transition=null,Ze=16>t?16:t,Pr===null)var u=!1;else{if(t=Pr,Pr=null,ga=0,(Qe&6)!==0)throw Error(o(331));var f=Qe;for(Qe|=4,Se=t.current;Se!==null;){var g=Se,E=g.child;if((Se.flags&16)!==0){var R=g.deletions;if(R!==null){for(var $=0;$<R.length;$++){var ee=R[$];for(Se=ee;Se!==null;){var le=Se;switch(le.tag){case 0:case 11:case 15:Hi(8,le,g)}var ce=le.child;if(ce!==null)ce.return=le,Se=ce;else for(;Se!==null;){le=Se;var ae=le.sibling,ye=le.return;if(vh(le),le===ee){Se=null;break}if(ae!==null){ae.return=ye,Se=ae;break}Se=ye}}}var Ce=g.alternate;if(Ce!==null){var Ne=Ce.child;if(Ne!==null){Ce.child=null;do{var dt=Ne.sibling;Ne.sibling=null,Ne=dt}while(Ne!==null)}}Se=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,Se=E;else e:for(;Se!==null;){if(g=Se,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Hi(9,g,g.return)}var Z=g.sibling;if(Z!==null){Z.return=g.return,Se=Z;break e}Se=g.return}}var W=t.current;for(Se=W;Se!==null;){E=Se;var J=E.child;if((E.subtreeFlags&2064)!==0&&J!==null)J.return=E,Se=J;else e:for(E=W;Se!==null;){if(R=Se,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:da(9,R)}}catch(Me){ut(R,R.return,Me)}if(R===E){Se=null;break e}var he=R.sibling;if(he!==null){he.return=R.return,Se=he;break e}Se=R.return}}if(Qe=f,_r(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ge,t)}catch{}u=!0}return u}finally{Ze=i,pn.transition=n}}return!1}function Ih(t,n,i){n=Yo(i,n),n=qf(t,n,1),t=br(t,n,1),n=Tt(),t!==null&&(gr(t,1,n),zt(t,n))}function ut(t,n,i){if(t.tag===3)Ih(t,t,i);else for(;n!==null;){if(n.tag===3){Ih(n,t,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Tr===null||!Tr.has(u))){t=Yo(i,t),t=Jf(n,t,1),n=br(n,t,1),t=Tt(),n!==null&&(gr(n,1,t),zt(n,t));break}}n=n.return}}function uv(t,n,i){var u=t.pingCache;u!==null&&u.delete(n),n=Tt(),t.pingedLanes|=t.suspendedLanes&i,wt===t&&(Ct&i)===i&&(vt===4||vt===3&&(Ct&130023424)===Ct&&500>Be()-Hu?io(t,0):Vu|=i),zt(t,n)}function Lh(t,n){n===0&&((t.mode&1)===0?n=1:(n=bo,bo<<=1,(bo&130023424)===0&&(bo=4194304)));var i=Tt();t=tr(t,n),t!==null&&(gr(t,n,i),zt(t,i))}function cv(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Lh(t,i)}function dv(t,n){var i=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(o(314))}u!==null&&u.delete(n),Lh(t,i)}var Ah;Ah=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||Lt.current)jt=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return jt=!1,q0(t,n,i);jt=(t.flags&131072)!==0}else jt=!1,rt&&(n.flags&1048576)!==0&&mf(n,Ks,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ua(t,n),t=n.pendingProps;var f=zo(n,kt.current);Wo(n,i),f=xu(null,n,u,t,f,i);var g=wu();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,At(u)?(g=!0,Ws(n)):g=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fu(n),f.updater=aa,n.stateNode=f,f._reactInternals=n,_u(n,u,t,i),n=Tu(null,n,u,!0,g,i)):(n.tag=0,rt&&g&&nu(n),Dt(null,n,f,i),n=n.child),n;case 16:u=n.elementType;e:{switch(ua(t,n),t=n.pendingProps,f=u._init,u=f(u._payload),n.type=u,f=n.tag=hv(u),t=Cn(u,t),f){case 0:n=Du(null,n,u,t,i);break e;case 1:n=lh(null,n,u,t,i);break e;case 11:n=rh(null,n,u,t,i);break e;case 14:n=oh(null,n,u,Cn(u.type,t),i);break e}throw Error(o(306,u,""))}return n;case 0:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:Cn(u,f),Du(t,n,u,f,i);case 1:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:Cn(u,f),lh(t,n,u,f,i);case 3:e:{if(uh(n),t===null)throw Error(o(387));u=n.pendingProps,g=n.memoizedState,f=g.element,Nf(t,n),ea(n,u,null,i);var E=n.memoizedState;if(u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){f=Yo(Error(o(423)),n),n=ch(t,n,u,i,f);break e}else if(u!==f){f=Yo(Error(o(424)),n),n=ch(t,n,u,i,f);break e}else for(qt=Cr(n.stateNode.containerInfo.firstChild),Zt=n,rt=!0,En=null,i=Ef(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ho(),u===f){n=rr(t,n,i);break e}Dt(t,n,u,i)}n=n.child}return n;case 5:return Mf(n),t===null&&iu(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,E=f.children,Gl(u,f)?E=null:g!==null&&Gl(u,g)&&(n.flags|=32),ah(t,n),Dt(t,n,E,i),n.child;case 6:return t===null&&iu(n),null;case 13:return dh(t,n,i);case 4:return hu(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Bo(n,null,u,i):Dt(t,n,u,i),n.child;case 11:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:Cn(u,f),rh(t,n,u,f,i);case 7:return Dt(t,n,n.pendingProps,i),n.child;case 8:return Dt(t,n,n.pendingProps.children,i),n.child;case 12:return Dt(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,f=n.pendingProps,g=n.memoizedProps,E=f.value,et(Zs,u._currentValue),u._currentValue=E,g!==null)if(Sn(g.value,E)){if(g.children===f.children&&!Lt.current){n=rr(t,n,i);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var $=R.firstContext;$!==null;){if($.context===u){if(g.tag===1){$=nr(-1,i&-i),$.tag=2;var ee=g.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?$.next=$:($.next=le.next,le.next=$),ee.pending=$}}g.lanes|=i,$=g.alternate,$!==null&&($.lanes|=i),cu(g.return,i,n),R.lanes|=i;break}$=$.next}}else if(g.tag===10)E=g.type===n.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(o(341));E.lanes|=i,R=E.alternate,R!==null&&(R.lanes|=i),cu(E,i,n),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Dt(t,n,f.children,i),n=n.child}return n;case 9:return f=n.type,u=n.pendingProps.children,Wo(n,i),f=fn(f),u=u(f),n.flags|=1,Dt(t,n,u,i),n.child;case 14:return u=n.type,f=Cn(u,n.pendingProps),f=Cn(u.type,f),oh(t,n,u,f,i);case 15:return ih(t,n,n.type,n.pendingProps,i);case 17:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:Cn(u,f),ua(t,n),n.tag=1,At(u)?(t=!0,Ws(n)):t=!1,Wo(n,i),Gf(n,u,f),_u(n,u,f,i),Tu(null,n,u,!0,t,i);case 19:return hh(t,n,i);case 22:return sh(t,n,i)}throw Error(o(156,n.tag))};function jh(t,n){return Je(t,n)}function fv(t,n,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,i,u){return new fv(t,n,i,u)}function Gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hv(t){if(typeof t=="function")return Gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===U)return 14}return 2}function Ir(t,n){var i=t.alternate;return i===null?(i=mn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function wa(t,n,i,u,f,g){var E=2;if(u=t,typeof t=="function")Gu(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case M:return ao(i.children,f,g,n);case z:E=8,f|=8;break;case G:return t=mn(12,i,n,f|2),t.elementType=G,t.lanes=g,t;case q:return t=mn(13,i,n,f),t.elementType=q,t.lanes=g,t;case O:return t=mn(19,i,n,f),t.elementType=O,t.lanes=g,t;case F:return Sa(i,f,g,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:E=10;break e;case re:E=9;break e;case L:E=11;break e;case U:E=14;break e;case H:E=16,u=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return n=mn(E,i,n,f),n.elementType=t,n.type=u,n.lanes=g,n}function ao(t,n,i,u){return t=mn(7,t,u,n),t.lanes=i,t}function Sa(t,n,i,u){return t=mn(22,t,u,n),t.elementType=F,t.lanes=i,t.stateNode={isHidden:!1},t}function Zu(t,n,i){return t=mn(6,t,null,n),t.lanes=i,t}function qu(t,n,i){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function pv(t,n,i,u,f){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mi(0),this.expirationTimes=mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ju(t,n,i,u,f,g,E,R,$){return t=new pv(t,n,i,R,$),n===1?(n=1,g===!0&&(n|=8)):n=0,g=mn(3,null,null,n),t.current=g,g.stateNode=t,g.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(g),t}function mv(t,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:u==null?null:""+u,children:t,containerInfo:n,implementation:i}}function Fh(t){if(!t)return kr;t=t._reactInternals;e:{if(xe(t)!==t||t.tag!==1)throw Error(o(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(At(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(At(i))return ff(t,i,n)}return n}function zh(t,n,i,u,f,g,E,R,$){return t=Ju(i,u,!0,t,f,g,E,R,$),t.context=Fh(null),i=t.current,u=Tt(),f=Or(i),g=nr(u,f),g.callback=n??null,br(i,g,f),t.current.lanes=f,gr(t,f,u),zt(t,u),t}function Ea(t,n,i,u){var f=n.current,g=Tt(),E=Or(f);return i=Fh(i),n.context===null?n.context=i:n.pendingContext=i,n=nr(g,E),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=br(f,n,E),t!==null&&(_n(t,f,E,g),Js(t,f,E)),E}function Ca(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $h(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function ec(t,n){$h(t,n),(t=t.alternate)&&$h(t,n)}function gv(){return null}var Vh=typeof reportError=="function"?reportError:function(t){console.error(t)};function tc(t){this._internalRoot=t}Na.prototype.render=tc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));Ea(t,n,null,null)},Na.prototype.unmount=tc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oo(function(){Ea(null,t,null,null)}),n[Zn]=null}};function Na(t){this._internalRoot=t}Na.prototype.unstable_scheduleHydration=function(t){if(t){var n=Cd();t={blockedOn:null,target:t,priority:n};for(var i=0;i<wr.length&&n!==0&&n<wr[i].priority;i++);wr.splice(i,0,t),i===0&&_d(t)}};function nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ka(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hh(){}function yv(t,n,i,u,f){if(f){if(typeof u=="function"){var g=u;u=function(){var ee=Ca(E);g.call(ee)}}var E=zh(n,u,t,0,null,!1,!1,"",Hh);return t._reactRootContainer=E,t[Zn]=E.current,Di(t.nodeType===8?t.parentNode:t),oo(),E}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var R=u;u=function(){var ee=Ca($);R.call(ee)}}var $=Ju(t,0,!1,null,null,!1,!1,"",Hh);return t._reactRootContainer=$,t[Zn]=$.current,Di(t.nodeType===8?t.parentNode:t),oo(function(){Ea(n,$,i,u)}),$}function _a(t,n,i,u,f){var g=i._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var R=f;f=function(){var $=Ca(E);R.call($)}}Ea(n,E,t,f)}else E=yv(i,n,t,f,u);return Ca(E)}Sd=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=mr(n.pendingLanes);i!==0&&(_l(n,i|1),zt(n,Be()),(Qe&6)===0&&(Go=Be()+500,_r()))}break;case 13:oo(function(){var u=tr(t,1);if(u!==null){var f=Tt();_n(u,t,1,f)}}),ec(t,1)}},Ml=function(t){if(t.tag===13){var n=tr(t,134217728);if(n!==null){var i=Tt();_n(n,t,134217728,i)}ec(t,134217728)}},Ed=function(t){if(t.tag===13){var n=Or(t),i=tr(t,n);if(i!==null){var u=Tt();_n(i,t,n,u)}ec(t,n)}},Cd=function(){return Ze},Nd=function(t,n){var i=Ze;try{return Ze=t,n()}finally{Ze=i}},hr=function(t,n,i){switch(n){case"input":if(mt(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==t&&u.form===t.form){var f=Bs(u);if(!f)throw Error(o(90));ge(u),mt(u,f)}}}break;case"textarea":Ot(t,i);break;case"select":n=i.value,n!=null&&Pt(t,!!i.multiple,n,!1)}},Yr=Yu,Yn=oo;var vv={usingClientEntryPoint:!1,Events:[Oi,jo,Bs,Wr,Qr,Yu]},Qi={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:Qi.bundleType,version:Qi.version,rendererPackageName:Qi.rendererPackageName,rendererConfig:Qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ke(t),t===null?null:t.stateNode},findFiberByHostInstance:Qi.findFiberByHostInstance||gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Ge=Ma.inject(xv),gt=Ma}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv,$t.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nc(n))throw Error(o(200));return mv(t,n,null,i)},$t.createRoot=function(t,n){if(!nc(t))throw Error(o(299));var i=!1,u="",f=Vh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=Ju(t,1,!1,null,null,i,!1,u,f),t[Zn]=n.current,Di(t.nodeType===8?t.parentNode:t),new tc(n)},$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=Ke(n),t=t===null?null:t.stateNode,t},$t.flushSync=function(t){return oo(t)},$t.hydrate=function(t,n,i){if(!ka(n))throw Error(o(200));return _a(null,t,n,!0,i)},$t.hydrateRoot=function(t,n,i){if(!nc(t))throw Error(o(405));var u=i!=null&&i.hydratedSources||null,f=!1,g="",E=Vh;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),n=zh(n,null,t,1,i??null,f,!1,g,E),t[Zn]=n.current,Di(t),u)for(t=0;t<u.length;t++)i=u[t],f=i._getVersion,f=f(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,f]:n.mutableSourceEagerHydrationData.push(i,f);return new Na(n)},$t.render=function(t,n,i){if(!ka(n))throw Error(o(200));return _a(null,t,n,!1,i)},$t.unmountComponentAtNode=function(t){if(!ka(t))throw Error(o(40));return t._reactRootContainer?(oo(function(){_a(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1},$t.unstable_batchedUpdates=Yu,$t.unstable_renderSubtreeIntoContainer=function(t,n,i,u){if(!ka(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return _a(t,n,i,!1,u)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var Gh;function Dm(){if(Gh)return ic.exports;Gh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),ic.exports=Mv(),ic.exports}var Zh;function bv(){if(Zh)return ba;Zh=1;var e=Dm();return ba.createRoot=e.createRoot,ba.hydrateRoot=e.hydrateRoot,ba}var Dv=bv(),Tm=Dm();const Tv=Kc(Tm),Pv=bm({__proto__:null,default:Tv},[Tm]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},ot.apply(this,arguments)}var ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ht||(ht={}));const qh="popstate";function Ov(e){e===void 0&&(e={});function r(s,a){let{pathname:l,search:c,hash:d}=s.location;return os("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function o(s,a){return typeof a=="string"?a:yo(a)}return Iv(r,o,null,e)}function Ve(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function oi(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Rv(){return Math.random().toString(36).substr(2,8)}function Jh(e,r){return{usr:e.state,key:e.key,idx:r}}function os(e,r,o,s){return o===void 0&&(o=null),ot({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Hr(r):r,{state:o,key:r&&r.key||s||Rv()})}function yo(e){let{pathname:r="/",search:o="",hash:s=""}=e;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Hr(e){let r={};if(e){let o=e.indexOf("#");o>=0&&(r.hash=e.substr(o),e=e.substr(0,o));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function Iv(e,r,o,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d=ht.Pop,h=null,p=m();p==null&&(p=0,c.replaceState(ot({},c.state,{idx:p}),""));function m(){return(c.state||{idx:null}).idx}function v(){d=ht.Pop;let S=m(),_=S==null?null:S-p;p=S,h&&h({action:d,location:w.location,delta:_})}function y(S,_){d=ht.Push;let T=os(w.location,S,_);p=m()+1;let C=Jh(T,p),D=w.createHref(T);try{c.pushState(C,"",D)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(D)}l&&h&&h({action:d,location:w.location,delta:1})}function x(S,_){d=ht.Replace;let T=os(w.location,S,_);p=m();let C=Jh(T,p),D=w.createHref(T);c.replaceState(C,"",D),l&&h&&h({action:d,location:w.location,delta:0})}function N(S){let _=a.location.origin!=="null"?a.location.origin:a.location.href,T=typeof S=="string"?S:yo(S);return T=T.replace(/ $/,"%20"),Ve(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let w={get action(){return d},get location(){return e(a,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(qh,v),h=S,()=>{a.removeEventListener(qh,v),h=null}},createHref(S){return r(a,S)},createURL:N,encodeLocation(S){let _=N(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:x,go(S){return c.go(S)}};return w}var qe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qe||(qe={}));const Lv=new Set(["lazy","caseSensitive","path","id","index","children"]);function Av(e){return e.index===!0}function Ka(e,r,o,s){return o===void 0&&(o=[]),s===void 0&&(s={}),e.map((a,l)=>{let c=[...o,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(Ve(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ve(!s[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),Av(a)){let h=ot({},a,r(a),{id:d});return s[d]=h,h}else{let h=ot({},a,r(a),{id:d,children:void 0});return s[d]=h,a.children&&(h.children=Ka(a.children,r,c,s)),h}})}function uo(e,r,o){return o===void 0&&(o="/"),Va(e,r,o,!1)}function Va(e,r,o,s){let a=typeof r=="string"?Hr(r):r,l=fi(a.pathname||"/",o);if(l==null)return null;let c=Pm(e);Fv(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=Xv(l);d=Yv(c[h],p,s)}return d}function jv(e,r){let{route:o,pathname:s,params:a}=e;return{id:o.id,pathname:s,params:a,data:r[o.id],handle:o.handle}}function Pm(e,r,o,s){r===void 0&&(r=[]),o===void 0&&(o=[]),s===void 0&&(s="");let a=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Ve(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let p=ar([s,h.relativePath]),m=o.concat(h);l.children&&l.children.length>0&&(Ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Pm(l.children,r,m,p)),!(l.path==null&&!l.index)&&r.push({path:p,score:Wv(p,l.index),routesMeta:m})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let h of Om(l.path))a(l,c,h)}),r}function Om(e){let r=e.split("/");if(r.length===0)return[];let[o,...s]=r,a=o.endsWith("?"),l=o.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Om(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function Fv(e){e.sort((r,o)=>r.score!==o.score?o.score-r.score:Qv(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}const zv=/^:[\w-]+$/,$v=3,Vv=2,Hv=1,Bv=10,Uv=-2,ep=e=>e==="*";function Wv(e,r){let o=e.split("/"),s=o.length;return o.some(ep)&&(s+=Uv),r&&(s+=Vv),o.filter(a=>!ep(a)).reduce((a,l)=>a+(zv.test(l)?$v:l===""?Hv:Bv),s)}function Qv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,a)=>s===r[a])?e[e.length-1]-r[r.length-1]:0}function Yv(e,r,o){o===void 0&&(o=!1);let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,m=l==="/"?r:r.slice(l.length)||"/",v=tp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),y=h.route;if(!v&&p&&o&&!s[s.length-1].route.index&&(v=tp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:ar([l,v.pathname]),pathnameBase:qv(ar([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=ar([l,v.pathnameBase]))}return c}function tp(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=Kv(e.path,e.caseSensitive,e.end),a=r.match(o);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,m,v)=>{let{paramName:y,isOptional:x}=m;if(y==="*"){let w=d[v]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const N=d[v];return x&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function Kv(e,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function Xv(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return oi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function fi(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}function Gv(e,r){r===void 0&&(r="/");let{pathname:o,search:s="",hash:a=""}=typeof e=="string"?Hr(e):e;return{pathname:o?o.startsWith("/")?o:Zv(o,r):r,search:Jv(s),hash:ex(a)}}function Zv(e,r){let o=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?o.length>1&&o.pop():a!=="."&&o.push(a)}),o.length>1?o.join("/"):"/"}function lc(e,r,o,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rm(e){return e.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Xc(e,r){let o=Rm(e);return r?o.map((s,a)=>a===o.length-1?s.pathname:s.pathnameBase):o.map(s=>s.pathnameBase)}function Gc(e,r,o,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Hr(e):(a=ot({},e),Ve(!a.pathname||!a.pathname.includes("?"),lc("?","pathname","search",a)),Ve(!a.pathname||!a.pathname.includes("#"),lc("#","pathname","hash",a)),Ve(!a.search||!a.search.includes("#"),lc("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=o;else{let v=r.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}d=v>=0?r[v]:"/"}let h=Gv(a,d),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const ar=e=>e.join("/").replace(/\/\/+/g,"/"),qv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ex=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Xa{constructor(r,o,s,a){a===void 0&&(a=!1),this.status=r,this.statusText=o||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function is(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Im=["post","put","patch","delete"],tx=new Set(Im),nx=["get",...Im],rx=new Set(nx),ox=new Set([301,302,303,307,308]),ix=new Set([307,308]),uc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ki={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ax=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Lm="remix-router-transitions";function lx(e){const r=e.window?e.window:typeof window<"u"?window:void 0,o=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",s=!o;Ve(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let j=e.detectErrorBoundary;a=K=>({hasErrorBoundary:j(K)})}else a=ax;let l={},c=Ka(e.routes,a,void 0,l),d,h=e.basename||"/",p=e.dataStrategy||fx,m=e.patchRoutesOnNavigation,v=ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),y=null,x=new Set,N=null,w=null,S=null,_=e.hydrationData!=null,T=uo(c,e.history.location,h),C=!1,D=null;if(T==null&&!m){let j=Vt(404,{pathname:e.history.location.pathname}),{matches:K,route:te}=fp(c);T=K,D={[te.id]:j}}T&&!e.hydrationData&&Yn(T,c,e.history.location.pathname).active&&(T=null);let A;if(T)if(T.some(j=>j.route.lazy))A=!1;else if(!T.some(j=>j.route.loader))A=!0;else if(v.v7_partialHydration){let j=e.hydrationData?e.hydrationData.loaderData:null,K=e.hydrationData?e.hydrationData.errors:null;if(K){let te=T.findIndex(ie=>K[ie.route.id]!==void 0);A=T.slice(0,te+1).every(ie=>!Tc(ie.route,j,K))}else A=T.every(te=>!Tc(te.route,j,K))}else A=e.hydrationData!=null;else if(A=!1,T=[],v.v7_partialHydration){let j=Yn(null,c,e.history.location.pathname);j.active&&j.matches&&(C=!0,T=j.matches)}let V,M={historyAction:e.history.action,location:e.history.location,matches:T,initialized:A,navigation:uc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},z=ht.Pop,G=!1,ne,re=!1,L=new Map,q=null,O=!1,U=!1,H=[],F=new Set,I=new Map,B=0,Y=-1,b=new Map,Q=new Set,se=new Map,oe=new Map,ue=new Set,pe=new Map,de=new Map,X;function fe(){if(y=e.history.listen(j=>{let{action:K,location:te,delta:ie}=j;if(X){X(),X=void 0;return}oi(de.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=hr({currentLocation:M.location,nextLocation:te,historyAction:K});if(me&&ie!=null){let ke=new Promise(Pe=>{X=Pe});e.history.go(ie*-1),Rn(me,{state:"blocked",location:te,proceed(){Rn(me,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),ke.then(()=>e.history.go(ie))},reset(){let Pe=new Map(M.blockers);Pe.set(me,Ki),ge({blockers:Pe})}});return}return Xe(K,te)}),o){_x(r,L);let j=()=>Mx(r,L);r.addEventListener("pagehide",j),q=()=>r.removeEventListener("pagehide",j)}return M.initialized||Xe(ht.Pop,M.location,{initialHydration:!0}),V}function _e(){y&&y(),q&&q(),x.clear(),ne&&ne.abort(),M.fetchers.forEach((j,K)=>sn(K)),M.blockers.forEach((j,K)=>fr(K))}function Ae(j){return x.add(j),()=>x.delete(j)}function ge(j,K){K===void 0&&(K={}),M=ot({},M,j);let te=[],ie=[];v.v7_fetcherPersist&&M.fetchers.forEach((me,ke)=>{me.state==="idle"&&(ue.has(ke)?ie.push(ke):te.push(ke))}),ue.forEach(me=>{!M.fetchers.has(me)&&!I.has(me)&&ie.push(me)}),[...x].forEach(me=>me(M,{deletedFetchers:ie,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),v.v7_fetcherPersist?(te.forEach(me=>M.fetchers.delete(me)),ie.forEach(me=>sn(me))):ie.forEach(me=>ue.delete(me))}function Te(j,K,te){var ie,me;let{flushSync:ke}=te===void 0?{}:te,Pe=M.actionData!=null&&M.navigation.formMethod!=null&&Mn(M.navigation.formMethod)&&M.navigation.state==="loading"&&((ie=j.state)==null?void 0:ie._isRedirect)!==!0,we;K.actionData?Object.keys(K.actionData).length>0?we=K.actionData:we=null:Pe?we=M.actionData:we=null;let Ee=K.loaderData?cp(M.loaderData,K.loaderData,K.matches||[],K.errors):M.loaderData,ve=M.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((je,ct)=>ve.set(ct,Ki)));let xe=G===!0||M.navigation.formMethod!=null&&Mn(M.navigation.formMethod)&&((me=j.state)==null?void 0:me._isRedirect)!==!0;d&&(c=d,d=void 0),O||z===ht.Pop||(z===ht.Push?e.history.push(j,j.state):z===ht.Replace&&e.history.replace(j,j.state));let Ie;if(z===ht.Pop){let je=L.get(M.location.pathname);je&&je.has(j.pathname)?Ie={currentLocation:M.location,nextLocation:j}:L.has(j.pathname)&&(Ie={currentLocation:j,nextLocation:M.location})}else if(re){let je=L.get(M.location.pathname);je?je.add(j.pathname):(je=new Set([j.pathname]),L.set(M.location.pathname,je)),Ie={currentLocation:M.location,nextLocation:j}}ge(ot({},K,{actionData:we,loaderData:Ee,historyAction:z,location:j,initialized:!0,navigation:uc,revalidation:"idle",restoreScrollPosition:Yr(j,K.matches||M.matches),preventScrollReset:xe,blockers:ve}),{viewTransitionOpts:Ie,flushSync:ke===!0}),z=ht.Pop,G=!1,re=!1,O=!1,U=!1,H=[]}async function be(j,K){if(typeof j=="number"){e.history.go(j);return}let te=Dc(M.location,M.matches,h,v.v7_prependBasename,j,v.v7_relativeSplatPath,K?.fromRouteId,K?.relative),{path:ie,submission:me,error:ke}=np(v.v7_normalizeFormMethod,!1,te,K),Pe=M.location,we=os(M.location,ie,K&&K.state);we=ot({},we,e.history.encodeLocation(we));let Ee=K&&K.replace!=null?K.replace:void 0,ve=ht.Push;Ee===!0?ve=ht.Replace:Ee===!1||me!=null&&Mn(me.formMethod)&&me.formAction===M.location.pathname+M.location.search&&(ve=ht.Replace);let xe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,Ie=(K&&K.flushSync)===!0,je=hr({currentLocation:Pe,nextLocation:we,historyAction:ve});if(je){Rn(je,{state:"blocked",location:we,proceed(){Rn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:we}),be(j,K)},reset(){let ct=new Map(M.blockers);ct.set(je,Ki),ge({blockers:ct})}});return}return await Xe(ve,we,{submission:me,pendingError:ke,preventScrollReset:xe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:Ie})}function He(){if(Kt(),ge({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){Xe(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}Xe(z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:re===!0})}}async function Xe(j,K,te){ne&&ne.abort(),ne=null,z=j,O=(te&&te.startUninterruptedRevalidation)===!0,Qr(M.location,M.matches),G=(te&&te.preventScrollReset)===!0,re=(te&&te.enableViewTransition)===!0;let ie=d||c,me=te&&te.overrideNavigation,ke=te!=null&&te.initialHydration&&M.matches&&M.matches.length>0&&!C?M.matches:uo(ie,K,h),Pe=(te&&te.flushSync)===!0;if(ke&&M.initialized&&!U&&vx(M.location,K)&&!(te&&te.submission&&Mn(te.submission.formMethod))){Te(K,{matches:ke},{flushSync:Pe});return}let we=Yn(ke,ie,K.pathname);if(we.active&&we.matches&&(ke=we.matches),!ke){let{error:Ke,notFoundMatches:$e,route:Je}=an(K.pathname);Te(K,{matches:$e,loaderData:{},errors:{[Je.id]:Ke}},{flushSync:Pe});return}ne=new AbortController;let Ee=qo(e.history,K,ne.signal,te&&te.submission),ve;if(te&&te.pendingError)ve=[co(ke).route.id,{type:qe.error,error:te.pendingError}];else if(te&&te.submission&&Mn(te.submission.formMethod)){let Ke=await mt(Ee,K,te.submission,ke,we.active,{replace:te.replace,flushSync:Pe});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[$e,Je]=Ke.pendingActionResult;if(en(Je)&&is(Je.error)&&Je.error.status===404){ne=null,Te(K,{matches:Ke.matches,loaderData:{},errors:{[$e]:Je.error}});return}}ke=Ke.matches||ke,ve=Ke.pendingActionResult,me=cc(K,te.submission),Pe=!1,we.active=!1,Ee=qo(e.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:Ie,loaderData:je,errors:ct}=await Ut(Ee,K,ke,we.active,me,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Pe,ve);xe||(ne=null,Te(K,ot({matches:Ie||ke},dp(ve),{loaderData:je,errors:ct})))}async function mt(j,K,te,ie,me,ke){ke===void 0&&(ke={}),Kt();let Pe=Nx(K,te);if(ge({navigation:Pe},{flushSync:ke.flushSync===!0}),me){let ve=await In(ie,K.pathname,j.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let xe=co(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[xe,{type:qe.error,error:ve.error}]}}else if(ve.matches)ie=ve.matches;else{let{notFoundMatches:xe,error:Ie,route:je}=an(K.pathname);return{matches:xe,pendingActionResult:[je.id,{type:qe.error,error:Ie}]}}}let we,Ee=Ji(ie,K);if(!Ee.route.action&&!Ee.route.lazy)we={type:qe.error,error:Vt(405,{method:j.method,pathname:K.pathname,routeId:Ee.route.id})};else if(we=(await Yt("action",M,j,[Ee],ie,null))[Ee.route.id],j.signal.aborted)return{shortCircuited:!0};if(ho(we)){let ve;return ke&&ke.replace!=null?ve=ke.replace:ve=ap(we.response.headers.get("Location"),new URL(j.url),h)===M.location.pathname+M.location.search,await Ot(j,we,!0,{submission:te,replace:ve}),{shortCircuited:!0}}if($r(we))throw Vt(400,{type:"defer-action"});if(en(we)){let ve=co(ie,Ee.route.id);return(ke&&ke.replace)!==!0&&(z=ht.Push),{matches:ie,pendingActionResult:[ve.route.id,we]}}return{matches:ie,pendingActionResult:[Ee.route.id,we]}}async function Ut(j,K,te,ie,me,ke,Pe,we,Ee,ve,xe){let Ie=me||cc(K,ke),je=ke||Pe||pp(Ie),ct=!O&&(!v.v7_partialHydration||!Ee);if(ie){if(ct){let Ge=Wt(xe);ge(ot({navigation:Ie},Ge!==void 0?{actionData:Ge}:{}),{flushSync:ve})}let ze=await In(te,K.pathname,j.signal);if(ze.type==="aborted")return{shortCircuited:!0};if(ze.type==="error"){let Ge=co(ze.partialMatches).route.id;return{matches:ze.partialMatches,loaderData:{},errors:{[Ge]:ze.error}}}else if(ze.matches)te=ze.matches;else{let{error:Ge,notFoundMatches:gt,route:Gn}=an(K.pathname);return{matches:gt,loaderData:{},errors:{[Gn.id]:Ge}}}}let Ke=d||c,[$e,Je]=op(e.history,M,te,je,K,v.v7_partialHydration&&Ee===!0,v.v7_skipActionErrorRevalidation,U,H,F,ue,se,Q,Ke,h,xe);if(ln(ze=>!(te&&te.some(Ge=>Ge.route.id===ze))||$e&&$e.some(Ge=>Ge.route.id===ze)),Y=++B,$e.length===0&&Je.length===0){let ze=Co();return Te(K,ot({matches:te,loaderData:{},errors:xe&&en(xe[1])?{[xe[0]]:xe[1].error}:null},dp(xe),ze?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(ct){let ze={};if(!ie){ze.navigation=Ie;let Ge=Wt(xe);Ge!==void 0&&(ze.actionData=Ge)}Je.length>0&&(ze.fetchers=Qt(Je)),ge(ze,{flushSync:ve})}Je.forEach(ze=>{Xt(ze.key),ze.controller&&I.set(ze.key,ze.controller)});let vn=()=>Je.forEach(ze=>Xt(ze.key));ne&&ne.signal.addEventListener("abort",vn);let{loaderResults:Xn,fetcherResults:It}=await rn(M,te,$e,Je,j);if(j.signal.aborted)return{shortCircuited:!0};ne&&ne.signal.removeEventListener("abort",vn),Je.forEach(ze=>I.delete(ze.key));let Be=Da(Xn);if(Be)return await Ot(j,Be.result,!0,{replace:we}),{shortCircuited:!0};if(Be=Da(It),Be)return Q.add(Be.key),await Ot(j,Be.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Kr,errors:xn}=up(M,te,Xn,xe,Je,It,pe);pe.forEach((ze,Ge)=>{ze.subscribe(gt=>{(gt||ze.done)&&pe.delete(Ge)})}),v.v7_partialHydration&&Ee&&M.errors&&(xn=ot({},M.errors,xn));let un=Co(),wn=dr(Y),pr=un||wn||Je.length>0;return ot({matches:te,loaderData:Kr,errors:xn},pr?{fetchers:new Map(M.fetchers)}:{})}function Wt(j){if(j&&!en(j[1]))return{[j[0]]:j[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Qt(j){return j.forEach(K=>{let te=M.fetchers.get(K.key),ie=Xi(void 0,te?te.data:void 0);M.fetchers.set(K.key,ie)}),new Map(M.fetchers)}function Pt(j,K,te,ie){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Xt(j);let me=(ie&&ie.flushSync)===!0,ke=d||c,Pe=Dc(M.location,M.matches,h,v.v7_prependBasename,te,v.v7_relativeSplatPath,K,ie?.relative),we=uo(ke,Pe,h),Ee=Yn(we,ke,Pe);if(Ee.active&&Ee.matches&&(we=Ee.matches),!we){Rt(j,K,Vt(404,{pathname:Pe}),{flushSync:me});return}let{path:ve,submission:xe,error:Ie}=np(v.v7_normalizeFormMethod,!0,Pe,ie);if(Ie){Rt(j,K,Ie,{flushSync:me});return}let je=Ji(we,ve),ct=(ie&&ie.preventScrollReset)===!0;if(xe&&Mn(xe.formMethod)){yn(j,K,ve,je,we,Ee.active,me,ct,xe);return}se.set(j,{routeId:K,path:ve}),On(j,K,ve,je,we,Ee.active,me,ct,xe)}async function yn(j,K,te,ie,me,ke,Pe,we,Ee){Kt(),se.delete(j);function ve(Ue){if(!Ue.route.action&&!Ue.route.lazy){let Ln=Vt(405,{method:Ee.formMethod,pathname:te,routeId:K});return Rt(j,K,Ln,{flushSync:Pe}),!0}return!1}if(!ke&&ve(ie))return;let xe=M.fetchers.get(j);Nt(j,kx(Ee,xe),{flushSync:Pe});let Ie=new AbortController,je=qo(e.history,te,Ie.signal,Ee);if(ke){let Ue=await In(me,new URL(je.url).pathname,je.signal,j);if(Ue.type==="aborted")return;if(Ue.type==="error"){Rt(j,K,Ue.error,{flushSync:Pe});return}else if(Ue.matches){if(me=Ue.matches,ie=Ji(me,te),ve(ie))return}else{Rt(j,K,Vt(404,{pathname:te}),{flushSync:Pe});return}}I.set(j,Ie);let ct=B,$e=(await Yt("action",M,je,[ie],me,j))[ie.route.id];if(je.signal.aborted){I.get(j)===Ie&&I.delete(j);return}if(v.v7_fetcherPersist&&ue.has(j)){if(ho($e)||en($e)){Nt(j,Fr(void 0));return}}else{if(ho($e))if(I.delete(j),Y>ct){Nt(j,Fr(void 0));return}else return Q.add(j),Nt(j,Xi(Ee)),Ot(je,$e,!1,{fetcherSubmission:Ee,preventScrollReset:we});if(en($e)){Rt(j,K,$e.error);return}}if($r($e))throw Vt(400,{type:"defer-action"});let Je=M.navigation.location||M.location,vn=qo(e.history,Je,Ie.signal),Xn=d||c,It=M.navigation.state!=="idle"?uo(Xn,M.navigation.location,h):M.matches;Ve(It,"Didn't find any matches after fetcher action");let Be=++B;b.set(j,Be);let Kr=Xi(Ee,$e.data);M.fetchers.set(j,Kr);let[xn,un]=op(e.history,M,It,Ee,Je,!1,v.v7_skipActionErrorRevalidation,U,H,F,ue,se,Q,Xn,h,[ie.route.id,$e]);un.filter(Ue=>Ue.key!==j).forEach(Ue=>{let Ln=Ue.key,_o=M.fetchers.get(Ln),pi=Xi(void 0,_o?_o.data:void 0);M.fetchers.set(Ln,pi),Xt(Ln),Ue.controller&&I.set(Ln,Ue.controller)}),ge({fetchers:new Map(M.fetchers)});let wn=()=>un.forEach(Ue=>Xt(Ue.key));Ie.signal.addEventListener("abort",wn);let{loaderResults:pr,fetcherResults:ze}=await rn(M,It,xn,un,vn);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",wn),b.delete(j),I.delete(j),un.forEach(Ue=>I.delete(Ue.key));let Ge=Da(pr);if(Ge)return Ot(vn,Ge.result,!1,{preventScrollReset:we});if(Ge=Da(ze),Ge)return Q.add(Ge.key),Ot(vn,Ge.result,!1,{preventScrollReset:we});let{loaderData:gt,errors:Gn}=up(M,It,pr,void 0,un,ze,pe);if(M.fetchers.has(j)){let Ue=Fr($e.data);M.fetchers.set(j,Ue)}dr(Be),M.navigation.state==="loading"&&Be>Y?(Ve(z,"Expected pending action"),ne&&ne.abort(),Te(M.navigation.location,{matches:It,loaderData:gt,errors:Gn,fetchers:new Map(M.fetchers)})):(ge({errors:Gn,loaderData:cp(M.loaderData,gt,It,Gn),fetchers:new Map(M.fetchers)}),U=!1)}async function On(j,K,te,ie,me,ke,Pe,we,Ee){let ve=M.fetchers.get(j);Nt(j,Xi(Ee,ve?ve.data:void 0),{flushSync:Pe});let xe=new AbortController,Ie=qo(e.history,te,xe.signal);if(ke){let $e=await In(me,new URL(Ie.url).pathname,Ie.signal,j);if($e.type==="aborted")return;if($e.type==="error"){Rt(j,K,$e.error,{flushSync:Pe});return}else if($e.matches)me=$e.matches,ie=Ji(me,te);else{Rt(j,K,Vt(404,{pathname:te}),{flushSync:Pe});return}}I.set(j,xe);let je=B,Ke=(await Yt("loader",M,Ie,[ie],me,j))[ie.route.id];if($r(Ke)&&(Ke=await qc(Ke,Ie.signal,!0)||Ke),I.get(j)===xe&&I.delete(j),!Ie.signal.aborted){if(ue.has(j)){Nt(j,Fr(void 0));return}if(ho(Ke))if(Y>je){Nt(j,Fr(void 0));return}else{Q.add(j),await Ot(Ie,Ke,!1,{preventScrollReset:we});return}if(en(Ke)){Rt(j,K,Ke.error);return}Ve(!$r(Ke),"Unhandled fetcher deferred data"),Nt(j,Fr(Ke.data))}}async function Ot(j,K,te,ie){let{submission:me,fetcherSubmission:ke,preventScrollReset:Pe,replace:we}=ie===void 0?{}:ie;K.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Ee=K.response.headers.get("Location");Ve(Ee,"Expected a Location header on the redirect Response"),Ee=ap(Ee,new URL(j.url),h);let ve=os(M.location,Ee,{_isRedirect:!0});if(o){let $e=!1;if(K.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(Zc.test(Ee)){const Je=e.history.createURL(Ee);$e=Je.origin!==r.location.origin||fi(Je.pathname,h)==null}if($e){we?r.location.replace(Ee):r.location.assign(Ee);return}}ne=null;let xe=we===!0||K.response.headers.has("X-Remix-Replace")?ht.Replace:ht.Push,{formMethod:Ie,formAction:je,formEncType:ct}=M.navigation;!me&&!ke&&Ie&&je&&ct&&(me=pp(M.navigation));let Ke=me||ke;if(ix.has(K.response.status)&&Ke&&Mn(Ke.formMethod))await Xe(xe,ve,{submission:ot({},Ke,{formAction:Ee}),preventScrollReset:Pe||G,enableViewTransition:te?re:void 0});else{let $e=cc(ve,me);await Xe(xe,ve,{overrideNavigation:$e,fetcherSubmission:ke,preventScrollReset:Pe||G,enableViewTransition:te?re:void 0})}}async function Yt(j,K,te,ie,me,ke){let Pe,we={};try{Pe=await hx(p,j,K,te,ie,me,ke,l,a)}catch(Ee){return ie.forEach(ve=>{we[ve.route.id]={type:qe.error,error:Ee}}),we}for(let[Ee,ve]of Object.entries(Pe))if(xx(ve)){let xe=ve.result;we[Ee]={type:qe.redirect,response:gx(xe,te,Ee,me,h,v.v7_relativeSplatPath)}}else we[Ee]=await mx(ve);return we}async function rn(j,K,te,ie,me){let ke=j.matches,Pe=Yt("loader",j,me,te,K,null),we=Promise.all(ie.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let je=(await Yt("loader",j,qo(e.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:je}}else return Promise.resolve({[xe.key]:{type:qe.error,error:Vt(404,{pathname:xe.path})}})})),Ee=await Pe,ve=(await we).reduce((xe,Ie)=>Object.assign(xe,Ie),{});return await Promise.all([Ex(K,Ee,me.signal,ke,j.loaderData),Cx(K,ve,ie)]),{loaderResults:Ee,fetcherResults:ve}}function Kt(){U=!0,H.push(...ln()),se.forEach((j,K)=>{I.has(K)&&F.add(K),Xt(K)})}function Nt(j,K,te){te===void 0&&(te={}),M.fetchers.set(j,K),ge({fetchers:new Map(M.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Rt(j,K,te,ie){ie===void 0&&(ie={});let me=co(M.matches,K);sn(j),ge({errors:{[me.route.id]:te},fetchers:new Map(M.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function on(j){return oe.set(j,(oe.get(j)||0)+1),ue.has(j)&&ue.delete(j),M.fetchers.get(j)||sx}function sn(j){let K=M.fetchers.get(j);I.has(j)&&!(K&&K.state==="loading"&&b.has(j))&&Xt(j),se.delete(j),b.delete(j),Q.delete(j),v.v7_fetcherPersist&&ue.delete(j),F.delete(j),M.fetchers.delete(j)}function hi(j){let K=(oe.get(j)||0)-1;K<=0?(oe.delete(j),ue.add(j),v.v7_fetcherPersist||sn(j)):oe.set(j,K),ge({fetchers:new Map(M.fetchers)})}function Xt(j){let K=I.get(j);K&&(K.abort(),I.delete(j))}function Br(j){for(let K of j){let te=on(K),ie=Fr(te.data);M.fetchers.set(K,ie)}}function Co(){let j=[],K=!1;for(let te of Q){let ie=M.fetchers.get(te);Ve(ie,"Expected fetcher: "+te),ie.state==="loading"&&(Q.delete(te),j.push(te),K=!0)}return Br(j),K}function dr(j){let K=[];for(let[te,ie]of b)if(ie<j){let me=M.fetchers.get(te);Ve(me,"Expected fetcher: "+te),me.state==="loading"&&(Xt(te),b.delete(te),K.push(te))}return Br(K),K.length>0}function Ur(j,K){let te=M.blockers.get(j)||Ki;return de.get(j)!==K&&de.set(j,K),te}function fr(j){M.blockers.delete(j),de.delete(j)}function Rn(j,K){let te=M.blockers.get(j)||Ki;Ve(te.state==="unblocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="blocked"||te.state==="blocked"&&K.state==="proceeding"||te.state==="blocked"&&K.state==="unblocked"||te.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+te.state+" -> "+K.state);let ie=new Map(M.blockers);ie.set(j,K),ge({blockers:ie})}function hr(j){let{currentLocation:K,nextLocation:te,historyAction:ie}=j;if(de.size===0)return;de.size>1&&oi(!1,"A router only supports one blocker at a time");let me=Array.from(de.entries()),[ke,Pe]=me[me.length-1],we=M.blockers.get(ke);if(!(we&&we.state==="proceeding")&&Pe({currentLocation:K,nextLocation:te,historyAction:ie}))return ke}function an(j){let K=Vt(404,{pathname:j}),te=d||c,{matches:ie,route:me}=fp(te);return ln(),{notFoundMatches:ie,route:me,error:K}}function ln(j){let K=[];return pe.forEach((te,ie)=>{(!j||j(ie))&&(te.cancel(),K.push(ie),pe.delete(ie))}),K}function No(j,K,te){if(N=j,S=K,w=te||null,!_&&M.navigation===uc){_=!0;let ie=Yr(M.location,M.matches);ie!=null&&ge({restoreScrollPosition:ie})}return()=>{N=null,S=null,w=null}}function Wr(j,K){return w&&w(j,K.map(ie=>jv(ie,M.loaderData)))||j.key}function Qr(j,K){if(N&&S){let te=Wr(j,K);N[te]=S()}}function Yr(j,K){if(N){let te=Wr(j,K),ie=N[te];if(typeof ie=="number")return ie}return null}function Yn(j,K,te){if(m)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Va(K,te,h,!0)}}else return{active:!0,matches:Va(K,te,h,!0)||[]};return{active:!1,matches:null}}async function In(j,K,te,ie){if(!m)return{type:"success",matches:j};let me=j;for(;;){let ke=d==null,Pe=d||c,we=l;try{await m({signal:te,path:K,matches:me,fetcherKey:ie,patch:(xe,Ie)=>{te.aborted||sp(xe,Ie,Pe,we,a)}})}catch(xe){return{type:"error",error:xe,partialMatches:me}}finally{ke&&!te.aborted&&(c=[...c])}if(te.aborted)return{type:"aborted"};let Ee=uo(Pe,K,h);if(Ee)return{type:"success",matches:Ee};let ve=Va(Pe,K,h,!0);if(!ve||me.length===ve.length&&me.every((xe,Ie)=>xe.route.id===ve[Ie].route.id))return{type:"success",matches:null};me=ve}}function ko(j){l={},d=Ka(j,a,void 0,l)}function Kn(j,K){let te=d==null;sp(j,K,d||c,l,a),te&&(c=[...c],ge({}))}return V={get basename(){return h},get future(){return v},get state(){return M},get routes(){return c},get window(){return r},initialize:fe,subscribe:Ae,enableScrollRestoration:No,navigate:be,fetch:Pt,revalidate:He,createHref:j=>e.history.createHref(j),encodeLocation:j=>e.history.encodeLocation(j),getFetcher:on,deleteFetcher:hi,dispose:_e,getBlocker:Ur,deleteBlocker:fr,patchRoutes:Kn,_internalFetchControllers:I,_internalActiveDeferreds:pe,_internalSetRoutes:ko},V}function ux(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Dc(e,r,o,s,a,l,c,d){let h,p;if(c){h=[];for(let v of r)if(h.push(v),v.route.id===c){p=v;break}}else h=r,p=r[r.length-1];let m=Gc(a||".",Xc(h,l),fi(e.pathname,o)||e.pathname,d==="path");if(a==null&&(m.search=e.search,m.hash=e.hash),(a==null||a===""||a===".")&&p){let v=Jc(m.search);if(p.route.index&&!v)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&v){let y=new URLSearchParams(m.search),x=y.getAll("index");y.delete("index"),x.filter(w=>w).forEach(w=>y.append("index",w));let N=y.toString();m.search=N?"?"+N:""}}return s&&o!=="/"&&(m.pathname=m.pathname==="/"?o:ar([o,m.pathname])),yo(m)}function np(e,r,o,s){if(!s||!ux(s))return{path:o};if(s.formMethod&&!Sx(s.formMethod))return{path:o,error:Vt(405,{method:s.formMethod})};let a=()=>({path:o,error:Vt(400,{type:"invalid-body"})}),l=s.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),d=Fm(o);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Mn(c))return a();let y=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((x,N)=>{let[w,S]=N;return""+x+w+"="+S+`
`},""):String(s.body);return{path:o,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:void 0,text:y}}}else if(s.formEncType==="application/json"){if(!Mn(c))return a();try{let y=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:o,submission:{formMethod:c,formAction:d,formEncType:s.formEncType,formData:void 0,json:y,text:void 0}}}catch{return a()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let h,p;if(s.formData)h=Pc(s.formData),p=s.formData;else if(s.body instanceof FormData)h=Pc(s.body),p=s.body;else if(s.body instanceof URLSearchParams)h=s.body,p=lp(h);else if(s.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(s.body),p=lp(h)}catch{return a()}let m={formMethod:c,formAction:d,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Mn(m.formMethod))return{path:o,submission:m};let v=Hr(o);return r&&v.search&&Jc(v.search)&&h.append("index",""),v.search="?"+h,{path:yo(v),submission:m}}function rp(e,r,o){o===void 0&&(o=!1);let s=e.findIndex(a=>a.route.id===r);return s>=0?e.slice(0,o?s+1:s):e}function op(e,r,o,s,a,l,c,d,h,p,m,v,y,x,N,w){let S=w?en(w[1])?w[1].error:w[1].data:void 0,_=e.createURL(r.location),T=e.createURL(a),C=o;l&&r.errors?C=rp(o,Object.keys(r.errors)[0],!0):w&&en(w[1])&&(C=rp(o,w[0]));let D=w?w[1].statusCode:void 0,A=c&&D&&D>=400,V=C.filter((z,G)=>{let{route:ne}=z;if(ne.lazy)return!0;if(ne.loader==null)return!1;if(l)return Tc(ne,r.loaderData,r.errors);if(cx(r.loaderData,r.matches[G],z)||h.some(q=>q===z.route.id))return!0;let re=r.matches[G],L=z;return ip(z,ot({currentUrl:_,currentParams:re.params,nextUrl:T,nextParams:L.params},s,{actionResult:S,actionStatus:D,defaultShouldRevalidate:A?!1:d||_.pathname+_.search===T.pathname+T.search||_.search!==T.search||Am(re,L)}))}),M=[];return v.forEach((z,G)=>{if(l||!o.some(O=>O.route.id===z.routeId)||m.has(G))return;let ne=uo(x,z.path,N);if(!ne){M.push({key:G,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let re=r.fetchers.get(G),L=Ji(ne,z.path),q=!1;y.has(G)?q=!1:p.has(G)?(p.delete(G),q=!0):re&&re.state!=="idle"&&re.data===void 0?q=d:q=ip(L,ot({currentUrl:_,currentParams:r.matches[r.matches.length-1].params,nextUrl:T,nextParams:o[o.length-1].params},s,{actionResult:S,actionStatus:D,defaultShouldRevalidate:A?!1:d})),q&&M.push({key:G,routeId:z.routeId,path:z.path,matches:ne,match:L,controller:new AbortController})}),[V,M]}function Tc(e,r,o){if(e.lazy)return!0;if(!e.loader)return!1;let s=r!=null&&r[e.id]!==void 0,a=o!=null&&o[e.id]!==void 0;return!s&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!a}function cx(e,r,o){let s=!r||o.route.id!==r.route.id,a=e[o.route.id]===void 0;return s||a}function Am(e,r){let o=e.route.path;return e.pathname!==r.pathname||o!=null&&o.endsWith("*")&&e.params["*"]!==r.params["*"]}function ip(e,r){if(e.route.shouldRevalidate){let o=e.route.shouldRevalidate(r);if(typeof o=="boolean")return o}return r.defaultShouldRevalidate}function sp(e,r,o,s,a){var l;let c;if(e){let p=s[e];Ve(p,"No route found to patch children into: routeId = "+e),p.children||(p.children=[]),c=p.children}else c=o;let d=r.filter(p=>!c.some(m=>jm(p,m))),h=Ka(d,a,[e||"_","patch",String(((l=c)==null?void 0:l.length)||"0")],s);c.push(...h)}function jm(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((o,s)=>{var a;return(a=r.children)==null?void 0:a.some(l=>jm(o,l))}):!1}async function dx(e,r,o){if(!e.lazy)return;let s=await e.lazy();if(!e.lazy)return;let a=o[e.id];Ve(a,"No route found in manifest");let l={};for(let c in s){let h=a[c]!==void 0&&c!=="hasErrorBoundary";oi(!h,'Route "'+a.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!h&&!Lv.has(c)&&(l[c]=s[c])}Object.assign(a,l),Object.assign(a,ot({},r(a),{lazy:void 0}))}async function fx(e){let{matches:r}=e,o=r.filter(a=>a.shouldLoad);return(await Promise.all(o.map(a=>a.resolve()))).reduce((a,l,c)=>Object.assign(a,{[o[c].route.id]:l}),{})}async function hx(e,r,o,s,a,l,c,d,h,p){let m=l.map(x=>x.route.lazy?dx(x.route,h,d):void 0),v=l.map((x,N)=>{let w=m[N],S=a.some(T=>T.route.id===x.route.id);return ot({},x,{shouldLoad:S,resolve:async T=>(T&&s.method==="GET"&&(x.route.lazy||x.route.loader)&&(S=!0),S?px(r,s,x,w,T,p):Promise.resolve({type:qe.data,result:void 0}))})}),y=await e({matches:v,request:s,params:l[0].params,fetcherKey:c,context:p});try{await Promise.all(m)}catch{}return y}async function px(e,r,o,s,a,l){let c,d,h=p=>{let m,v=new Promise((N,w)=>m=w);d=()=>m(),r.signal.addEventListener("abort",d);let y=N=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+o.route.id+"]"))):p({request:r,params:o.params,context:l},...N!==void 0?[N]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(w=>y(w)):y())}}catch(N){return{type:"error",result:N}}})();return Promise.race([x,v])};try{let p=o.route[e];if(s)if(p){let m,[v]=await Promise.all([h(p).catch(y=>{m=y}),s]);if(m!==void 0)throw m;c=v}else if(await s,p=o.route[e],p)c=await h(p);else if(e==="action"){let m=new URL(r.url),v=m.pathname+m.search;throw Vt(405,{method:r.method,pathname:v,routeId:o.route.id})}else return{type:qe.data,result:void 0};else if(p)c=await h(p);else{let m=new URL(r.url),v=m.pathname+m.search;throw Vt(404,{pathname:v})}Ve(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+o.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:qe.error,result:p}}finally{d&&r.signal.removeEventListener("abort",d)}return c}async function mx(e){let{result:r,type:o}=e;if(zm(r)){let v;try{let y=r.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?r.body==null?v=null:v=await r.json():v=await r.text()}catch(y){return{type:qe.error,error:y}}return o===qe.error?{type:qe.error,error:new Xa(r.status,r.statusText,v),statusCode:r.status,headers:r.headers}:{type:qe.data,data:v,statusCode:r.status,headers:r.headers}}if(o===qe.error){if(hp(r)){var s,a;if(r.data instanceof Error){var l,c;return{type:qe.error,error:r.data,statusCode:(l=r.init)==null?void 0:l.status,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}}return{type:qe.error,error:new Xa(((s=r.init)==null?void 0:s.status)||500,void 0,r.data),statusCode:is(r)?r.status:void 0,headers:(a=r.init)!=null&&a.headers?new Headers(r.init.headers):void 0}}return{type:qe.error,error:r,statusCode:is(r)?r.status:void 0}}if(wx(r)){var d,h;return{type:qe.deferred,deferredData:r,statusCode:(d=r.init)==null?void 0:d.status,headers:((h=r.init)==null?void 0:h.headers)&&new Headers(r.init.headers)}}if(hp(r)){var p,m;return{type:qe.data,data:r.data,statusCode:(p=r.init)==null?void 0:p.status,headers:(m=r.init)!=null&&m.headers?new Headers(r.init.headers):void 0}}return{type:qe.data,data:r}}function gx(e,r,o,s,a,l){let c=e.headers.get("Location");if(Ve(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zc.test(c)){let d=s.slice(0,s.findIndex(h=>h.route.id===o)+1);c=Dc(new URL(r.url),d,a,!0,c,l),e.headers.set("Location",c)}return e}function ap(e,r,o){if(Zc.test(e)){let s=e,a=s.startsWith("//")?new URL(r.protocol+s):new URL(s),l=fi(a.pathname,o)!=null;if(a.origin===r.origin&&l)return a.pathname+a.search+a.hash}return e}function qo(e,r,o,s){let a=e.createURL(Fm(r)).toString(),l={signal:o};if(s&&Mn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Pc(s.formData):l.body=s.formData}return new Request(a,l)}function Pc(e){let r=new URLSearchParams;for(let[o,s]of e.entries())r.append(o,typeof s=="string"?s:s.name);return r}function lp(e){let r=new FormData;for(let[o,s]of e.entries())r.append(o,s);return r}function yx(e,r,o,s,a){let l={},c=null,d,h=!1,p={},m=o&&en(o[1])?o[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in r))return;let y=v.route.id,x=r[y];if(Ve(!ho(x),"Cannot handle redirect results in processLoaderData"),en(x)){let N=x.error;m!==void 0&&(N=m,m=void 0),c=c||{};{let w=co(e,y);c[w.route.id]==null&&(c[w.route.id]=N)}l[y]=void 0,h||(h=!0,d=is(x.error)?x.error.status:500),x.headers&&(p[y]=x.headers)}else $r(x)?(s.set(y,x.deferredData),l[y]=x.deferredData.data,x.statusCode!=null&&x.statusCode!==200&&!h&&(d=x.statusCode),x.headers&&(p[y]=x.headers)):(l[y]=x.data,x.statusCode&&x.statusCode!==200&&!h&&(d=x.statusCode),x.headers&&(p[y]=x.headers))}),m!==void 0&&o&&(c={[o[0]]:m},l[o[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:p}}function up(e,r,o,s,a,l,c){let{loaderData:d,errors:h}=yx(r,o,s,c);return a.forEach(p=>{let{key:m,match:v,controller:y}=p,x=l[m];if(Ve(x,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(en(x)){let N=co(e.matches,v?.route.id);h&&h[N.route.id]||(h=ot({},h,{[N.route.id]:x.error})),e.fetchers.delete(m)}else if(ho(x))Ve(!1,"Unhandled fetcher revalidation redirect");else if($r(x))Ve(!1,"Unhandled fetcher deferred data");else{let N=Fr(x.data);e.fetchers.set(m,N)}}),{loaderData:d,errors:h}}function cp(e,r,o,s){let a=ot({},r);for(let l of o){let c=l.route.id;if(r.hasOwnProperty(c)?r[c]!==void 0&&(a[c]=r[c]):e[c]!==void 0&&l.route.loader&&(a[c]=e[c]),s&&s.hasOwnProperty(c))break}return a}function dp(e){return e?en(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function co(e,r){return(r?e.slice(0,e.findIndex(s=>s.route.id===r)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function fp(e){let r=e.length===1?e[0]:e.find(o=>o.index||!o.path||o.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function Vt(e,r){let{pathname:o,routeId:s,method:a,type:l,message:c}=r===void 0?{}:r,d="Unknown Server Error",h="Unknown @remix-run/router error";return e===400?(d="Bad Request",a&&o&&s?h="You made a "+a+' request to "'+o+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":l==="defer-action"?h="defer() is not supported in actions":l==="invalid-body"&&(h="Unable to encode submission body")):e===403?(d="Forbidden",h='Route "'+s+'" does not match URL "'+o+'"'):e===404?(d="Not Found",h='No route matches URL "'+o+'"'):e===405&&(d="Method Not Allowed",a&&o&&s?h="You made a "+a.toUpperCase()+' request to "'+o+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":a&&(h='Invalid request method "'+a.toUpperCase()+'"')),new Xa(e||500,d,new Error(h),!0)}function Da(e){let r=Object.entries(e);for(let o=r.length-1;o>=0;o--){let[s,a]=r[o];if(ho(a))return{key:s,result:a}}}function Fm(e){let r=typeof e=="string"?Hr(e):e;return yo(ot({},r,{hash:""}))}function vx(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function xx(e){return zm(e.result)&&ox.has(e.result.status)}function $r(e){return e.type===qe.deferred}function en(e){return e.type===qe.error}function ho(e){return(e&&e.type)===qe.redirect}function hp(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function wx(e){let r=e;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function zm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Sx(e){return rx.has(e.toLowerCase())}function Mn(e){return tx.has(e.toLowerCase())}async function Ex(e,r,o,s,a){let l=Object.entries(r);for(let c=0;c<l.length;c++){let[d,h]=l[c],p=e.find(y=>y?.route.id===d);if(!p)continue;let m=s.find(y=>y.route.id===p.route.id),v=m!=null&&!Am(m,p)&&(a&&a[p.route.id])!==void 0;$r(h)&&v&&await qc(h,o,!1).then(y=>{y&&(r[d]=y)})}}async function Cx(e,r,o){for(let s=0;s<o.length;s++){let{key:a,routeId:l,controller:c}=o[s],d=r[a];e.find(p=>p?.route.id===l)&&$r(d)&&(Ve(c,"Expected an AbortController for revalidating fetcher deferred result"),await qc(d,c.signal,!0).then(p=>{p&&(r[a]=p)}))}}async function qc(e,r,o){if(o===void 0&&(o=!1),!await e.deferredData.resolveData(r)){if(o)try{return{type:qe.data,data:e.deferredData.unwrappedData}}catch(a){return{type:qe.error,error:a}}return{type:qe.data,data:e.deferredData.data}}}function Jc(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function Ji(e,r){let o=typeof r=="string"?Hr(r).search:r.search;if(e[e.length-1].route.index&&Jc(o||""))return e[e.length-1];let s=Rm(e);return s[s.length-1]}function pp(e){let{formMethod:r,formAction:o,formEncType:s,text:a,formData:l,json:c}=e;if(!(!r||!o||!s)){if(a!=null)return{formMethod:r,formAction:o,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:r,formAction:o,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:r,formAction:o,formEncType:s,formData:void 0,json:c,text:void 0}}}function cc(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nx(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Xi(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function kx(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function Fr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _x(e,r){try{let o=e.sessionStorage.getItem(Lm);if(o){let s=JSON.parse(o);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&r.set(a,new Set(l||[]))}}catch{}}function Mx(e,r){if(r.size>0){let o={};for(let[s,a]of r)o[s]=[...a];try{e.sessionStorage.setItem(Lm,JSON.stringify(o))}catch(s){oi(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},Ga.apply(this,arguments)}const cl=P.createContext(null),$m=P.createContext(null),So=P.createContext(null),ed=P.createContext(null),Eo=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Vm=P.createContext(null);function bx(e,r){let{relative:o}=r===void 0?{}:r;ws()||Ve(!1);let{basename:s,navigator:a}=P.useContext(So),{hash:l,pathname:c,search:d}=Bm(e,{relative:o}),h=c;return s!=="/"&&(h=c==="/"?s:ar([s,c])),a.createHref({pathname:h,search:d,hash:l})}function ws(){return P.useContext(ed)!=null}function dl(){return ws()||Ve(!1),P.useContext(ed).location}function Hm(e){P.useContext(So).static||P.useLayoutEffect(e)}function Dx(){let{isDataRoute:e}=P.useContext(Eo);return e?Vx():Tx()}function Tx(){ws()||Ve(!1);let e=P.useContext(cl),{basename:r,future:o,navigator:s}=P.useContext(So),{matches:a}=P.useContext(Eo),{pathname:l}=dl(),c=JSON.stringify(Xc(a,o.v7_relativeSplatPath)),d=P.useRef(!1);return Hm(()=>{d.current=!0}),P.useCallback(function(p,m){if(m===void 0&&(m={}),!d.current)return;if(typeof p=="number"){s.go(p);return}let v=Gc(p,JSON.parse(c),l,m.relative==="path");e==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:ar([r,v.pathname])),(m.replace?s.replace:s.push)(v,m.state,m)},[r,s,c,l,e])}function Bm(e,r){let{relative:o}=r===void 0?{}:r,{future:s}=P.useContext(So),{matches:a}=P.useContext(Eo),{pathname:l}=dl(),c=JSON.stringify(Xc(a,s.v7_relativeSplatPath));return P.useMemo(()=>Gc(e,JSON.parse(c),l,o==="path"),[e,c,l,o])}function Px(e,r,o,s){ws()||Ve(!1);let{navigator:a}=P.useContext(So),{matches:l}=P.useContext(Eo),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=dl(),m;m=p;let v=m.pathname||"/",y=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=uo(e,{pathname:y});return Ax(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:ar([h,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:ar([h,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,o,s)}function Ox(){let e=$x(),r=is(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},r),o?P.createElement("pre",{style:a},o):null,null)}const Rx=P.createElement(Ox,null);class Ix extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?P.createElement(Eo.Provider,{value:this.props.routeContext},P.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(e){let{routeContext:r,match:o,children:s}=e,a=P.useContext(cl);return a&&a.static&&a.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=o.route.id),P.createElement(Eo.Provider,{value:r},s)}function Ax(e,r,o,s){var a;if(r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),e==null){var l;if(!o)return null;if(o.errors)e=o.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let c=e,d=(a=o)==null?void 0:a.errors;if(d!=null){let m=c.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);m>=0||Ve(!1),c=c.slice(0,Math.min(c.length,m+1))}let h=!1,p=-1;if(o&&s&&s.v7_partialHydration)for(let m=0;m<c.length;m++){let v=c[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:y,errors:x}=o,N=v.route.loader&&y[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||N){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,v,y)=>{let x,N=!1,w=null,S=null;o&&(x=d&&v.route.id?d[v.route.id]:void 0,w=v.route.errorElement||Rx,h&&(p<0&&y===0?(Hx("route-fallback"),N=!0,S=null):p===y&&(N=!0,S=v.route.hydrateFallbackElement||null)));let _=r.concat(c.slice(0,y+1)),T=()=>{let C;return x?C=w:N?C=S:v.route.Component?C=P.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=m,P.createElement(Lx,{match:v,routeContext:{outlet:m,matches:_,isDataRoute:o!=null},children:C})};return o&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?P.createElement(Ix,{location:o.location,revalidation:o.revalidation,component:w,error:x,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var Um=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Um||{}),Wm=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Wm||{});function jx(e){let r=P.useContext(cl);return r||Ve(!1),r}function Fx(e){let r=P.useContext($m);return r||Ve(!1),r}function zx(e){let r=P.useContext(Eo);return r||Ve(!1),r}function Qm(e){let r=zx(),o=r.matches[r.matches.length-1];return o.route.id||Ve(!1),o.route.id}function $x(){var e;let r=P.useContext(Vm),o=Fx(),s=Qm();return r!==void 0?r:(e=o.errors)==null?void 0:e[s]}function Vx(){let{router:e}=jx(Um.UseNavigateStable),r=Qm(Wm.UseNavigateStable),o=P.useRef(!1);return Hm(()=>{o.current=!0}),P.useCallback(function(a,l){l===void 0&&(l={}),o.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ga({fromRouteId:r},l)))},[e,r])}const mp={};function Hx(e,r,o){mp[e]||(mp[e]=!0)}function Bx(e,r){e?.v7_startTransition,e?.v7_relativeSplatPath===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function Ux(e){let{basename:r="/",children:o=null,location:s,navigationType:a=ht.Pop,navigator:l,static:c=!1,future:d}=e;ws()&&Ve(!1);let h=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:h,navigator:l,static:c,future:Ga({v7_relativeSplatPath:!1},d)}),[h,d,l,c]);typeof s=="string"&&(s=Hr(s));let{pathname:m="/",search:v="",hash:y="",state:x=null,key:N="default"}=s,w=P.useMemo(()=>{let S=fi(m,h);return S==null?null:{location:{pathname:S,search:v,hash:y,state:x,key:N},navigationType:a}},[h,m,v,y,x,N,a]);return w==null?null:P.createElement(So.Provider,{value:p},P.createElement(ed.Provider,{children:o,value:w}))}new Promise(()=>{});function Wx(e){let r={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(r,{element:P.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:P.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(r,{errorElement:P.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},ss.apply(this,arguments)}function Qx(e,r){if(e==null)return{};var o={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(r.indexOf(a)>=0)&&(o[a]=e[a]);return o}function Yx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kx(e,r){return e.button===0&&(!r||r==="_self")&&!Yx(e)}const Xx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gx="6";try{window.__reactRouterVersion=Gx}catch{}function Zx(e,r){return lx({basename:void 0,future:ss({},void 0,{v7_prependBasename:!0}),history:Ov({window:void 0}),hydrationData:qx(),routes:e,mapRouteProperties:Wx,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function qx(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=ss({},r,{errors:Jx(r.errors)})),r}function Jx(e){if(!e)return null;let r=Object.entries(e),o={};for(let[s,a]of r)if(a&&a.__type==="RouteErrorResponse")o[s]=new Xa(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",o[s]=c}catch{}}if(o[s]==null){let l=new Error(a.message);l.stack="",o[s]=l}}else o[s]=a;return o}const ew=P.createContext({isTransitioning:!1}),tw=P.createContext(new Map),nw="startTransition",gp=Nv[nw],rw="flushSync",yp=Pv[rw];function ow(e){gp?gp(e):e()}function Gi(e){yp?yp(e):e()}class iw{constructor(){this.status="pending",this.promise=new Promise((r,o)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",r(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",o(s))}})}}function sw(e){let{fallbackElement:r,router:o,future:s}=e,[a,l]=P.useState(o.state),[c,d]=P.useState(),[h,p]=P.useState({isTransitioning:!1}),[m,v]=P.useState(),[y,x]=P.useState(),[N,w]=P.useState(),S=P.useRef(new Map),{v7_startTransition:_}=s||{},T=P.useCallback(z=>{_?ow(z):z()},[_]),C=P.useCallback((z,G)=>{let{deletedFetchers:ne,flushSync:re,viewTransitionOpts:L}=G;z.fetchers.forEach((O,U)=>{O.data!==void 0&&S.current.set(U,O.data)}),ne.forEach(O=>S.current.delete(O));let q=o.window==null||o.window.document==null||typeof o.window.document.startViewTransition!="function";if(!L||q){re?Gi(()=>l(z)):T(()=>l(z));return}if(re){Gi(()=>{y&&(m&&m.resolve(),y.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let O=o.window.document.startViewTransition(()=>{Gi(()=>l(z))});O.finished.finally(()=>{Gi(()=>{v(void 0),x(void 0),d(void 0),p({isTransitioning:!1})})}),Gi(()=>x(O));return}y?(m&&m.resolve(),y.skipTransition(),w({state:z,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(d(z),p({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[o.window,y,m,S,T]);P.useLayoutEffect(()=>o.subscribe(C),[o,C]),P.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new iw)},[h]),P.useEffect(()=>{if(m&&c&&o.window){let z=c,G=m.promise,ne=o.window.document.startViewTransition(async()=>{T(()=>l(z)),await G});ne.finished.finally(()=>{v(void 0),x(void 0),d(void 0),p({isTransitioning:!1})}),x(ne)}},[T,c,m,o.window]),P.useEffect(()=>{m&&c&&a.location.key===c.location.key&&m.resolve()},[m,y,a.location,c]),P.useEffect(()=>{!h.isTransitioning&&N&&(d(N.state),p({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),w(void 0))},[h.isTransitioning,N]),P.useEffect(()=>{},[]);let D=P.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:z=>o.navigate(z),push:(z,G,ne)=>o.navigate(z,{state:G,preventScrollReset:ne?.preventScrollReset}),replace:(z,G,ne)=>o.navigate(z,{replace:!0,state:G,preventScrollReset:ne?.preventScrollReset})}),[o]),A=o.basename||"/",V=P.useMemo(()=>({router:o,navigator:D,static:!1,basename:A}),[o,D,A]),M=P.useMemo(()=>({v7_relativeSplatPath:o.future.v7_relativeSplatPath}),[o.future.v7_relativeSplatPath]);return P.useEffect(()=>Bx(s,o.future),[s,o.future]),P.createElement(P.Fragment,null,P.createElement(cl.Provider,{value:V},P.createElement($m.Provider,{value:a},P.createElement(tw.Provider,{value:S.current},P.createElement(ew.Provider,{value:h},P.createElement(Ux,{basename:A,location:a.location,navigationType:a.historyAction,navigator:D,future:M},a.initialized||o.future.v7_partialHydration?P.createElement(aw,{routes:o.routes,future:o.future,state:a}):r))))),null)}const aw=P.memo(lw);function lw(e){let{routes:r,future:o,state:s}=e;return Px(r,void 0,s,o)}const uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=P.forwardRef(function(r,o){let{onClick:s,relative:a,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:m,viewTransition:v}=r,y=Qx(r,Xx),{basename:x}=P.useContext(So),N,w=!1;if(typeof p=="string"&&cw.test(p)&&(N=p,uw))try{let C=new URL(window.location.href),D=p.startsWith("//")?new URL(C.protocol+p):new URL(p),A=fi(D.pathname,x);D.origin===C.origin&&A!=null?p=A+D.search+D.hash:w=!0}catch{}let S=bx(p,{relative:a}),_=fw(p,{replace:c,state:d,target:h,preventScrollReset:m,relative:a,viewTransition:v});function T(C){s&&s(C),C.defaultPrevented||_(C)}return P.createElement("a",ss({},y,{href:N||S,onClick:w||l?s:T,ref:o,target:h}))});var vp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vp||(vp={}));var xp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xp||(xp={}));function fw(e,r){let{target:o,replace:s,state:a,preventScrollReset:l,relative:c,viewTransition:d}=r===void 0?{}:r,h=Dx(),p=dl(),m=Bm(e,{relative:c});return P.useCallback(v=>{if(Kx(v,o)){v.preventDefault();let y=s!==void 0?s:yo(p)===yo(m);h(e,{replace:y,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[p,h,m,s,a,o,e,l,c,d])}const hw={},wp=e=>{let r;const o=new Set,s=(m,v)=>{const y=typeof m=="function"?m(r):m;if(!Object.is(y,r)){const x=r;r=v??(typeof y!="object"||y===null)?y:Object.assign({},r,y),o.forEach(N=>N(r,x))}},a=()=>r,h={setState:s,getState:a,getInitialState:()=>p,subscribe:m=>(o.add(m),()=>o.delete(m)),destroy:()=>{(hw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},p=r=e(s,a,h);return h},Ym=e=>e?wp(e):wp;var dc={exports:{}},fc={},hc={exports:{}},pc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function pw(){if(Sp)return pc;Sp=1;var e=xs();function r(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var o=typeof Object.is=="function"?Object.is:r,s=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(v,y){var x=y(),N=s({inst:{value:x,getSnapshot:y}}),w=N[0].inst,S=N[1];return l(function(){w.value=x,w.getSnapshot=y,h(w)&&S({inst:w})},[v,x,y]),a(function(){return h(w)&&S({inst:w}),v(function(){h(w)&&S({inst:w})})},[v]),c(x),x}function h(v){var y=v.getSnapshot;v=v.value;try{var x=y();return!o(v,x)}catch{return!0}}function p(v,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return pc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,pc}var Ep;function mw(){return Ep||(Ep=1,hc.exports=pw()),hc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function gw(){if(Cp)return fc;Cp=1;var e=xs(),r=mw();function o(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var s=typeof Object.is=="function"?Object.is:o,a=r.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,h=e.useDebugValue;return fc.useSyncExternalStoreWithSelector=function(p,m,v,y,x){var N=l(null);if(N.current===null){var w={hasValue:!1,value:null};N.current=w}else w=N.current;N=d(function(){function _(V){if(!T){if(T=!0,C=V,V=y(V),x!==void 0&&w.hasValue){var M=w.value;if(x(M,V))return D=M}return D=V}if(M=D,s(C,V))return M;var z=y(V);return x!==void 0&&x(M,z)?(C=V,M):(C=V,D=z)}var T=!1,C,D,A=v===void 0?null:v;return[function(){return _(m())},A===null?void 0:function(){return _(A())}]},[m,v,y,x]);var S=a(p,N[0],N[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),h(S),S},fc}var Np;function yw(){return Np||(Np=1,dc.exports=gw()),dc.exports}var vw=yw();const Km=Kc(vw),Xm={},{useDebugValue:xw}=ul,{useSyncExternalStoreWithSelector:ww}=Km;let kp=!1;const Sw=e=>e;function Ew(e,r=Sw,o){(Xm?"production":void 0)!=="production"&&o&&!kp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kp=!0);const s=ww(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return xw(s),s}const Cw=e=>{(Xm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?Ym(e):e,o=(s,a)=>Ew(r,s,a);return Object.assign(o,r),o},Gm=e=>Cw,Ha={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Oc=new Map,Ta=e=>{const r=Oc.get(e);return r?Object.fromEntries(Object.entries(r.stores).map(([o,s])=>[o,s.getState()])):{}},Nw=(e,r,o)=>{if(e===void 0)return{type:"untracked",connection:r.connect(o)};const s=Oc.get(o.name);if(s)return{type:"tracked",store:e,...s};const a={connection:r.connect(o),stores:{}};return Oc.set(o.name,a),{type:"tracked",store:e,...a}},kw=(e,r={})=>(o,s,a)=>{const{enabled:l,anonymousActionType:c,store:d,...h}=r;let p;try{p=(l??(Ha?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return(Ha?"production":void 0)!=="production"&&l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(o,s,a);const{connection:m,...v}=Nw(d,p,h);let y=!0;a.setState=(w,S,_)=>{const T=o(w,S);if(!y)return T;const C=_===void 0?{type:c||"anonymous"}:typeof _=="string"?{type:_}:_;return d===void 0?(m?.send(C,s()),T):(m?.send({...C,type:`${d}/${C.type}`},{...Ta(h.name),[d]:a.getState()}),T)};const x=(...w)=>{const S=y;y=!1,o(...w),y=S},N=e(a.setState,s,a);if(v.type==="untracked"?m?.init(N):(v.stores[v.store]=a,m?.init(Object.fromEntries(Object.entries(v.stores).map(([w,S])=>[w,w===v.store?N:S.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let w=!1;const S=a.dispatch;a.dispatch=(..._)=>{(Ha?"production":void 0)!=="production"&&_[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),S(..._)}}return m.subscribe(w=>{var S;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return mc(w.payload,_=>{if(_.type==="__setState"){if(d===void 0){x(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=_.state[d];if(T==null)return;JSON.stringify(a.getState())!==JSON.stringify(T)&&x(T);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(_)});case"DISPATCH":switch(w.payload.type){case"RESET":return x(N),d===void 0?m?.init(a.getState()):m?.init(Ta(h.name));case"COMMIT":if(d===void 0){m?.init(a.getState());return}return m?.init(Ta(h.name));case"ROLLBACK":return mc(w.state,_=>{if(d===void 0){x(_),m?.init(a.getState());return}x(_[d]),m?.init(Ta(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return mc(w.state,_=>{if(d===void 0){x(_);return}JSON.stringify(a.getState())!==JSON.stringify(_[d])&&x(_[d])});case"IMPORT_STATE":{const{nextLiftedState:_}=w.payload,T=(S=_.computedStates.slice(-1)[0])==null?void 0:S.state;if(!T)return;x(d===void 0?T:T[d]),m?.send(null,_);return}case"PAUSE_RECORDING":return y=!y}return}}),N},Zm=kw,mc=(e,r)=>{let o;try{o=JSON.parse(e)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}o!==void 0&&r(o)};function _w(e,r){let o;try{o=e()}catch{return}return{getItem:a=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),d=(l=o.getItem(a))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(a,l)=>o.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>o.removeItem(a)}}const as=e=>r=>{try{const o=e(r);return o instanceof Promise?o:{then(s){return as(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return as(s)(o)}}}},Mw=(e,r)=>(o,s,a)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,_)=>({..._,...S}),...r},c=!1;const d=new Set,h=new Set;let p;try{p=l.getStorage()}catch{}if(!p)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),o(...S)},s,a);const m=as(l.serialize),v=()=>{const S=l.partialize({...s()});let _;const T=m({state:S,version:l.version}).then(C=>p.setItem(l.name,C)).catch(C=>{_=C});if(_)throw _;return T},y=a.setState;a.setState=(S,_)=>{y(S,_),v()};const x=e((...S)=>{o(...S),v()},s,a);let N;const w=()=>{var S;if(!p)return;c=!1,d.forEach(T=>T(s()));const _=((S=l.onRehydrateStorage)==null?void 0:S.call(l,s()))||void 0;return as(p.getItem.bind(p))(l.name).then(T=>{if(T)return l.deserialize(T)}).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==l.version){if(l.migrate)return l.migrate(T.state,T.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return T.state}).then(T=>{var C;return N=l.merge(T,(C=s())!=null?C:x),o(N,!0),v()}).then(()=>{_?.(N,void 0),c=!0,h.forEach(T=>T(N))}).catch(T=>{_?.(void 0,T)})};return a.persist={setOptions:S=>{l={...l,...S},S.getStorage&&(p=S.getStorage())},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>c,onHydrate:S=>(d.add(S),()=>{d.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},w(),N||x},bw=(e,r)=>(o,s,a)=>{let l={storage:_w(()=>localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...r},c=!1;const d=new Set,h=new Set;let p=l.storage;if(!p)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),o(...w)},s,a);const m=()=>{const w=l.partialize({...s()});return p.setItem(l.name,{state:w,version:l.version})},v=a.setState;a.setState=(w,S)=>{v(w,S),m()};const y=e((...w)=>{o(...w),m()},s,a);a.getInitialState=()=>y;let x;const N=()=>{var w,S;if(!p)return;c=!1,d.forEach(T=>{var C;return T((C=s())!=null?C:y)});const _=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(w=s())!=null?w:y))||void 0;return as(p.getItem.bind(p))(l.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==l.version){if(l.migrate)return[!0,l.migrate(T.state,T.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var C;const[D,A]=T;if(x=l.merge(A,(C=s())!=null?C:y),o(x,!0),D)return m()}).then(()=>{_?.(x,void 0),x=s(),c=!0,h.forEach(T=>T(x))}).catch(T=>{_?.(void 0,T)})};return a.persist={setOptions:w=>{l={...l,...w},w.storage&&(p=w.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>N(),hasHydrated:()=>c,onHydrate:w=>(d.add(w),()=>{d.delete(w)}),onFinishHydration:w=>(h.add(w),()=>{h.delete(w)})},l.skipHydration||N(),x||y},Dw=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Ha?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Mw(e,r)):bw(e,r),Tw=Dw,Pw=JSON.parse('[{"name":"2dehands","category":"Other"},{"name":"2ememain","category":"Other"},{"name":"6Sense","category":"Other"},{"name":"ActiGraph CentrePoint","category":"Other"},{"name":"Active Campaign","category":"Other"},{"name":"Ad Butler","category":"Other"},{"name":"Adobe Experience Manager","category":"Other"},{"name":"Adobe User Management","category":"Other"},{"name":"Adyen","category":"Other"},{"name":"Affinity CRM","category":"CRM"},{"name":"Aftership","category":"Other"},{"name":"Agile CRM","category":"Other"},{"name":"Aircall","category":"Other"},{"name":"Airtable","category":"Other"},{"name":"Amazon Ads","category":"Marketing & Advertising"},{"name":"Amazon Redshift","category":"Databases"},{"name":"Amazon S3","category":"File Systems"},{"name":"Amazon Seller Partner API","category":"E-Commerce"},{"name":"Amplitude","category":"Other"},{"name":"Ansible","category":"Other"},{"name":"Anthropic AI","category":"LLMs"},{"name":"Anvyl","category":"Other"},{"name":"Apache ActiveMQ","category":"Other"},{"name":"Apache Airflow","category":"Other"},{"name":"Apify","category":"Other"},{"name":"AppFollow","category":"Other"},{"name":"Apprl","category":"Other"},{"name":"Arts Vision","category":"Other"},{"name":"Asana","category":"Other"},{"name":"AT Internet","category":"Other"},{"name":"ATS Anywhere","category":"Other"},{"name":"Avaza","category":"Other"},{"name":"Aventri","category":"Other"},{"name":"AWS Athena","category":"Databases"},{"name":"AWS CloudWatch","category":"Other"},{"name":"AWS Kinesis Firehose","category":"Streaming"},{"name":"Azure AI Studio","category":"LLMs"},{"name":"Azure Blob Storage","category":"File Systems"},{"name":"Azure Data Lake","category":"File Systems"},{"name":"Azure Devops","category":"Other"},{"name":"Azure Synapse","category":"Databases"},{"name":"Bamboo HR","category":"Other"},{"name":"Basis DSP","category":"Marketing & Advertising"},{"name":"Bazaarvoice","category":"Other"},{"name":"Beekeeper","category":"Other"},{"name":"Beslist.nl","category":"Other"},{"name":"Better Proposals","category":"Other"},{"name":"Better Uptime","category":"Other"},{"name":"Bexio","category":"Other"},{"name":"Big Commerce Graph API","category":"E-Commerce"},{"name":"Big Commerce Store Management","category":"E-Commerce"},{"name":"Bill","category":"Other"},{"name":"Bitbucket Server","category":"Other"},{"name":"Blink","category":"Other"},{"name":"Bloomerang","category":"Other"},{"name":"Bloomreach","category":"Other"},{"name":"Box","category":"File Systems"},{"name":"Braze","category":"Marketing & Advertising"},{"name":"Brex","category":"Other"},{"name":"Browserstack","category":"Other"},{"name":"Bugherd","category":"Other"},{"name":"Button","category":"Other"},{"name":"Campaigner","category":"Marketing & Advertising"},{"name":"Capsule","category":"CRM"},{"name":"Certify","category":"Other"},{"name":"Chargeback","category":"Other"},{"name":"Chargebee","category":"Other"},{"name":"Choozle","category":"Other"},{"name":"CircleCI","category":"Other"},{"name":"Clever","category":"Other"},{"name":"Clever District","category":"Other"},{"name":"Clickwise","category":"Other"},{"name":"Clockify","category":"Other"},{"name":"Cognism","category":"Other"},{"name":"Collibra","category":"Data as a Service"},{"name":"Confluence","category":"Other"},{"name":"Confluent Kafka","category":"Streaming"},{"name":"Convert Kit","category":"Other"},{"name":"Convey","category":"Other"},{"name":"Copper","category":"Other"},{"name":"Corsano","category":"Other"},{"name":"Coupa","category":"Other"},{"name":"Criteo","category":"Marketing & Advertising"},{"name":"Crunchbase","category":"Data as a Service"},{"name":"Crunchbase Pro","category":"Data as a Service"},{"name":"Cue","category":"Other"},{"name":"data.world","category":"Data as a Service"},{"name":"Databricks","category":"Other"},{"name":"Datadog","category":"Other"},{"name":"dbt","category":"Other"},{"name":"Delighted","category":"Other"},{"name":"Delta Lake","category":"File Systems"},{"name":"Delta Lake on AWS S3","category":"File Systems"},{"name":"Delta Lake on Azure Blob","category":"File Systems"},{"name":"Delta Lake on Azure Data Lake","category":"File Systems"},{"name":"Discord","category":"Other"},{"name":"Dixa","category":"Other"},{"name":"Docker","category":"Other"},{"name":"Domo","category":"Other"},{"name":"Dropbox","category":"File Systems"},{"name":"DynamoDB","category":"Other"},{"name":"Elasticsearch","category":"Databases"},{"name":"ELT Script Runner","category":"Other"},{"name":"Email Destination","category":"Other"},{"name":"Email Source","category":"Other"},{"name":"Emma","category":"Other"},{"name":"Everhour","category":"Other"},{"name":"Expensify","category":"Other"},{"name":"Extole","category":"Other"},{"name":"FDA","category":"Data as a Service"},{"name":"File Upload","category":"Other"},{"name":"Fingerbank","category":"Cybersecurity"},{"name":"Firebase","category":"Other"},{"name":"Firebolt","category":"Other"},{"name":"Fivetran","category":"Other"},{"name":"Fixer","category":"Other"},{"name":"Foursquare","category":"Other"},{"name":"Freshsales","category":"CRM"},{"name":"Freshservice","category":"Other"},{"name":"Front","category":"Other"},{"name":"FTP, SFTP, FTPS","category":"File Systems"},{"name":"Fulcrum","category":"Other"},{"name":"FullContact","category":"Other"},{"name":"Gainsight CS","category":"CRM"},{"name":"Gem","category":"Other"},{"name":"Github","category":"Other"},{"name":"Glean","category":"Other"},{"name":"Go Daddy","category":"Other"},{"name":"Google Ads","category":"Marketing & Advertising"},{"name":"Google AlloyDB","category":"Databases"},{"name":"Google Analytics","category":"Marketing & Advertising"},{"name":"Google BigQuery","category":"Databases"},{"name":"Google BigQuery API","category":"Databases"},{"name":"Google Cloud Spanner","category":"Databases"},{"name":"Google Cloud SQL MySQL","category":"Databases"},{"name":"Google Cloud SQL PostgreSQL","category":"Databases"},{"name":"Google Cloud Storage","category":"File Systems"},{"name":"Google CloudSQL SQLServer","category":"Databases"},{"name":"Google Drive","category":"File Systems"},{"name":"Google Gemini","category":"LLMs"},{"name":"Google Gmail Postmaster","category":"Other"},{"name":"Google Merchant Center","category":"Other"},{"name":"Google Pub Sub","category":"Streaming"},{"name":"Google Search Ads 360","category":"Marketing & Advertising"},{"name":"Grade us","category":"Other"},{"name":"GraphQL API","category":"Generic APIs"},{"name":"Greenhouse","category":"Other"},{"name":"Grok by xAI","category":"LLMs"},{"name":"Harvest","category":"Other"},{"name":"HelloSign","category":"Other"},{"name":"Heureka","category":"Other"},{"name":"HiBob","category":"Other"},{"name":"Hightouch","category":"Data as a Service"},{"name":"Hive","category":"Databases"},{"name":"Hive HR","category":"Databases"},{"name":"Hootsuite","category":"Other"},{"name":"Hotjar","category":"Other"},{"name":"Hotmart","category":"Other"},{"name":"Hubspot","category":"CRM"},{"name":"IBM AS400","category":"Other"},{"name":"IBM Db2","category":"Databases"},{"name":"Iceberg on S3","category":"File Systems"},{"name":"iLevel","category":"Other"},{"name":"Instagram","category":"Other"},{"name":"Intuit Quickbooks","category":"Other"},{"name":"Jampp","category":"Other"},{"name":"JazzHR","category":"Other"},{"name":"JIRA","category":"Other"},{"name":"JMS","category":"Streaming"},{"name":"Kafka","category":"Streaming"},{"name":"Kapost","category":"Other"},{"name":"Kargo","category":"Other"},{"name":"Keap","category":"CRM"},{"name":"Kibo","category":"Other"},{"name":"Kissmetrics","category":"Other"},{"name":"Klaviyo","category":"Marketing & Advertising"},{"name":"KnowBe4 (KMSAT)","category":"Other"},{"name":"Lattice","category":"Other"},{"name":"LaunchDarkly","category":"Other"},{"name":"Leadfeader","category":"Other"},{"name":"Leapfin","category":"Other"},{"name":"Leapsome","category":"Other"},{"name":"Lemlist","category":"Other"},{"name":"Lessonly / Seismic Learning","category":"Other"},{"name":"LinkedIn Ads","category":"Marketing & Advertising"},{"name":"LinkedIn Marketing","category":"Marketing & Advertising"},{"name":"Locker","category":"Other"},{"name":"Loggly","category":"Other"},{"name":"LogicGate","category":"Other"},{"name":"Lokalise","category":"Other"},{"name":"Looker","category":"Data as a Service"},{"name":"Lookup Tables","category":"Other"},{"name":"Magento","category":"E-Commerce"},{"name":"Mailboxlayer","category":"File Systems"},{"name":"Mailchimp","category":"Marketing & Advertising"},{"name":"ManagerPlus","category":"Other"},{"name":"Manhattan","category":"Other"},{"name":"Marketo","category":"Marketing & Advertising"},{"name":"Maropost","category":"Other"},{"name":"Medallia","category":"Other"},{"name":"Meta / Facebook Ads","category":"Marketing & Advertising"},{"name":"Meta / Facebook Pages","category":"Marketing & Advertising"},{"name":"Microsoft Bing Ads","category":"Marketing & Advertising"},{"name":"Microsoft Dynamics 365","category":"Other"},{"name":"Microsoft Office 365","category":"Other"},{"name":"Microsoft Office 365 Management","category":"Other"},{"name":"Microsoft SQLServer","category":"Databases"},{"name":"Microsoft Text Translator","category":"Other"},{"name":"Milvus","category":"Databases"},{"name":"MinIO","category":"Other"},{"name":"Mirakl","category":"E-Commerce"},{"name":"Mistral AI","category":"LLMs"},{"name":"Mixpanel","category":"Other"},{"name":"Mode","category":"Other"},{"name":"Monday","category":"Other"},{"name":"MongoDB","category":"Other"},{"name":"Moz","category":"Other"},{"name":"MySQL","category":"Databases"},{"name":"Namely","category":"Other"},{"name":"Netskope","category":"Cybersecurity"},{"name":"New Relic","category":"Other"},{"name":"News API","category":"Data as a Service"},{"name":"Nexla Monitoring APIs","category":"Other"},{"name":"Nielsen Digital Ad Ratings","category":"Other"},{"name":"Notion Api","category":"Other"},{"name":"NVIDIA AI","category":"LLMs"},{"name":"Odoo ERP","category":"Other"},{"name":"On24","category":"Other"},{"name":"Open AI","category":"LLMs"},{"name":"OpenAir","category":"Other"},{"name":"OpenRouter","category":"Other"},{"name":"OpenWeather","category":"Data as a Service"},{"name":"Opsgenie","category":"Other"},{"name":"Optimizely","category":"Other"},{"name":"Oracle Autonomous Database","category":"Databases"},{"name":"Oracle Database","category":"Databases"},{"name":"Oracle Financials UCM","category":"Databases"},{"name":"Oracle Netsuite APIs","category":"Databases"},{"name":"Oracle Netsuite JDBC","category":"Databases"},{"name":"Oracle PBCS","category":"Databases"},{"name":"Oura Ring","category":"Other"},{"name":"Outbrain Amplify","category":"Other"},{"name":"Outbrain Engage","category":"Other"},{"name":"Outreach","category":"Other"},{"name":"Panaya","category":"Other"},{"name":"Panda Doc","category":"Other"},{"name":"Pandas","category":"Other"},{"name":"Paymo","category":"Other"},{"name":"Paypal","category":"Other"},{"name":"Peakon","category":"Other"},{"name":"Pendo","category":"Other"},{"name":"Perplexity AI","category":"LLMs"},{"name":"Personio","category":"Other"},{"name":"Pinecone","category":"Vector Databases"},{"name":"Pinterest","category":"Other"},{"name":"Pipedrive","category":"File Systems"},{"name":"Playtix","category":"Other"},{"name":"Polygon","category":"Other"},{"name":"Porta Billing","category":"Other"},{"name":"PostgreSQL","category":"Databases"},{"name":"Postscript","category":"Other"},{"name":"Productboard","category":"Other"},{"name":"Project 44","category":"Other"},{"name":"Proofpoint","category":"Cybersecurity"},{"name":"Pulsedive","category":"Other"},{"name":"Qdrant","category":"Databases"},{"name":"Qualtrics","category":"Other"},{"name":"Quip","category":"Other"},{"name":"Razorpay","category":"Other"},{"name":"Reltio","category":"Data as a Service"},{"name":"ReSci","category":"Other"},{"name":"Rest API","category":"Generic APIs"},{"name":"Retool","category":"Other"},{"name":"Rocket Fuel","category":"Other"},{"name":"Sailthru","category":"Other"},{"name":"Salesforce","category":"CRM"},{"name":"Salesforce B2B Commerce Cloud","category":"CRM"},{"name":"Salesforce B2C Commerce Cloud","category":"CRM"},{"name":"Salesforce Marketing Cloud","category":"CRM"},{"name":"SAP","category":"Other"},{"name":"SAP HANA JDBC","category":"Databases"},{"name":"Scalyr / Dataset","category":"Other"},{"name":"Sendgrid","category":"Marketing & Advertising"},{"name":"Sendpulse","category":"Other"},{"name":"ServiceNow","category":"Other"},{"name":"Sharepoint","category":"File Systems"},{"name":"ShipBob","category":"Other"},{"name":"ShipStation","category":"Other"},{"name":"Shopify","category":"E-Commerce"},{"name":"Similar Web","category":"Other"},{"name":"Skilljar","category":"Other"},{"name":"SkyScanner","category":"E-Commerce"},{"name":"Slack","category":"Other"},{"name":"SmartRecruiters","category":"Other"},{"name":"Snapchat Ads","category":"Marketing & Advertising"},{"name":"Snowflake","category":"Databases"},{"name":"Snowflake Clean Room","category":"Databases"},{"name":"SOAP API","category":"Generic APIs"},{"name":"Sonarqube","category":"Other"},{"name":"SplashThat","category":"Other"},{"name":"Splunk","category":"Other"},{"name":"Splunk SignalFX","category":"Other"},{"name":"SpotDraft","category":"Other"},{"name":"StarRez","category":"Other"},{"name":"Stripe","category":"Other"},{"name":"SurveyMonkey","category":"Other"},{"name":"Sybase","category":"Databases"},{"name":"Tableau","category":"Other"},{"name":"TalkDesk","category":"Other"},{"name":"Teamtailor","category":"Other"},{"name":"Teradata","category":"Databases"},{"name":"The TradeDesk","category":"Marketing & Advertising"},{"name":"Tibco EMS","category":"Streaming"},{"name":"Ticketmaster","category":"E-Commerce"},{"name":"Together AI","category":"LLMs"},{"name":"Toggl","category":"Other"},{"name":"Totango","category":"CRM"},{"name":"Transport For London (TFL)","category":"Other"},{"name":"Trello","category":"Other"},{"name":"Trip Advisor","category":"Other"},{"name":"Tune Network","category":"Other"},{"name":"Typeform","category":"Other"},{"name":"UpPromote","category":"Other"},{"name":"Upshop","category":"Other"},{"name":"Usajobs","category":"Data as a Service"},{"name":"Vespa","category":"Databases"},{"name":"VinSolutions","category":"Other"},{"name":"VirusTotal","category":"Cybersecurity"},{"name":"Walmart","category":"E-Commerce"},{"name":"Weaviate","category":"Databases"},{"name":"Webdam","category":"Other"},{"name":"WebDAV","category":"File Systems"},{"name":"Webex","category":"Other"},{"name":"Webhook","category":"Generic APIs"},{"name":"Whoop","category":"Other"},{"name":"Wicket","category":"Other"},{"name":"Wolfram Alpha","category":"Other"},{"name":"Workday Reporting","category":"Other"},{"name":"Workday Web Services","category":"Other"},{"name":"Wufoo Online Forms","category":"Other"},{"name":"X (Twitter)","category":"Other"},{"name":"Xero","category":"Other"},{"name":"YouTube","category":"Other"},{"name":"Zendesk Support","category":"CRM"},{"name":"Zillow","category":"Other"},{"name":"Zoho","category":"CRM"},{"name":"Zoom","category":"Other"},{"name":"Zscaler","category":"Cybersecurity"},{"name":"Zuora Billing","category":"Other"},{"name":"Zuora Revenue","category":"Other"}]'),Ow={connectors:Pw},Rw=new Set(["Google BigQuery","Snowflake","PostgreSQL","MySQL","Microsoft SQLServer","Oracle Database","Teradata","MongoDB","DynamoDB","Elasticsearch","Sybase","IBM Db2","Google AlloyDB"]),Iw=new Set(["Amazon S3","Google Cloud Storage","Azure Blob Storage","Dropbox","Box","WebDAV","Sharepoint","Google Drive","FTP, SFTP, FTPS"]),Lw=new Set(["Kafka","Google Pub Sub","AWS Kinesis Firehose","JMS","Tibco EMS"]),Aw=new Set(["Salesforce","Zoho","Pipedrive","Copper","Hubspot","Freshsales","Zendesk Support","Capsule","Affinity CRM"]),jw=new Set(["Shopify","Magento","Big Commerce Graph API","Big Commerce Store Management","Salesforce B2B Commerce Cloud","Salesforce B2C Commerce Cloud","Mirakl","Walmart"]),Fw=new Set(["Google Ads","Facebook Ads","LinkedIn Ads","Snapchat Ads","Criteo","The TradeDesk","Amazon Ads"]),zw=new Set(["Pinecone","Weaviate","Qdrant","Vespa","Milvus"]),$w=new Set(["Open AI","Anthropic AI","Google Gemini","Mistral AI","Together AI","Grok by xAI","Perplexity AI","NVIDIA AI","Azure AI Studio"]),Vw=new Set(["data.world","Crunchbase","Crunchbase Pro","OpenWeather","News API","FDA","Collibra","Hightouch","Reltio","Usajobs","Looker"]),Hw=new Set(["VirusTotal","Zscaler","Netskope","Proofpoint","Fingerbank"]);function Bw(e){return Rw.has(e)||/SQL|DB2|Db2|Sybase|AlloyDB|BigQuery/.test(e)?"Databases":Iw.has(e)||/(S3|Storage|Drive|Dropbox|Box|WebDAV|Sharepoint|FTP)/i.test(e)?"File Systems":Lw.has(e)||/(Kafka|Pub Sub|Kinesis|JMS|EMS)/i.test(e)?"Streaming":Aw.has(e)||/(Salesforce|Hubspot|Zoho|Zendesk|Capsule|Pipedrive|Freshsales)/i.test(e)?"CRM":jw.has(e)||/(Shopify|Magento|Big Commerce|Commerce Cloud|Mirakl|Walmart)/i.test(e)?"E-Commerce":Fw.has(e)||/(Ads|Advertising|DSP|SA 360|Search Ads)/i.test(e)?"Marketing & Advertising":zw.has(e)?"Vector Databases":$w.has(e)?"LLMs":Vw.has(e)?"Data as a Service":Hw.has(e)||/(Security|Cyber|Zscaler|Netskope)/i.test(e)?"Cybersecurity":/REST|GraphQL|SOAP|Webhook/i.test(e)?"Generic APIs":"Other"}function Uw(e){switch(e){case"Databases":return{roles:{source:!0,destination:!0},mandatory:["host/account","user","password or key","database/schema"],optional:["warehouse","role","ssl"]};case"File Systems":return{roles:{source:!0,destination:!0},mandatory:["endpoint/bucket","auth"],optional:["region","path/prefix"]};case"Streaming":return{roles:{source:!0,destination:!0},mandatory:["broker/endpoint","topic/stream","auth"],optional:["tls/sasl"]};case"CRM":return{roles:{source:!0,destination:!0},mandatory:["baseUrl/loginUrl","clientId","clientSecret","user","token/password"],optional:["instance"]};case"E-Commerce":return{roles:{source:!0,destination:!0},mandatory:["storeDomain","apiKey/token"],optional:["apiVersion"]};case"Marketing & Advertising":return{roles:{source:!0,destination:!0},mandatory:["accessToken/apiKey","accountId"],optional:["clientId","clientSecret"]};case"Vector Databases":return{roles:{source:!0,destination:!0},mandatory:["endpoint/host","apiKey","index/collection"],optional:[]};case"LLMs":return{roles:{source:!1,destination:!0},mandatory:["apiKey","model"],optional:["endpoint"]};case"Data as a Service":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl","accountId"]};case"Cybersecurity":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl"]};case"Generic APIs":return{roles:{source:!0,destination:!0},mandatory:["baseUrl","auth"],optional:["headers","params"]};default:return{roles:{source:!0,destination:!0},mandatory:["baseUrl or host","auth"],optional:[]}}}function Ww(){const e=Ow.connectors,r={};return e.forEach(({name:o,category:s})=>{const a=s||Bw(o),l=Uw(a);r[o]={name:o,category:a,roles:l.roles,credentials:{mandatory:l.mandatory,optional:l.optional}}}),r}const Ht=Ww(),Qw="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",Yw="https://openrouter.ai/api/v1/chat/completions",Kw=`You are an AI assistant that helps users build data integration flows. Your primary job is to identify systems and transformations from user messages.

FOCUS ON SYSTEM IDENTIFICATION:
1. Source system (where data comes from)
2. Transform operations (how to process data) 
3. Destination system (where data goes)

IMPORTANT RULES:
1. Only identify systems that are explicitly mentioned by the user
2. Don't assume default transforms - only set transform when explicitly mentioned
3. Don't ask about credentials - the system will handle field collection automatically
4. Be conversational and helpful
5. Focus on understanding the data flow intent
6. Use exact connector names from the catalog when possible
7. Only set transform when explicitly mentioned - do NOT assume default transforms

SYSTEM IDENTIFICATION EXAMPLES:
- "Connect Shopify to BigQuery" → source: "Shopify", destination: "Google BigQuery", transform: null
- "Sync Salesforce contacts to Mailchimp" → source: "Salesforce", destination: "Mailchimp", transform: null
- "Get PostgreSQL users and transform them, then send to webhook" → source: "PostgreSQL", destination: "Webhook", transform: "Map & Validate"
- "I want to use Salesforce as my source" → source: "Salesforce", destination: null, transform: null
- "Send data to Snowflake" → source: null, destination: "Snowflake", transform: null

FOLLOW-UP QUESTIONS:
- If missing source: ask what system they want to get data from
- If missing destination: ask where they want to send the data
- If missing transform: ask what type of data processing they need
- Don't ask about credentials - that's handled automatically

Respond with JSON in this exact format:
{
  "source": "system name or null",
  "transform": "transform type or null", 
  "destination": "system name or null",
  "credentials": {},
  "followUpQuestion": "What specific question to ask next (only for missing systems, not credentials)"
}`;async function Xw(e,r=[]){try{const o=[{role:"system",content:Kw},...r.map((d,h)=>({role:h%2===0?"user":"assistant",content:d})),{role:"user",content:e}],s=await fetch(Yw,{method:"POST",headers:{Authorization:`Bearer ${Qw}`,"Content-Type":"application/json","HTTP-Referer":"https://nexla-data-flow.com","X-Title":"Nexla Data Flow Architect"},body:JSON.stringify({model:"openai/gpt-4o-mini",messages:o,temperature:.3,max_tokens:500})});if(!s.ok)throw new Error(`OpenRouter API error: ${s.status} ${s.statusText}`);const l=(await s.json()).choices?.[0]?.message?.content;if(!l)throw new Error("No content in OpenRouter response");let c;try{const d=l.match(/\{[\s\S]*\}/);if(d)c=JSON.parse(d[0]);else throw new Error("No JSON found in response")}catch{return console.warn("JSON parsing failed, using fallback regex parsing"),_p(l)}return{success:!0,data:{source:c.source||null,transform:c.transform||null,destination:c.destination||null,credentials:c.credentials||{},followUpQuestion:c.followUpQuestion||null}}}catch(o){return console.error("OpenRouter service error:",o),_p(e)}}function _p(e){const r=[/(?:from|connect|sync|get.*from|extract.*from)\s+(\w+)/i,/(\w+)\s+(?:to|into|→)/i],o=[/(?:to|into|send.*to|load.*into|→)\s+(\w+)/i,/(?:from|connect|sync)\s+\w+\s+(?:to|into)\s+(\w+)/i];let s=null,a=null;for(const c of r){const d=e.match(c);if(d&&d[1]){const h=d[1].toLowerCase(),p=Object.keys(Ht).find(m=>m.toLowerCase().includes(h)||h.includes(m.toLowerCase()));if(p){s=p;break}}}for(const c of o){const d=e.match(c);if(d&&d[1]){const h=d[1].toLowerCase(),p=Object.keys(Ht).find(m=>m.toLowerCase().includes(h)||h.includes(m.toLowerCase()));if(p){a=p;break}}}let l="I can help you set up this data flow. ";return!s&&!a?l+="What systems would you like to connect?":s?a?l+="What credentials do you have for these systems?":l+="Where should we send the data?":l+="What system should we get the data from?",{success:!0,data:{source:s,transform:null,destination:a,credentials:{},followUpQuestion:l}}}const gc={source:{},destination:{},transform:{},transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},yc={nodes:{source:{name:"Dummy Source",credentials:{username:"",password:""}},destination:{name:"Dummy Destination",credentials:{apiKey:"",serverPrefix:""}},transform:{name:"Dummy Transform",credentials:{}}}},fo=Gm()(Zm(Tw((e,r)=>({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:{...gc,transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},flowConfiguration:yc,setSelectedSource:o=>e({selectedSource:o},!1,"setSelectedSource"),setSelectedDestination:o=>e({selectedDestination:o},!1,"setSelectedDestination"),setSelectedTransform:o=>e({selectedTransform:o},!1,"setSelectedTransform"),updateNodeValues:o=>e(s=>({nodeValues:{...s.nodeValues,source:{...s.nodeValues.source,...o.source},destination:{...s.nodeValues.destination,...o.destination},transform:{...s.nodeValues.transform,...o.transform}}}),!1,"updateNodeValues"),updateSourceValues:o=>e(s=>({nodeValues:{...s.nodeValues,source:{...s.nodeValues.source,...o}}}),!1,"updateSourceValues"),updateDestinationValues:o=>e(s=>({nodeValues:{...s.nodeValues,destination:{...s.nodeValues.destination,...o}}}),!1,"updateDestinationValues"),updateTransformValues:o=>e(s=>({nodeValues:{...s.nodeValues,transform:{...s.nodeValues.transform,...o}}}),!1,"updateTransformValues"),updateTransformValuesByType:(o,s)=>e(a=>{const l=a.nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}};return{nodeValues:{...a.nodeValues,transformByType:{...l,[o]:{...l[o]||{},...s}}}}},!1,"updateTransformValuesByType"),getTransformValuesByType:o=>(r().nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}})[o]||{},resetToDefaults:()=>e({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:gc},!1,"resetToDefaults"),loadConfiguration:o=>{const s=r();e({selectedSource:o.selectedSource??s.selectedSource,selectedDestination:o.selectedDestination??s.selectedDestination,selectedTransform:o.selectedTransform??s.selectedTransform,nodeValues:{...s.nodeValues,source:{...s.nodeValues.source,...o.nodeValues?.source},destination:{...s.nodeValues.destination,...o.nodeValues?.destination},transform:{...s.nodeValues.transform,...o.nodeValues?.transform}}},!1,"loadConfiguration")},loadFlowConfiguration:o=>{e(s=>({flowConfiguration:o,selectedSource:o.nodes.source.name,selectedDestination:o.nodes.destination.name,selectedTransform:o.nodes.transform.name,nodeValues:{...s.nodeValues,source:o.nodes.source.credentials,destination:o.nodes.destination.credentials,transform:o.nodes.transform.credentials}}),!1,"loadFlowConfiguration")},updateNodeConfiguration:(o,s,a)=>{e(l=>({flowConfiguration:{...l.flowConfiguration,nodes:{...l.flowConfiguration.nodes,[o]:{name:s,credentials:a}}},[`selected${o.charAt(0).toUpperCase()+o.slice(1)}`]:s,nodeValues:{...l.nodeValues,[o]:a}}),!1,"updateNodeConfiguration")},resetToDefaultConfiguration:()=>{e({flowConfiguration:yc,selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:gc},!1,"resetToDefaultConfiguration")},getFlowConfigurationJSON:()=>{const o=r();return JSON.stringify(o.flowConfiguration,null,2)}}),{name:"canvas-store",partialize:e=>({selectedSource:e.selectedSource,selectedDestination:e.selectedDestination,selectedTransform:e.selectedTransform,nodeValues:e.nodeValues,flowConfiguration:e.flowConfiguration}),migrate:e=>{const r=e;return r&&r.nodeValues&&!r.nodeValues.transformByType&&(r.nodeValues.transformByType={"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}),r&&!r.flowConfiguration&&(r.flowConfiguration=yc),r},version:1}),{name:"CanvasStore"})),Gw=["skip","no","none","pass","next","continue","not needed","not required","leave empty","ignore","n/a"];function Zw(e){const r=e.toLowerCase().trim();return Gw.some(o=>r===o||r.includes(o))}function Za(e){const r=a=>a.toLowerCase().includes("dummy"),o=(a,l)=>{if(r(l))return!1;const c=Ht[l];if(!c)return!1;const d=e.nodeValues[a]||{};return c.credentials.mandatory.some(h=>!d[h]||d[h].trim()==="")},s={needsSourceName:r(e.selectedSource),needsTransformName:r(e.selectedTransform),needsDestinationName:r(e.selectedDestination),needsSourceFields:o("source",e.selectedSource),needsTransformFields:o("transform",e.selectedTransform),needsDestinationFields:o("destination",e.selectedDestination),totalStepsNeeded:0};return s.totalStepsNeeded=(s.needsSourceName?1:0)+(s.needsSourceFields?1:0)+(s.needsTransformName?1:0)+(s.needsTransformFields?1:0)+(s.needsDestinationName?1:0)+(s.needsDestinationFields?1:0),s}class vc{static createCollectionPlan(r){const o=Za(r);return o.totalStepsNeeded===0?{currentStep:null,completedSteps:[],nodeStates:{source:{name:r.selectedSource,isDummy:!1,fieldsCollected:r.nodeValues.source||{}},transform:{name:r.selectedTransform,isDummy:!1,fieldsCollected:r.nodeValues.transform||{}},destination:{name:r.selectedDestination,isDummy:!1,fieldsCollected:r.nodeValues.destination||{}}},isComplete:!0}:{currentStep:this.determineFirstStep(o,r),completedSteps:[],nodeStates:{source:{name:o.needsSourceName?null:r.selectedSource,isDummy:o.needsSourceName,fieldsCollected:r.nodeValues.source||{}},transform:{name:o.needsTransformName?null:r.selectedTransform,isDummy:o.needsTransformName,fieldsCollected:r.nodeValues.transform||{}},destination:{name:o.needsDestinationName?null:r.selectedDestination,isDummy:o.needsDestinationName,fieldsCollected:r.nodeValues.destination||{}}},isComplete:!1}}static determineFirstStep(r,o){if(r.needsSourceName)return this.createNodeNameStep("source",1,r.totalStepsNeeded);if(r.needsSourceFields)return this.createFieldStep("source",o,1,r.totalStepsNeeded);if(r.needsTransformName)return this.createNodeNameStep("transform",1,r.totalStepsNeeded);if(r.needsTransformFields)return this.createFieldStep("transform",o,1,r.totalStepsNeeded);if(r.needsDestinationName)return this.createNodeNameStep("destination",1,r.totalStepsNeeded);if(r.needsDestinationFields)return this.createFieldStep("destination",o,1,r.totalStepsNeeded);throw new Error("No collection step determined - this should not happen")}static createNodeNameStep(r,o,s){return{stepType:"node-name",nodeType:r,fieldCategory:"mandatory",remainingFields:[],completedFields:[],currentStepIndex:o,totalSteps:s,canSkip:!1,question:this.generateNodeNameQuestion(r)}}static createFieldStep(r,o,s,a){const l=this.getSystemName(r,o),c=o.nodeValues[r]||{},d=this.getFieldsForConnector(l),h=this.getMissingFields(d.mandatory,c);if(h.length>0){const p=d.mandatory.filter(m=>c[m]&&c[m]?.trim()!=="");return{stepType:"mandatory-fields",nodeType:r,systemName:l,fieldCategory:"mandatory",currentField:h[0],remainingFields:h.slice(1),completedFields:p,allFields:d,currentStepIndex:s,totalSteps:a,canSkip:!1,question:this.generateMandatoryFieldQuestion(l,h[0],p.length+1,d.mandatory.length),nodeProgress:this.calculateNodeProgress(d,c)}}else{const p=this.getAskedOptionalFields(r,o),m=d.optional.filter(v=>!p.includes(v));if(m.length>0){const v=d.optional.filter(y=>c[y]&&c[y]?.trim()!=="");return{stepType:"optional-fields",nodeType:r,systemName:l,fieldCategory:"optional",currentField:m[0],remainingFields:m.slice(1),completedFields:v,allFields:d,currentStepIndex:s,totalSteps:a,canSkip:!0,question:this.generateOptionalFieldQuestion(l,m[0]),nodeProgress:this.calculateNodeProgress(d,c)}}}throw new Error(`Node ${r} appears complete but was marked as needing fields`)}static getSystemName(r,o){switch(r){case"source":return o.selectedSource;case"transform":return o.selectedTransform;case"destination":return o.selectedDestination}}static getMissingFields(r,o){return r.filter(s=>!o[s]||o[s]?.trim()==="")}static getAskedOptionalFields(r,o){return[]}static calculateNodeProgress(r,o){const s=r.mandatory.filter(l=>o[l]&&o[l]?.trim()!=="").length,a=r.optional.filter(l=>o[l]&&o[l]?.trim()!=="").length;return{mandatoryComplete:s===r.mandatory.length,mandatoryProgress:{completed:s,total:r.mandatory.length},optionalProgress:{completed:a,total:r.optional.length}}}static getNextStep(r,o){if(!r.currentStep)return null;const s=r.currentStep,a=s.nodeType;if(s.stepType==="node-name")return this.getNextStepForNode(a,o,s.currentStepIndex+1,s.totalSteps);if(s.stepType==="mandatory-fields"){const l=this.getSystemName(a,o),c=o.nodeValues[a]||{},d=this.getFieldsForConnector(l),h=this.getMissingFields(d.mandatory,c);if(h.length>0){const p=d.mandatory.filter(m=>c[m]&&c[m]?.trim()!=="");return{stepType:"mandatory-fields",nodeType:a,systemName:l,fieldCategory:"mandatory",currentField:h[0],remainingFields:h.slice(1),completedFields:p,allFields:d,currentStepIndex:s.currentStepIndex+1,totalSteps:s.totalSteps,canSkip:!1,question:this.generateMandatoryFieldQuestion(l,h[0],p.length+1,d.mandatory.length),nodeProgress:this.calculateNodeProgress(d,c)}}else{const p=d.optional.filter(m=>!c[m]||c[m]?.trim()==="");if(p.length>0){const m=d.optional.filter(v=>c[v]&&c[v]?.trim()!=="");return{stepType:"optional-fields",nodeType:a,systemName:l,fieldCategory:"optional",currentField:p[0],remainingFields:p.slice(1),completedFields:m,allFields:d,currentStepIndex:s.currentStepIndex+1,totalSteps:s.totalSteps,canSkip:!0,question:this.generateOptionalFieldQuestion(l,p[0]),nodeProgress:this.calculateNodeProgress(d,c)}}}}if(s.stepType==="optional-fields"&&s.remainingFields.length>0){const l=s.systemName,c=o.nodeValues[a]||{},d=s.allFields;return{stepType:"optional-fields",nodeType:a,systemName:l,fieldCategory:"optional",currentField:s.remainingFields[0],remainingFields:s.remainingFields.slice(1),completedFields:s.completedFields,allFields:d,currentStepIndex:s.currentStepIndex+1,totalSteps:s.totalSteps,canSkip:!0,question:this.generateOptionalFieldQuestion(l,s.remainingFields[0]),nodeProgress:this.calculateNodeProgress(d,c)}}return this.getNextIncompleteNode(a,o,s.currentStepIndex+1,s.totalSteps)}static getNextStepForNode(r,o,s,a){const l=this.getSystemName(r,o),c=o.nodeValues[r]||{},d=this.getFieldsForConnector(l),h=this.getMissingFields(d.mandatory,c);if(h.length>0){const m=d.mandatory.filter(v=>c[v]&&c[v]?.trim()!=="");return{stepType:"mandatory-fields",nodeType:r,systemName:l,fieldCategory:"mandatory",currentField:h[0],remainingFields:h.slice(1),completedFields:m,allFields:d,currentStepIndex:s,totalSteps:a,canSkip:!1,question:this.generateMandatoryFieldQuestion(l,h[0],m.length+1,d.mandatory.length),nodeProgress:this.calculateNodeProgress(d,c)}}const p=d.optional.filter(m=>!c[m]||c[m]?.trim()==="");if(p.length>0){const m=d.optional.filter(v=>c[v]&&c[v]?.trim()!=="");return{stepType:"optional-fields",nodeType:r,systemName:l,fieldCategory:"optional",currentField:p[0],remainingFields:p.slice(1),completedFields:m,allFields:d,currentStepIndex:s,totalSteps:a,canSkip:!0,question:this.generateOptionalFieldQuestion(l,p[0]),nodeProgress:this.calculateNodeProgress(d,c)}}return this.getNextIncompleteNode(r,o,s,a)}static getNextIncompleteNode(r,o,s,a){const l=Za(o);if(r==="source"){if(l.needsTransformName)return this.createNodeNameStep("transform",s,a);if(l.needsTransformFields)return this.getNextStepForNode("transform",o,s,a);if(l.needsDestinationName)return this.createNodeNameStep("destination",s,a);if(l.needsDestinationFields)return this.getNextStepForNode("destination",o,s,a)}if(r==="transform"){if(l.needsDestinationName)return this.createNodeNameStep("destination",s,a);if(l.needsDestinationFields)return this.getNextStepForNode("destination",o,s,a)}return null}static processInput(r,o){const s=r.trim();if(!s)return{success:!1,nextStep:null,error:"Please provide a valid input."};if(o.canSkip&&Zw(s))return{success:!0,nextStep:null,wasSkipped:!0};if(o.stepType==="node-name"){const a=this.findMatchingConnector(s,o.nodeType);return a?{success:!0,nextStep:null,canvasUpdate:{nodeType:o.nodeType,updateType:"node-name",nodeName:a}}:{success:!1,nextStep:null,error:`I couldn't find a connector matching "${s}". Please try a different system name.`}}else if(o.stepType==="mandatory-fields"||o.stepType==="optional-fields"){const a=this.validateFieldValue(o.currentField,s);return a.isValid?{success:!0,nextStep:null,canvasUpdate:{nodeType:o.nodeType,updateType:"field-value",fieldName:o.currentField,fieldValue:s}}:{success:!1,nextStep:null,error:a.error}}else{const a=this.validateFieldValue(o.currentField,s);return a.isValid?{success:!0,nextStep:null,canvasUpdate:{nodeType:o.nodeType,updateType:"field-value",fieldName:o.currentField,fieldValue:s}}:{success:!1,nextStep:null,error:a.error}}}static generateNodeNameQuestion(r){const o=this.getExamplesForNodeType(r);switch(r){case"source":return`What system do you want to get data from? For example: ${o.slice(0,3).join(", ")}, etc.`;case"transform":return"What type of data transformation do you need? For example: Map & Validate, Cleanse, Enrich & Map, etc.";case"destination":return`Where do you want to send the data? For example: ${o.slice(0,3).join(", ")}, etc.`;default:return`Please specify the ${r} system.`}}static generateFieldQuestion(r,o,s){const a=this.getFieldExamples(s),l=this.getFieldDescription(s);return`What's your ${o} ${l}?${a?` (e.g., ${a})`:""}`}static generateMandatoryFieldQuestion(r,o,s,a){const l=this.getFieldExamples(o),c=this.getFieldDescription(o);return`What's your ${r} ${c}? (${s}/${a} required fields)${l?` (e.g., ${l})`:""}`}static generateOptionalFieldQuestion(r,o){const s=this.getFieldExamples(o),a=this.getFieldDescription(o);return`What's your ${r} ${a}? (Optional - you can type 'skip' to continue)${s?` (e.g., ${s})`:""}`}static getFieldsForConnector(r){const o=Ht[r];return o?{mandatory:o.credentials.mandatory,optional:o.credentials.optional||[]}:{mandatory:[],optional:[]}}static getNextMissingField(r,o,s){const a=Ht[o];return a&&a.credentials.mandatory.find(l=>!s[l]||s[l]?.trim()==="")||""}static findMatchingConnector(r,o){const s=r.toLowerCase();if(o==="transform")return["Map & Validate","Cleanse","Enrich & Map"].find(p=>p.toLowerCase().includes(s)||s.includes(p.toLowerCase()))||null;const a=Object.keys(Ht);let l=a.find(d=>d.toLowerCase()===s);return l||(l=a.find(d=>d.toLowerCase().includes(s)||s.includes(d.toLowerCase())),l)?l:{sf:"Salesforce",salesforce:"Salesforce",bigquery:"Google BigQuery",bq:"Google BigQuery",mailchimp:"Mailchimp",shopify:"Shopify",postgres:"PostgreSQL",postgresql:"PostgreSQL",s3:"Amazon S3","aws s3":"Amazon S3"}[s]||null}static validateFieldValue(r,o){return(r.toLowerCase().includes("url")||r.toLowerCase().includes("endpoint"))&&!o.startsWith("http://")&&!o.startsWith("https://")?{isValid:!1,error:"URL should start with http:// or https://"}:r.toLowerCase().includes("email")&&!o.includes("@")?{isValid:!1,error:"Please provide a valid email address"}:{isValid:!0}}static getExamplesForNodeType(r){return r==="transform"?["Map & Validate","Cleanse","Enrich & Map"]:Object.keys(Ht).filter(a=>{const l=Ht[a];return r==="source"?l.roles.source:l.roles.destination}).slice(0,10)}static getFieldExamples(r){return{baseUrl:"https://yourcompany.salesforce.com",loginUrl:"https://yourcompany.salesforce.com",host:"database.example.com",endpoint:"https://api.example.com",user:"john@company.com",username:"john@company.com",email:"john@company.com",apiKey:"sk-1234567890abcdef",token:"abc123def456",clientId:"3MVG9...",storeDomain:"mystore.myshopify.com"}[r]||null}static getFieldDescription(r){return{baseUrl:"base URL",loginUrl:"login URL",host:"host address",endpoint:"API endpoint",user:"username",username:"username",password:"password",apiKey:"API key",token:"access token",clientId:"client ID",clientSecret:"client secret",storeDomain:"store domain"}[r]||r}}const ls=Gm()(Zm((e,r)=>({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],input:"",conversationHistory:[],setInput:o=>e({input:o}),aiThinking:!1,highlightId:null,fieldCollectionState:null,isCollectingFields:!1,send:()=>{const{input:o,messages:s}=r();if(!o.trim())return;const a=crypto.randomUUID(),l=crypto.randomUUID(),c={id:a,type:"user",content:o.trim(),status:"sent",createdAt:Date.now()},d={id:l,type:"ai",content:"",status:"thinking",createdAt:Date.now()};e({messages:[...s,c,d],input:"",aiThinking:!0,highlightId:a}),setTimeout(()=>e({highlightId:null}),900),setTimeout(()=>{const h="Got it. I will start a draft flow: [Source] → [Transform] → [Destination].";e(p=>({messages:p.messages.map(m=>m.id===l?{...m,content:h,status:"sent"}:m),aiThinking:!1}))},600)},sendWithCanvasUpdate:async()=>{const{input:o,messages:s,conversationHistory:a,isCollectingFields:l}=r();if(!o.trim())return;if(l){const m=crypto.randomUUID(),v={id:m,type:"user",content:o.trim(),status:"sent",createdAt:Date.now()};e(y=>({messages:[...y.messages,v],input:"",highlightId:m})),setTimeout(()=>e({highlightId:null}),900),r().processCollectionInput(o.trim());return}const c=crypto.randomUUID(),d=crypto.randomUUID(),h={id:c,type:"user",content:o.trim(),status:"sent",createdAt:Date.now()},p={id:d,type:"ai",content:"",status:"thinking",createdAt:Date.now()};e({messages:[...s,h,p],input:"",aiThinking:!0,highlightId:c}),setTimeout(()=>e({highlightId:null}),900);try{const m=await Xw(o.trim(),a);if(m.success&&m.data){const v=fo.getState();m.data.source&&m.data.transform&&m.data.destination?(v.loadConfiguration({selectedSource:m.data.source,selectedTransform:m.data.transform,selectedDestination:m.data.destination}),m.data.credentials&&Object.entries(m.data.credentials).forEach(([w,S])=>{(w==="source"||w==="transform"||w==="destination")&&v.updateNodeConfiguration(w,w,S)})):(m.data.source&&v.loadConfiguration({selectedSource:m.data.source}),m.data.destination&&v.loadConfiguration({selectedDestination:m.data.destination}),m.data.transform&&v.loadConfiguration({selectedTransform:m.data.transform}));const y=[...a,o.trim()],x=fo.getState();if(Za(x).totalStepsNeeded>0)e(w=>({messages:w.messages.map(S=>S.id===d?{...S,content:"Perfect! I've identified your systems. Now let's configure the connections.",status:"sent"}:S),aiThinking:!1,conversationHistory:y})),setTimeout(()=>{r().startSmartCollection()},500);else{const w=m.data.followUpQuestion||"Great! I've updated your flow. What would you like to configure next?";e(S=>({messages:S.messages.map(_=>_.id===d?{..._,content:w,status:"sent"}:_),aiThinking:!1,conversationHistory:y}))}}else throw new Error(m.error||"Failed to parse flow")}catch(m){console.error("Error in sendWithCanvasUpdate:",m);const v="I'm having trouble understanding that. Could you please rephrase your request?";e(y=>({messages:y.messages.map(x=>x.id===d?{...x,content:v,status:"sent"}:x),aiThinking:!1}))}},startSmartCollection:()=>{const o=fo.getState();if(Za(o).totalStepsNeeded===0){console.log("✅ No field collection needed - all nodes configured");return}const a=vc.createCollectionPlan(o);if(a.currentStep){const c={id:crypto.randomUUID(),type:"ai",content:a.currentStep.question,status:"sent",createdAt:Date.now()};e(d=>({messages:[...d.messages,c],fieldCollectionState:a,isCollectingFields:!0})),console.log("🔄 Started field collection:",a.currentStep)}},processCollectionInput:o=>{const{fieldCollectionState:s}=r();if(!s?.currentStep){console.warn("No active collection step");return}const a=fo.getState(),l=vc.processInput(o,s.currentStep);if(!l.success){const p={id:crypto.randomUUID(),type:"ai",content:l.error||"Please provide a valid input.",status:"sent",createdAt:Date.now()};e(m=>({messages:[...m.messages,p]}));return}if(l.wasSkipped){console.log(`⏭️ Skipped optional field: ${s.currentStep.currentField}`);const p={id:crypto.randomUUID(),type:"ai",content:`Okay, I'll skip the ${s.currentStep.currentField} field.`,status:"sent",createdAt:Date.now()};e(m=>({messages:[...m.messages,p]}))}if(l.canvasUpdate){const{nodeType:h,updateType:p,nodeName:m,fieldName:v,fieldValue:y}=l.canvasUpdate;if(p==="node-name"&&m)h==="source"?a.setSelectedSource(m):h==="transform"?a.setSelectedTransform(m):h==="destination"&&a.setSelectedDestination(m),console.log(`✅ Updated ${h} node to: ${m}`);else if(p==="field-value"&&v&&y){const x=a.nodeValues[h]||{};a.updateNodeValues({[h]:{...x,[v]:y}}),console.log(`✅ Updated ${h}.${v} to: ${y}`)}}const c=fo.getState(),d=vc.getNextStep(s,c);if(d){const h=s.currentStep.nodeType,p=d.nodeType,m=h!==p,v=crypto.randomUUID();let y=d.question;if(m){const w={source:"source system",transform:"transformation",destination:"destination system"},S=w[h],_=w[p];y=`Great! Your ${S} is fully configured. Now let's set up your ${_}.

${d.question}`}const x={id:v,type:"ai",content:y,status:"sent",createdAt:Date.now()},N={...s,currentStep:d,completedSteps:[...s.completedSteps,s.currentStep]};e(w=>({messages:[...w.messages,x],fieldCollectionState:N})),console.log("🔄 Moving to next collection step:",d)}else r().completeFieldCollection()},completeFieldCollection:()=>{const s={id:crypto.randomUUID(),type:"ai",content:"Perfect! Your data flow is now fully configured. You can see all the connections and credentials in the canvas. Is there anything else you'd like to adjust?",status:"sent",createdAt:Date.now()};e(a=>({messages:[...a.messages,s],fieldCollectionState:null,isCollectingFields:!1})),console.log("✅ Field collection completed")},skipFieldCollection:()=>{e({fieldCollectionState:null,isCollectingFields:!1}),console.log("⏭️ Field collection skipped")},clearMessages:()=>e({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],conversationHistory:[],highlightId:null,fieldCollectionState:null,isCollectingFields:!1})}),{name:"chat-store"})),qw=()=>{if(typeof window>"u")return;const e=localStorage.getItem("prefillPrompt");e&&(console.log("🔄 Processing prefill from landing:",e),ls.setState({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],input:e,conversationHistory:[],highlightId:null,aiThinking:!1}),setTimeout(()=>{const r=ls.getState();console.log("🔄 Executing prefill timeout for:",e),r.sendWithCanvasUpdate()},100),localStorage.removeItem("prefillPrompt"))};function qm({className:e="",copyrightText:r="© 2025 Nexla. All rights reserved.",...o}){return k.jsx("footer",{className:`bg-blue-600 text-white py-3 px-4 text-center text-sm min-h-[50px] flex items-center justify-center ${e}`,role:"contentinfo","aria-label":"Site footer",...o,children:r})}const Jm=P.forwardRef(({variant:e="default",size:r="md",fullWidth:o=!1,className:s="",...a},l)=>{const c="rounded border transition-colors focus:outline-none focus:ring-2",d={default:"border-slate-300 focus:ring-blue-200 focus:border-blue-400",error:"border-red-300 focus:ring-red-200 focus:border-red-400",success:"border-green-300 focus:ring-green-200 focus:border-green-400"},h={sm:"px-2 py-1 text-xs min-h-[32px]",md:"px-3 py-2 text-sm min-h-[44px]",lg:"px-4 py-3 text-base min-h-[48px]"},p=o?"w-full":"";return k.jsx("input",{ref:l,className:`${c} ${d[e]} ${h[r]} ${p} ${s}`,...a})});Jm.displayName="Input";function gn(e){return typeof e!="string"?"":e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").trim()}function Jw(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function eS(e){try{const r=new URL(e);return["http:","https:"].includes(r.protocol)}catch{return!1}}function tS(e){return/^[a-zA-Z0-9_\-.]+$/.test(e)&&e.length>=8&&e.length<=128}function Rc(e,r){if(gn(r)!==r)return{isValid:!1,error:"Input contains potentially unsafe characters"};const s=e.toLowerCase();return s.includes("email")&&!Jw(r)?{isValid:!1,error:"Invalid email format"}:(s.includes("url")||s.includes("endpoint")||s.includes("host"))&&r&&!eS(r)&&!r.includes("localhost")&&!r.match(/^\d+\.\d+\.\d+\.\d+/)?{isValid:!1,error:"Invalid URL format"}:(s.includes("apikey")||s.includes("token"))&&r&&!tS(r)?{isValid:!1,error:"API key must be 8-128 characters, alphanumeric with _ - . allowed"}:r.length>0&&r.length<2?{isValid:!1,error:"Value must be at least 2 characters long"}:r.length>500?{isValid:!1,error:"Value must be less than 500 characters"}:{isValid:!0}}function nS(e){const r=[];if(!e||typeof e!="object")return{isValid:!1,errors:["Configuration must be a valid object"]};const o=e;if(!o.nodes||typeof o.nodes!="object")return{isValid:!1,errors:['Configuration must have a "nodes" object']};const s=o.nodes,a=["source","destination","transform"];for(const c of a){if(!s[c]||typeof s[c]!="object"){r.push(`Missing or invalid "${c}" node`);continue}const d=s[c];(!d.name||typeof d.name!="string")&&r.push(`${c} node must have a valid "name" string`),(!d.credentials||typeof d.credentials!="object")&&r.push(`${c} node must have a "credentials" object`)}if(r.length>0)return{isValid:!1,errors:r};const l={nodes:{source:{name:gn(s.source.name),credentials:{}},destination:{name:gn(s.destination.name),credentials:{}},transform:{name:gn(s.transform.name),credentials:{}}}};for(const c of a){const d=s[c];if(d.credentials){for(const[h,p]of Object.entries(d.credentials))if(typeof p=="string"){const m=Rc(h,p);m.isValid?l.nodes[c].credentials[gn(h)]=gn(p):r.push(`${c}.${h}: ${m.error}`)}}}return{isValid:r.length===0,sanitized:r.length===0?l:void 0,errors:r}}function Mp(e,r){return["password","token","secret","key","apikey"].some(a=>e.toLowerCase().includes(a))&&r?r.length<=4?"*".repeat(r.length):r.substring(0,2)+"*".repeat(Math.min(r.length-4,8))+r.substring(r.length-2):r}const rS=P.memo(function({placeholder:r="Enter your search query",initialValue:o="",onSubmit:s,className:a="",inputTestId:l="search-input",submitTestId:c="search-submit"}){const[d,h]=P.useState(o),[p,m]=P.useState(""),v=()=>{const x=d.trim();if(!x){m("Please enter a search query");return}if(x.length>200){m("Search query must be less than 200 characters");return}const N=gn(x);if(N!==x){m("Search query contains invalid characters");return}m(""),s?.(N)},y=x=>{x.key==="Enter"&&(x.preventDefault(),v())};return k.jsx("div",{className:`mx-auto max-w-3xl rounded-2xl bg-white shadow-xl p-6 ${a}`,children:k.jsxs("div",{className:"flex gap-3",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx(Jm,{"data-testid":l,className:"flex-1 bg-slate-50",placeholder:r,value:d,onChange:x=>h(x.target.value),onKeyDown:y,size:"lg",fullWidth:!0,variant:p?"error":"default","aria-label":"Search input","aria-invalid":!!p,"aria-describedby":p?"search-error":void 0}),p&&k.jsx("div",{id:"search-error",className:"mt-2 text-sm text-red-600",role:"alert","aria-live":"polite",children:p})]}),k.jsx(dw,{to:"/chat","data-testid":c,className:"rounded-lg bg-violet-600 text-white px-6 py-3 font-semibold hover:bg-violet-500 min-h-[48px] flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2","aria-label":"Start search",onClick:v,children:"Start"})]})})}),oS=P.memo(function({label:r,icon:o="⚡",onClick:s,className:a="",testId:l="example-card"}){const c=()=>{s?.()},d=h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),c())};return k.jsx("button",{"data-testid":l,onClick:c,onKeyDown:d,className:`
        rounded-xl border bg-white p-4 text-left shadow-sm 
        hover:shadow-md focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2
        transition-all duration-200 w-full min-h-[44px]
        ${a}
      `,"aria-label":`Example: ${r}`,children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-7 h-7 rounded-full bg-amber-200 grid place-items-center text-amber-600 flex-shrink-0","aria-hidden":"true",children:o}),k.jsx("div",{className:"text-slate-800 font-medium",children:r})]})})}),iS=P.memo(function({title:r="Nexla",subtitle:o="AI‑Powered Orchestration for Your Data Flows",logo:s="N",className:a="",backgroundClassName:l="bg-gradient-to-b from-violet-700 to-blue-500"}){return k.jsx("div",{className:`${l} text-white pb-24 ${a}`,children:k.jsxs("div",{className:"container-narrow py-10 text-center",children:[k.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-white/95 text-blue-600 grid place-items-center font-bold text-xl",role:"img","aria-label":"Nexla logo",children:s}),k.jsx("h1",{className:"mt-4 text-4xl font-bold sm:text-5xl lg:text-6xl",children:r}),k.jsx("p",{className:"mt-2 text-lg text-blue-100 sm:text-xl lg:text-2xl max-w-2xl mx-auto",children:o})]})})});function sS(){P.useEffect(()=>{console.log("🧹 Clearing Zustand stores on landing page"),ls.getState().clearMessages(),ls.setState({input:"",aiThinking:!1,highlightId:null}),fo.getState().resetToDefaultConfiguration(),localStorage.removeItem("prefillPrompt"),console.log("✅ All stores cleared")},[]);const e=o=>{localStorage.setItem("prefillPrompt",o)},r=o=>{localStorage.setItem("prefillPrompt",o),window.location.href="/chat"};return k.jsxs("div",{className:"min-h-screen flex flex-col",children:[k.jsx(iS,{}),k.jsxs("div",{className:"-mt-14 container-narrow flex-1",children:[k.jsx(rS,{placeholder:"e.g., Connect Shopify orders to Snowflake",onSubmit:e,inputTestId:"landing-input",submitTestId:"landing-submit"}),k.jsx("div",{className:"text-center mt-10 text-slate-500 text-sm",children:"OR TRY ONE OF THESE EXAMPLES"}),k.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:["Connect Shopify to BigQuery","Sync Salesforce contacts to Mailchimp","Get PostgreSQL users and send to a webhook","Analyze Stripe payments in Google Sheets"].map(o=>k.jsx(oS,{label:o,icon:"⚡",onClick:()=>r(o),testId:`example-${o.toLowerCase().replace(/\s+/g,"-")}`},o))})]}),k.jsx(qm,{className:"mt-auto"})]})}function pt(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let o=0,s;o<e.length;o++)(s=pt(e[o]))!==""&&(r+=(r&&" ")+s);else for(let o in e)e[o]&&(r+=(r&&" ")+o);return r}var aS={value:()=>{}};function fl(){for(var e=0,r=arguments.length,o={},s;e<r;++e){if(!(s=arguments[e]+"")||s in o||/[\s.]/.test(s))throw new Error("illegal type: "+s);o[s]=[]}return new Ba(o)}function Ba(e){this._=e}function lS(e,r){return e.trim().split(/^|\s+/).map(function(o){var s="",a=o.indexOf(".");if(a>=0&&(s=o.slice(a+1),o=o.slice(0,a)),o&&!r.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:s}})}Ba.prototype=fl.prototype={constructor:Ba,on:function(e,r){var o=this._,s=lS(e+"",o),a,l=-1,c=s.length;if(arguments.length<2){for(;++l<c;)if((a=(e=s[l]).type)&&(a=uS(o[a],e.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++l<c;)if(a=(e=s[l]).type)o[a]=bp(o[a],e.name,r);else if(r==null)for(a in o)o[a]=bp(o[a],e.name,null);return this},copy:function(){var e={},r=this._;for(var o in r)e[o]=r[o].slice();return new Ba(e)},call:function(e,r){if((a=arguments.length-2)>0)for(var o=new Array(a),s=0,a,l;s<a;++s)o[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,a=l.length;s<a;++s)l[s].value.apply(r,o)},apply:function(e,r,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(r,o)}};function uS(e,r){for(var o=0,s=e.length,a;o<s;++o)if((a=e[o]).name===r)return a.value}function bp(e,r,o){for(var s=0,a=e.length;s<a;++s)if(e[s].name===r){e[s]=aS,e=e.slice(0,s).concat(e.slice(s+1));break}return o!=null&&e.push({name:r,value:o}),e}var Ic="http://www.w3.org/1999/xhtml";const Dp={svg:"http://www.w3.org/2000/svg",xhtml:Ic,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hl(e){var r=e+="",o=r.indexOf(":");return o>=0&&(r=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Dp.hasOwnProperty(r)?{space:Dp[r],local:e}:e}function cS(e){return function(){var r=this.ownerDocument,o=this.namespaceURI;return o===Ic&&r.documentElement.namespaceURI===Ic?r.createElement(e):r.createElementNS(o,e)}}function dS(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function eg(e){var r=hl(e);return(r.local?dS:cS)(r)}function fS(){}function td(e){return e==null?fS:function(){return this.querySelector(e)}}function hS(e){typeof e!="function"&&(e=td(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l=r[a],c=l.length,d=s[a]=new Array(c),h,p,m=0;m<c;++m)(h=l[m])&&(p=e.call(h,h.__data__,m,l))&&("__data__"in h&&(p.__data__=h.__data__),d[m]=p);return new nn(s,this._parents)}function pS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mS(){return[]}function tg(e){return e==null?mS:function(){return this.querySelectorAll(e)}}function gS(e){return function(){return pS(e.apply(this,arguments))}}function yS(e){typeof e=="function"?e=gS(e):e=tg(e);for(var r=this._groups,o=r.length,s=[],a=[],l=0;l<o;++l)for(var c=r[l],d=c.length,h,p=0;p<d;++p)(h=c[p])&&(s.push(e.call(h,h.__data__,p,c)),a.push(h));return new nn(s,a)}function ng(e){return function(){return this.matches(e)}}function rg(e){return function(r){return r.matches(e)}}var vS=Array.prototype.find;function xS(e){return function(){return vS.call(this.children,e)}}function wS(){return this.firstElementChild}function SS(e){return this.select(e==null?wS:xS(typeof e=="function"?e:rg(e)))}var ES=Array.prototype.filter;function CS(){return Array.from(this.children)}function NS(e){return function(){return ES.call(this.children,e)}}function kS(e){return this.selectAll(e==null?CS:NS(typeof e=="function"?e:rg(e)))}function _S(e){typeof e!="function"&&(e=ng(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l=r[a],c=l.length,d=s[a]=[],h,p=0;p<c;++p)(h=l[p])&&e.call(h,h.__data__,p,l)&&d.push(h);return new nn(s,this._parents)}function og(e){return new Array(e.length)}function MS(){return new nn(this._enter||this._groups.map(og),this._parents)}function qa(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}qa.prototype={constructor:qa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bS(e){return function(){return e}}function DS(e,r,o,s,a,l){for(var c=0,d,h=r.length,p=l.length;c<p;++c)(d=r[c])?(d.__data__=l[c],s[c]=d):o[c]=new qa(e,l[c]);for(;c<h;++c)(d=r[c])&&(a[c]=d)}function TS(e,r,o,s,a,l,c){var d,h,p=new Map,m=r.length,v=l.length,y=new Array(m),x;for(d=0;d<m;++d)(h=r[d])&&(y[d]=x=c.call(h,h.__data__,d,r)+"",p.has(x)?a[d]=h:p.set(x,h));for(d=0;d<v;++d)x=c.call(e,l[d],d,l)+"",(h=p.get(x))?(s[d]=h,h.__data__=l[d],p.delete(x)):o[d]=new qa(e,l[d]);for(d=0;d<m;++d)(h=r[d])&&p.get(y[d])===h&&(a[d]=h)}function PS(e){return e.__data__}function OS(e,r){if(!arguments.length)return Array.from(this,PS);var o=r?TS:DS,s=this._parents,a=this._groups;typeof e!="function"&&(e=bS(e));for(var l=a.length,c=new Array(l),d=new Array(l),h=new Array(l),p=0;p<l;++p){var m=s[p],v=a[p],y=v.length,x=RS(e.call(m,m&&m.__data__,p,s)),N=x.length,w=d[p]=new Array(N),S=c[p]=new Array(N),_=h[p]=new Array(y);o(m,v,w,S,_,x,r);for(var T=0,C=0,D,A;T<N;++T)if(D=w[T]){for(T>=C&&(C=T+1);!(A=S[C])&&++C<N;);D._next=A||null}}return c=new nn(c,s),c._enter=d,c._exit=h,c}function RS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IS(){return new nn(this._exit||this._groups.map(og),this._parents)}function LS(e,r,o){var s=this.enter(),a=this,l=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(a=r(a),a&&(a=a.selection())),o==null?l.remove():o(l),s&&a?s.merge(a).order():a}function AS(e){for(var r=e.selection?e.selection():e,o=this._groups,s=r._groups,a=o.length,l=s.length,c=Math.min(a,l),d=new Array(a),h=0;h<c;++h)for(var p=o[h],m=s[h],v=p.length,y=d[h]=new Array(v),x,N=0;N<v;++N)(x=p[N]||m[N])&&(y[N]=x);for(;h<a;++h)d[h]=o[h];return new nn(d,this._parents)}function jS(){for(var e=this._groups,r=-1,o=e.length;++r<o;)for(var s=e[r],a=s.length-1,l=s[a],c;--a>=0;)(c=s[a])&&(l&&c.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(c,l),l=c);return this}function FS(e){e||(e=zS);function r(v,y){return v&&y?e(v.__data__,y.__data__):!v-!y}for(var o=this._groups,s=o.length,a=new Array(s),l=0;l<s;++l){for(var c=o[l],d=c.length,h=a[l]=new Array(d),p,m=0;m<d;++m)(p=c[m])&&(h[m]=p);h.sort(r)}return new nn(a,this._parents).order()}function zS(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function $S(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VS(){return Array.from(this)}function HS(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],a=0,l=s.length;a<l;++a){var c=s[a];if(c)return c}return null}function BS(){let e=0;for(const r of this)++e;return e}function US(){return!this.node()}function WS(e){for(var r=this._groups,o=0,s=r.length;o<s;++o)for(var a=r[o],l=0,c=a.length,d;l<c;++l)(d=a[l])&&e.call(d,d.__data__,l,a);return this}function QS(e){return function(){this.removeAttribute(e)}}function YS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KS(e,r){return function(){this.setAttribute(e,r)}}function XS(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function GS(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function ZS(e,r){return function(){var o=r.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function qS(e,r){var o=hl(e);if(arguments.length<2){var s=this.node();return o.local?s.getAttributeNS(o.space,o.local):s.getAttribute(o)}return this.each((r==null?o.local?YS:QS:typeof r=="function"?o.local?ZS:GS:o.local?XS:KS)(o,r))}function ig(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function JS(e){return function(){this.style.removeProperty(e)}}function e1(e,r,o){return function(){this.style.setProperty(e,r,o)}}function t1(e,r,o){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,o)}}function n1(e,r,o){return arguments.length>1?this.each((r==null?JS:typeof r=="function"?t1:e1)(e,r,o??"")):ii(this.node(),e)}function ii(e,r){return e.style.getPropertyValue(r)||ig(e).getComputedStyle(e,null).getPropertyValue(r)}function r1(e){return function(){delete this[e]}}function o1(e,r){return function(){this[e]=r}}function i1(e,r){return function(){var o=r.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function s1(e,r){return arguments.length>1?this.each((r==null?r1:typeof r=="function"?i1:o1)(e,r)):this.node()[e]}function sg(e){return e.trim().split(/^|\s+/)}function nd(e){return e.classList||new ag(e)}function ag(e){this._node=e,this._names=sg(e.getAttribute("class")||"")}ag.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lg(e,r){for(var o=nd(e),s=-1,a=r.length;++s<a;)o.add(r[s])}function ug(e,r){for(var o=nd(e),s=-1,a=r.length;++s<a;)o.remove(r[s])}function a1(e){return function(){lg(this,e)}}function l1(e){return function(){ug(this,e)}}function u1(e,r){return function(){(r.apply(this,arguments)?lg:ug)(this,e)}}function c1(e,r){var o=sg(e+"");if(arguments.length<2){for(var s=nd(this.node()),a=-1,l=o.length;++a<l;)if(!s.contains(o[a]))return!1;return!0}return this.each((typeof r=="function"?u1:r?a1:l1)(o,r))}function d1(){this.textContent=""}function f1(e){return function(){this.textContent=e}}function h1(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function p1(e){return arguments.length?this.each(e==null?d1:(typeof e=="function"?h1:f1)(e)):this.node().textContent}function m1(){this.innerHTML=""}function g1(e){return function(){this.innerHTML=e}}function y1(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function v1(e){return arguments.length?this.each(e==null?m1:(typeof e=="function"?y1:g1)(e)):this.node().innerHTML}function x1(){this.nextSibling&&this.parentNode.appendChild(this)}function w1(){return this.each(x1)}function S1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function E1(){return this.each(S1)}function C1(e){var r=typeof e=="function"?e:eg(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function N1(){return null}function k1(e,r){var o=typeof e=="function"?e:eg(e),s=r==null?N1:typeof r=="function"?r:td(r);return this.select(function(){return this.insertBefore(o.apply(this,arguments),s.apply(this,arguments)||null)})}function _1(){var e=this.parentNode;e&&e.removeChild(this)}function M1(){return this.each(_1)}function b1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function D1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function T1(e){return this.select(e?D1:b1)}function P1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function O1(e){return function(r){e.call(this,r,this.__data__)}}function R1(e){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");return s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),{type:r,name:o}})}function I1(e){return function(){var r=this.__on;if(r){for(var o=0,s=-1,a=r.length,l;o<a;++o)l=r[o],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):r[++s]=l;++s?r.length=s:delete this.__on}}}function L1(e,r,o){return function(){var s=this.__on,a,l=O1(r);if(s){for(var c=0,d=s.length;c<d;++c)if((a=s[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=o),a.value=r;return}}this.addEventListener(e.type,l,o),a={type:e.type,name:e.name,value:r,listener:l,options:o},s?s.push(a):this.__on=[a]}}function A1(e,r,o){var s=R1(e+""),a,l=s.length,c;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,p=d.length,m;h<p;++h)for(a=0,m=d[h];a<l;++a)if((c=s[a]).type===m.type&&c.name===m.name)return m.value}return}for(d=r?L1:I1,a=0;a<l;++a)this.each(d(s[a],r,o));return this}function cg(e,r,o){var s=ig(e),a=s.CustomEvent;typeof a=="function"?a=new a(r,o):(a=s.document.createEvent("Event"),o?(a.initEvent(r,o.bubbles,o.cancelable),a.detail=o.detail):a.initEvent(r,!1,!1)),e.dispatchEvent(a)}function j1(e,r){return function(){return cg(this,e,r)}}function F1(e,r){return function(){return cg(this,e,r.apply(this,arguments))}}function z1(e,r){return this.each((typeof r=="function"?F1:j1)(e,r))}function*$1(){for(var e=this._groups,r=0,o=e.length;r<o;++r)for(var s=e[r],a=0,l=s.length,c;a<l;++a)(c=s[a])&&(yield c)}var dg=[null];function nn(e,r){this._groups=e,this._parents=r}function Ss(){return new nn([[document.documentElement]],dg)}function V1(){return this}nn.prototype=Ss.prototype={constructor:nn,select:hS,selectAll:yS,selectChild:SS,selectChildren:kS,filter:_S,data:OS,enter:MS,exit:IS,join:LS,merge:AS,selection:V1,order:jS,sort:FS,call:$S,nodes:VS,node:HS,size:BS,empty:US,each:WS,attr:qS,style:n1,property:s1,classed:c1,text:p1,html:v1,raise:w1,lower:E1,append:C1,insert:k1,remove:M1,clone:T1,datum:P1,on:A1,dispatch:z1,[Symbol.iterator]:$1};function tn(e){return typeof e=="string"?new nn([[document.querySelector(e)]],[document.documentElement]):new nn([[e]],dg)}function H1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function bn(e,r){if(e=H1(e),r===void 0&&(r=e.currentTarget),r){var o=r.ownerSVGElement||r;if(o.createSVGPoint){var s=o.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[e.clientX-a.left-r.clientLeft,e.clientY-a.top-r.clientTop]}}return[e.pageX,e.pageY]}const B1={passive:!1},us={capture:!0,passive:!1};function xc(e){e.stopImmediatePropagation()}function ni(e){e.preventDefault(),e.stopImmediatePropagation()}function fg(e){var r=e.document.documentElement,o=tn(e).on("dragstart.drag",ni,us);"onselectstart"in r?o.on("selectstart.drag",ni,us):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function hg(e,r){var o=e.document.documentElement,s=tn(e).on("dragstart.drag",null);r&&(s.on("click.drag",ni,us),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in o?s.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const Pa=e=>()=>e;function Lc(e,{sourceEvent:r,subject:o,target:s,identifier:a,active:l,x:c,y:d,dx:h,dy:p,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:m}})}Lc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function U1(e){return!e.ctrlKey&&!e.button}function W1(){return this.parentNode}function Q1(e,r){return r??{x:e.x,y:e.y}}function Y1(){return navigator.maxTouchPoints||"ontouchstart"in this}function pg(){var e=U1,r=W1,o=Q1,s=Y1,a={},l=fl("start","drag","end"),c=0,d,h,p,m,v=0;function y(D){D.on("mousedown.drag",x).filter(s).on("touchstart.drag",S).on("touchmove.drag",_,B1).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(D,A){if(!(m||!e.call(this,D,A))){var V=C(this,r.call(this,D,A),D,A,"mouse");V&&(tn(D.view).on("mousemove.drag",N,us).on("mouseup.drag",w,us),fg(D.view),xc(D),p=!1,d=D.clientX,h=D.clientY,V("start",D))}}function N(D){if(ni(D),!p){var A=D.clientX-d,V=D.clientY-h;p=A*A+V*V>v}a.mouse("drag",D)}function w(D){tn(D.view).on("mousemove.drag mouseup.drag",null),hg(D.view,p),ni(D),a.mouse("end",D)}function S(D,A){if(e.call(this,D,A)){var V=D.changedTouches,M=r.call(this,D,A),z=V.length,G,ne;for(G=0;G<z;++G)(ne=C(this,M,D,A,V[G].identifier,V[G]))&&(xc(D),ne("start",D,V[G]))}}function _(D){var A=D.changedTouches,V=A.length,M,z;for(M=0;M<V;++M)(z=a[A[M].identifier])&&(ni(D),z("drag",D,A[M]))}function T(D){var A=D.changedTouches,V=A.length,M,z;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),M=0;M<V;++M)(z=a[A[M].identifier])&&(xc(D),z("end",D,A[M]))}function C(D,A,V,M,z,G){var ne=l.copy(),re=bn(G||V,A),L,q,O;if((O=o.call(D,new Lc("beforestart",{sourceEvent:V,target:y,identifier:z,active:c,x:re[0],y:re[1],dx:0,dy:0,dispatch:ne}),M))!=null)return L=O.x-re[0]||0,q=O.y-re[1]||0,function U(H,F,I){var B=re,Y;switch(H){case"start":a[z]=U,Y=c++;break;case"end":delete a[z],--c;case"drag":re=bn(I||F,A),Y=c;break}ne.call(H,D,new Lc(H,{sourceEvent:F,subject:O,target:y,identifier:z,active:Y,x:re[0]+L,y:re[1]+q,dx:re[0]-B[0],dy:re[1]-B[1],dispatch:ne}),M)}}return y.filter=function(D){return arguments.length?(e=typeof D=="function"?D:Pa(!!D),y):e},y.container=function(D){return arguments.length?(r=typeof D=="function"?D:Pa(D),y):r},y.subject=function(D){return arguments.length?(o=typeof D=="function"?D:Pa(D),y):o},y.touchable=function(D){return arguments.length?(s=typeof D=="function"?D:Pa(!!D),y):s},y.on=function(){var D=l.on.apply(l,arguments);return D===l?y:D},y.clickDistance=function(D){return arguments.length?(v=(D=+D)*D,y):Math.sqrt(v)},y}function rd(e,r,o){e.prototype=r.prototype=o,o.constructor=e}function mg(e,r){var o=Object.create(e.prototype);for(var s in r)o[s]=r[s];return o}function Es(){}var cs=.7,Ja=1/cs,ri="\\s*([+-]?\\d+)\\s*",ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K1=/^#([0-9a-f]{3,8})$/,X1=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),G1=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),Z1=new RegExp(`^rgba\\(${ri},${ri},${ri},${ds}\\)$`),q1=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${ds}\\)$`),J1=new RegExp(`^hsl\\(${ds},${Hn},${Hn}\\)$`),eE=new RegExp(`^hsla\\(${ds},${Hn},${Hn},${ds}\\)$`),Tp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rd(Es,vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pp,formatHex:Pp,formatHex8:tE,formatHsl:nE,formatRgb:Op,toString:Op});function Pp(){return this.rgb().formatHex()}function tE(){return this.rgb().formatHex8()}function nE(){return gg(this).formatHsl()}function Op(){return this.rgb().formatRgb()}function vo(e){var r,o;return e=(e+"").trim().toLowerCase(),(r=K1.exec(e))?(o=r[1].length,r=parseInt(r[1],16),o===6?Rp(r):o===3?new Bt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):o===8?Oa(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):o===4?Oa(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=X1.exec(e))?new Bt(r[1],r[2],r[3],1):(r=G1.exec(e))?new Bt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Z1.exec(e))?Oa(r[1],r[2],r[3],r[4]):(r=q1.exec(e))?Oa(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=J1.exec(e))?Ap(r[1],r[2]/100,r[3]/100,1):(r=eE.exec(e))?Ap(r[1],r[2]/100,r[3]/100,r[4]):Tp.hasOwnProperty(e)?Rp(Tp[e]):e==="transparent"?new Bt(NaN,NaN,NaN,0):null}function Rp(e){return new Bt(e>>16&255,e>>8&255,e&255,1)}function Oa(e,r,o,s){return s<=0&&(e=r=o=NaN),new Bt(e,r,o,s)}function rE(e){return e instanceof Es||(e=vo(e)),e?(e=e.rgb(),new Bt(e.r,e.g,e.b,e.opacity)):new Bt}function Ac(e,r,o,s){return arguments.length===1?rE(e):new Bt(e,r,o,s??1)}function Bt(e,r,o,s){this.r=+e,this.g=+r,this.b=+o,this.opacity=+s}rd(Bt,Ac,mg(Es,{brighter(e){return e=e==null?Ja:Math.pow(Ja,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cs:Math.pow(cs,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bt(mo(this.r),mo(this.g),mo(this.b),el(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ip,formatHex:Ip,formatHex8:oE,formatRgb:Lp,toString:Lp}));function Ip(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function oE(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lp(){const e=el(this.opacity);return`${e===1?"rgb(":"rgba("}${mo(this.r)}, ${mo(this.g)}, ${mo(this.b)}${e===1?")":`, ${e})`}`}function el(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function po(e){return e=mo(e),(e<16?"0":"")+e.toString(16)}function Ap(e,r,o,s){return s<=0?e=r=o=NaN:o<=0||o>=1?e=r=NaN:r<=0&&(e=NaN),new Dn(e,r,o,s)}function gg(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Es||(e=vo(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var r=e.r/255,o=e.g/255,s=e.b/255,a=Math.min(r,o,s),l=Math.max(r,o,s),c=NaN,d=l-a,h=(l+a)/2;return d?(r===l?c=(o-s)/d+(o<s)*6:o===l?c=(s-r)/d+2:c=(r-o)/d+4,d/=h<.5?l+a:2-l-a,c*=60):d=h>0&&h<1?0:c,new Dn(c,d,h,e.opacity)}function iE(e,r,o,s){return arguments.length===1?gg(e):new Dn(e,r,o,s??1)}function Dn(e,r,o,s){this.h=+e,this.s=+r,this.l=+o,this.opacity=+s}rd(Dn,iE,mg(Es,{brighter(e){return e=e==null?Ja:Math.pow(Ja,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cs:Math.pow(cs,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,s=o+(o<.5?o:1-o)*r,a=2*o-s;return new Bt(wc(e>=240?e-240:e+120,a,s),wc(e,a,s),wc(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Dn(jp(this.h),Ra(this.s),Ra(this.l),el(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=el(this.opacity);return`${e===1?"hsl(":"hsla("}${jp(this.h)}, ${Ra(this.s)*100}%, ${Ra(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jp(e){return e=(e||0)%360,e<0?e+360:e}function Ra(e){return Math.max(0,Math.min(1,e||0))}function wc(e,r,o){return(e<60?r+(o-r)*e/60:e<180?o:e<240?r+(o-r)*(240-e)/60:r)*255}const od=e=>()=>e;function sE(e,r){return function(o){return e+o*r}}function aE(e,r,o){return e=Math.pow(e,o),r=Math.pow(r,o)-e,o=1/o,function(s){return Math.pow(e+s*r,o)}}function lE(e){return(e=+e)==1?yg:function(r,o){return o-r?aE(r,o,e):od(isNaN(r)?o:r)}}function yg(e,r){var o=r-e;return o?sE(e,o):od(isNaN(e)?r:e)}const tl=(function e(r){var o=lE(r);function s(a,l){var c=o((a=Ac(a)).r,(l=Ac(l)).r),d=o(a.g,l.g),h=o(a.b,l.b),p=yg(a.opacity,l.opacity);return function(m){return a.r=c(m),a.g=d(m),a.b=h(m),a.opacity=p(m),a+""}}return s.gamma=e,s})(1);function uE(e,r){r||(r=[]);var o=e?Math.min(r.length,e.length):0,s=r.slice(),a;return function(l){for(a=0;a<o;++a)s[a]=e[a]*(1-l)+r[a]*l;return s}}function cE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dE(e,r){var o=r?r.length:0,s=e?Math.min(o,e.length):0,a=new Array(s),l=new Array(o),c;for(c=0;c<s;++c)a[c]=ns(e[c],r[c]);for(;c<o;++c)l[c]=r[c];return function(d){for(c=0;c<s;++c)l[c]=a[c](d);return l}}function fE(e,r){var o=new Date;return e=+e,r=+r,function(s){return o.setTime(e*(1-s)+r*s),o}}function $n(e,r){return e=+e,r=+r,function(o){return e*(1-o)+r*o}}function hE(e,r){var o={},s={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?o[a]=ns(e[a],r[a]):s[a]=r[a];return function(l){for(a in o)s[a]=o[a](l);return s}}var jc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sc=new RegExp(jc.source,"g");function pE(e){return function(){return e}}function mE(e){return function(r){return e(r)+""}}function vg(e,r){var o=jc.lastIndex=Sc.lastIndex=0,s,a,l,c=-1,d=[],h=[];for(e=e+"",r=r+"";(s=jc.exec(e))&&(a=Sc.exec(r));)(l=a.index)>o&&(l=r.slice(o,l),d[c]?d[c]+=l:d[++c]=l),(s=s[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:$n(s,a)})),o=Sc.lastIndex;return o<r.length&&(l=r.slice(o),d[c]?d[c]+=l:d[++c]=l),d.length<2?h[0]?mE(h[0].x):pE(r):(r=h.length,function(p){for(var m=0,v;m<r;++m)d[(v=h[m]).i]=v.x(p);return d.join("")})}function ns(e,r){var o=typeof r,s;return r==null||o==="boolean"?od(r):(o==="number"?$n:o==="string"?(s=vo(r))?(r=s,tl):vg:r instanceof vo?tl:r instanceof Date?fE:cE(r)?uE:Array.isArray(r)?dE:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?hE:$n)(e,r)}var Fp=180/Math.PI,Fc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xg(e,r,o,s,a,l){var c,d,h;return(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c),(h=e*o+r*s)&&(o-=e*h,s-=r*h),(d=Math.sqrt(o*o+s*s))&&(o/=d,s/=d,h/=d),e*s<r*o&&(e=-e,r=-r,h=-h,c=-c),{translateX:a,translateY:l,rotate:Math.atan2(r,e)*Fp,skewX:Math.atan(h)*Fp,scaleX:c,scaleY:d}}var Ia;function gE(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Fc:xg(r.a,r.b,r.c,r.d,r.e,r.f)}function yE(e){return e==null||(Ia||(Ia=document.createElementNS("http://www.w3.org/2000/svg","g")),Ia.setAttribute("transform",e),!(e=Ia.transform.baseVal.consolidate()))?Fc:(e=e.matrix,xg(e.a,e.b,e.c,e.d,e.e,e.f))}function wg(e,r,o,s){function a(p){return p.length?p.pop()+" ":""}function l(p,m,v,y,x,N){if(p!==v||m!==y){var w=x.push("translate(",null,r,null,o);N.push({i:w-4,x:$n(p,v)},{i:w-2,x:$n(m,y)})}else(v||y)&&x.push("translate("+v+r+y+o)}function c(p,m,v,y){p!==m?(p-m>180?m+=360:m-p>180&&(p+=360),y.push({i:v.push(a(v)+"rotate(",null,s)-2,x:$n(p,m)})):m&&v.push(a(v)+"rotate("+m+s)}function d(p,m,v,y){p!==m?y.push({i:v.push(a(v)+"skewX(",null,s)-2,x:$n(p,m)}):m&&v.push(a(v)+"skewX("+m+s)}function h(p,m,v,y,x,N){if(p!==v||m!==y){var w=x.push(a(x)+"scale(",null,",",null,")");N.push({i:w-4,x:$n(p,v)},{i:w-2,x:$n(m,y)})}else(v!==1||y!==1)&&x.push(a(x)+"scale("+v+","+y+")")}return function(p,m){var v=[],y=[];return p=e(p),m=e(m),l(p.translateX,p.translateY,m.translateX,m.translateY,v,y),c(p.rotate,m.rotate,v,y),d(p.skewX,m.skewX,v,y),h(p.scaleX,p.scaleY,m.scaleX,m.scaleY,v,y),p=m=null,function(x){for(var N=-1,w=y.length,S;++N<w;)v[(S=y[N]).i]=S.x(x);return v.join("")}}}var vE=wg(gE,"px, ","px)","deg)"),xE=wg(yE,", ",")",")"),wE=1e-12;function zp(e){return((e=Math.exp(e))+1/e)/2}function SE(e){return((e=Math.exp(e))-1/e)/2}function EE(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ua=(function e(r,o,s){function a(l,c){var d=l[0],h=l[1],p=l[2],m=c[0],v=c[1],y=c[2],x=m-d,N=v-h,w=x*x+N*N,S,_;if(w<wE)_=Math.log(y/p)/r,S=function(M){return[d+M*x,h+M*N,p*Math.exp(r*M*_)]};else{var T=Math.sqrt(w),C=(y*y-p*p+s*w)/(2*p*o*T),D=(y*y-p*p-s*w)/(2*y*o*T),A=Math.log(Math.sqrt(C*C+1)-C),V=Math.log(Math.sqrt(D*D+1)-D);_=(V-A)/r,S=function(M){var z=M*_,G=zp(A),ne=p/(o*T)*(G*EE(r*z+A)-SE(A));return[d+ne*x,h+ne*N,p*G/zp(r*z+A)]}}return S.duration=_*1e3*r/Math.SQRT2,S}return a.rho=function(l){var c=Math.max(.001,+l),d=c*c,h=d*d;return e(c,d,h)},a})(Math.SQRT2,2,4);var si=0,es=0,Zi=0,Sg=1e3,nl,ts,rl=0,xo=0,pl=0,fs=typeof performance=="object"&&performance.now?performance:Date,Eg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function id(){return xo||(Eg(CE),xo=fs.now()+pl)}function CE(){xo=0}function ol(){this._call=this._time=this._next=null}ol.prototype=Cg.prototype={constructor:ol,restart:function(e,r,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?id():+o)+(r==null?0:+r),!this._next&&ts!==this&&(ts?ts._next=this:nl=this,ts=this),this._call=e,this._time=o,zc()},stop:function(){this._call&&(this._call=null,this._time=1/0,zc())}};function Cg(e,r,o){var s=new ol;return s.restart(e,r,o),s}function NE(){id(),++si;for(var e=nl,r;e;)(r=xo-e._time)>=0&&e._call.call(void 0,r),e=e._next;--si}function $p(){xo=(rl=fs.now())+pl,si=es=0;try{NE()}finally{si=0,_E(),xo=0}}function kE(){var e=fs.now(),r=e-rl;r>Sg&&(pl-=r,rl=e)}function _E(){for(var e,r=nl,o,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(o=r._next,r._next=null,r=e?e._next=o:nl=o);ts=e,zc(s)}function zc(e){if(!si){es&&(es=clearTimeout(es));var r=e-xo;r>24?(e<1/0&&(es=setTimeout($p,e-fs.now()-pl)),Zi&&(Zi=clearInterval(Zi))):(Zi||(rl=fs.now(),Zi=setInterval(kE,Sg)),si=1,Eg($p))}}function Vp(e,r,o){var s=new ol;return r=r==null?0:+r,s.restart(a=>{s.stop(),e(a+r)},r,o),s}var ME=fl("start","end","cancel","interrupt"),bE=[],Ng=0,Hp=1,$c=2,Wa=3,Bp=4,Vc=5,Qa=6;function ml(e,r,o,s,a,l){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;DE(e,o,{name:r,index:s,group:a,on:ME,tween:bE,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Ng})}function sd(e,r){var o=Pn(e,r);if(o.state>Ng)throw new Error("too late; already scheduled");return o}function Wn(e,r){var o=Pn(e,r);if(o.state>Wa)throw new Error("too late; already running");return o}function Pn(e,r){var o=e.__transition;if(!o||!(o=o[r]))throw new Error("transition not found");return o}function DE(e,r,o){var s=e.__transition,a;s[r]=o,o.timer=Cg(l,0,o.time);function l(p){o.state=Hp,o.timer.restart(c,o.delay,o.time),o.delay<=p&&c(p-o.delay)}function c(p){var m,v,y,x;if(o.state!==Hp)return h();for(m in s)if(x=s[m],x.name===o.name){if(x.state===Wa)return Vp(c);x.state===Bp?(x.state=Qa,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete s[m]):+m<r&&(x.state=Qa,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete s[m])}if(Vp(function(){o.state===Wa&&(o.state=Bp,o.timer.restart(d,o.delay,o.time),d(p))}),o.state=$c,o.on.call("start",e,e.__data__,o.index,o.group),o.state===$c){for(o.state=Wa,a=new Array(y=o.tween.length),m=0,v=-1;m<y;++m)(x=o.tween[m].value.call(e,e.__data__,o.index,o.group))&&(a[++v]=x);a.length=v+1}}function d(p){for(var m=p<o.duration?o.ease.call(null,p/o.duration):(o.timer.restart(h),o.state=Vc,1),v=-1,y=a.length;++v<y;)a[v].call(e,m);o.state===Vc&&(o.on.call("end",e,e.__data__,o.index,o.group),h())}function h(){o.state=Qa,o.timer.stop(),delete s[r];for(var p in s)return;delete e.__transition}}function Ya(e,r){var o=e.__transition,s,a,l=!0,c;if(o){r=r==null?null:r+"";for(c in o){if((s=o[c]).name!==r){l=!1;continue}a=s.state>$c&&s.state<Vc,s.state=Qa,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete o[c]}l&&delete e.__transition}}function TE(e){return this.each(function(){Ya(this,e)})}function PE(e,r){var o,s;return function(){var a=Wn(this,e),l=a.tween;if(l!==o){s=o=l;for(var c=0,d=s.length;c<d;++c)if(s[c].name===r){s=s.slice(),s.splice(c,1);break}}a.tween=s}}function OE(e,r,o){var s,a;if(typeof o!="function")throw new Error;return function(){var l=Wn(this,e),c=l.tween;if(c!==s){a=(s=c).slice();for(var d={name:r,value:o},h=0,p=a.length;h<p;++h)if(a[h].name===r){a[h]=d;break}h===p&&a.push(d)}l.tween=a}}function RE(e,r){var o=this._id;if(e+="",arguments.length<2){for(var s=Pn(this.node(),o).tween,a=0,l=s.length,c;a<l;++a)if((c=s[a]).name===e)return c.value;return null}return this.each((r==null?PE:OE)(o,e,r))}function ad(e,r,o){var s=e._id;return e.each(function(){var a=Wn(this,s);(a.value||(a.value={}))[r]=o.apply(this,arguments)}),function(a){return Pn(a,s).value[r]}}function kg(e,r){var o;return(typeof r=="number"?$n:r instanceof vo?tl:(o=vo(r))?(r=o,tl):vg)(e,r)}function IE(e){return function(){this.removeAttribute(e)}}function LE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AE(e,r,o){var s,a=o+"",l;return function(){var c=this.getAttribute(e);return c===a?null:c===s?l:l=r(s=c,o)}}function jE(e,r,o){var s,a=o+"",l;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===s?l:l=r(s=c,o)}}function FE(e,r,o){var s,a,l;return function(){var c,d=o(this),h;return d==null?void this.removeAttribute(e):(c=this.getAttribute(e),h=d+"",c===h?null:c===s&&h===a?l:(a=h,l=r(s=c,d)))}}function zE(e,r,o){var s,a,l;return function(){var c,d=o(this),h;return d==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),h=d+"",c===h?null:c===s&&h===a?l:(a=h,l=r(s=c,d)))}}function $E(e,r){var o=hl(e),s=o==="transform"?xE:kg;return this.attrTween(e,typeof r=="function"?(o.local?zE:FE)(o,s,ad(this,"attr."+e,r)):r==null?(o.local?LE:IE)(o):(o.local?jE:AE)(o,s,r))}function VE(e,r){return function(o){this.setAttribute(e,r.call(this,o))}}function HE(e,r){return function(o){this.setAttributeNS(e.space,e.local,r.call(this,o))}}function BE(e,r){var o,s;function a(){var l=r.apply(this,arguments);return l!==s&&(o=(s=l)&&HE(e,l)),o}return a._value=r,a}function UE(e,r){var o,s;function a(){var l=r.apply(this,arguments);return l!==s&&(o=(s=l)&&VE(e,l)),o}return a._value=r,a}function WE(e,r){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(r==null)return this.tween(o,null);if(typeof r!="function")throw new Error;var s=hl(e);return this.tween(o,(s.local?BE:UE)(s,r))}function QE(e,r){return function(){sd(this,e).delay=+r.apply(this,arguments)}}function YE(e,r){return r=+r,function(){sd(this,e).delay=r}}function KE(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?QE:YE)(r,e)):Pn(this.node(),r).delay}function XE(e,r){return function(){Wn(this,e).duration=+r.apply(this,arguments)}}function GE(e,r){return r=+r,function(){Wn(this,e).duration=r}}function ZE(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?XE:GE)(r,e)):Pn(this.node(),r).duration}function qE(e,r){if(typeof r!="function")throw new Error;return function(){Wn(this,e).ease=r}}function JE(e){var r=this._id;return arguments.length?this.each(qE(r,e)):Pn(this.node(),r).ease}function eC(e,r){return function(){var o=r.apply(this,arguments);if(typeof o!="function")throw new Error;Wn(this,e).ease=o}}function tC(e){if(typeof e!="function")throw new Error;return this.each(eC(this._id,e))}function nC(e){typeof e!="function"&&(e=ng(e));for(var r=this._groups,o=r.length,s=new Array(o),a=0;a<o;++a)for(var l=r[a],c=l.length,d=s[a]=[],h,p=0;p<c;++p)(h=l[p])&&e.call(h,h.__data__,p,l)&&d.push(h);return new ur(s,this._parents,this._name,this._id)}function rC(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,o=e._groups,s=r.length,a=o.length,l=Math.min(s,a),c=new Array(s),d=0;d<l;++d)for(var h=r[d],p=o[d],m=h.length,v=c[d]=new Array(m),y,x=0;x<m;++x)(y=h[x]||p[x])&&(v[x]=y);for(;d<s;++d)c[d]=r[d];return new ur(c,this._parents,this._name,this._id)}function oC(e){return(e+"").trim().split(/^|\s+/).every(function(r){var o=r.indexOf(".");return o>=0&&(r=r.slice(0,o)),!r||r==="start"})}function iC(e,r,o){var s,a,l=oC(r)?sd:Wn;return function(){var c=l(this,e),d=c.on;d!==s&&(a=(s=d).copy()).on(r,o),c.on=a}}function sC(e,r){var o=this._id;return arguments.length<2?Pn(this.node(),o).on.on(e):this.each(iC(o,e,r))}function aC(e){return function(){var r=this.parentNode;for(var o in this.__transition)if(+o!==e)return;r&&r.removeChild(this)}}function lC(){return this.on("end.remove",aC(this._id))}function uC(e){var r=this._name,o=this._id;typeof e!="function"&&(e=td(e));for(var s=this._groups,a=s.length,l=new Array(a),c=0;c<a;++c)for(var d=s[c],h=d.length,p=l[c]=new Array(h),m,v,y=0;y<h;++y)(m=d[y])&&(v=e.call(m,m.__data__,y,d))&&("__data__"in m&&(v.__data__=m.__data__),p[y]=v,ml(p[y],r,o,y,p,Pn(m,o)));return new ur(l,this._parents,r,o)}function cC(e){var r=this._name,o=this._id;typeof e!="function"&&(e=tg(e));for(var s=this._groups,a=s.length,l=[],c=[],d=0;d<a;++d)for(var h=s[d],p=h.length,m,v=0;v<p;++v)if(m=h[v]){for(var y=e.call(m,m.__data__,v,h),x,N=Pn(m,o),w=0,S=y.length;w<S;++w)(x=y[w])&&ml(x,r,o,w,y,N);l.push(y),c.push(m)}return new ur(l,c,r,o)}var dC=Ss.prototype.constructor;function fC(){return new dC(this._groups,this._parents)}function hC(e,r){var o,s,a;return function(){var l=ii(this,e),c=(this.style.removeProperty(e),ii(this,e));return l===c?null:l===o&&c===s?a:a=r(o=l,s=c)}}function _g(e){return function(){this.style.removeProperty(e)}}function pC(e,r,o){var s,a=o+"",l;return function(){var c=ii(this,e);return c===a?null:c===s?l:l=r(s=c,o)}}function mC(e,r,o){var s,a,l;return function(){var c=ii(this,e),d=o(this),h=d+"";return d==null&&(h=d=(this.style.removeProperty(e),ii(this,e))),c===h?null:c===s&&h===a?l:(a=h,l=r(s=c,d))}}function gC(e,r){var o,s,a,l="style."+r,c="end."+l,d;return function(){var h=Wn(this,e),p=h.on,m=h.value[l]==null?d||(d=_g(r)):void 0;(p!==o||a!==m)&&(s=(o=p).copy()).on(c,a=m),h.on=s}}function yC(e,r,o){var s=(e+="")=="transform"?vE:kg;return r==null?this.styleTween(e,hC(e,s)).on("end.style."+e,_g(e)):typeof r=="function"?this.styleTween(e,mC(e,s,ad(this,"style."+e,r))).each(gC(this._id,e)):this.styleTween(e,pC(e,s,r),o).on("end.style."+e,null)}function vC(e,r,o){return function(s){this.style.setProperty(e,r.call(this,s),o)}}function xC(e,r,o){var s,a;function l(){var c=r.apply(this,arguments);return c!==a&&(s=(a=c)&&vC(e,c,o)),s}return l._value=r,l}function wC(e,r,o){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,xC(e,r,o??""))}function SC(e){return function(){this.textContent=e}}function EC(e){return function(){var r=e(this);this.textContent=r??""}}function CC(e){return this.tween("text",typeof e=="function"?EC(ad(this,"text",e)):SC(e==null?"":e+""))}function NC(e){return function(r){this.textContent=e.call(this,r)}}function kC(e){var r,o;function s(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&NC(a)),r}return s._value=e,s}function _C(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,kC(e))}function MC(){for(var e=this._name,r=this._id,o=Mg(),s=this._groups,a=s.length,l=0;l<a;++l)for(var c=s[l],d=c.length,h,p=0;p<d;++p)if(h=c[p]){var m=Pn(h,r);ml(h,e,o,p,c,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ur(s,this._parents,e,o)}function bC(){var e,r,o=this,s=o._id,a=o.size();return new Promise(function(l,c){var d={value:c},h={value:function(){--a===0&&l()}};o.each(function(){var p=Wn(this,s),m=p.on;m!==e&&(r=(e=m).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(h)),p.on=r}),a===0&&l()})}var DC=0;function ur(e,r,o,s){this._groups=e,this._parents=r,this._name=o,this._id=s}function Mg(){return++DC}var ir=Ss.prototype;ur.prototype={constructor:ur,select:uC,selectAll:cC,selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:nC,merge:rC,selection:fC,transition:MC,call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:sC,attr:$E,attrTween:WE,style:yC,styleTween:wC,text:CC,textTween:_C,remove:lC,tween:RE,delay:KE,duration:ZE,ease:JE,easeVarying:tC,end:bC,[Symbol.iterator]:ir[Symbol.iterator]};function TC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var PC={time:null,delay:0,duration:250,ease:TC};function OC(e,r){for(var o;!(o=e.__transition)||!(o=o[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return o}function RC(e){var r,o;e instanceof ur?(r=e._id,e=e._name):(r=Mg(),(o=PC).time=id(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,l=0;l<a;++l)for(var c=s[l],d=c.length,h,p=0;p<d;++p)(h=c[p])&&ml(h,e,r,p,c,o||OC(h,r));return new ur(s,this._parents,e,r)}Ss.prototype.interrupt=TE;Ss.prototype.transition=RC;const La=e=>()=>e;function IC(e,{sourceEvent:r,target:o,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function sr(e,r,o){this.k=e,this.x=r,this.y=o}sr.prototype={constructor:sr,scale:function(e){return e===1?this:new sr(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new sr(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gl=new sr(1,0,0);bg.prototype=sr.prototype;function bg(e){for(;!e.__zoom;)if(!(e=e.parentNode))return gl;return e.__zoom}function Ec(e){e.stopImmediatePropagation()}function qi(e){e.preventDefault(),e.stopImmediatePropagation()}function LC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Up(){return this.__zoom||gl}function jC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function FC(){return navigator.maxTouchPoints||"ontouchstart"in this}function zC(e,r,o){var s=e.invertX(r[0][0])-o[0][0],a=e.invertX(r[1][0])-o[1][0],l=e.invertY(r[0][1])-o[0][1],c=e.invertY(r[1][1])-o[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),c>l?(l+c)/2:Math.min(0,l)||Math.max(0,c))}function Dg(){var e=LC,r=AC,o=zC,s=jC,a=FC,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,h=Ua,p=fl("start","zoom","end"),m,v,y,x=500,N=150,w=0,S=10;function _(O){O.property("__zoom",Up).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",G).on("dblclick.zoom",ne).filter(a).on("touchstart.zoom",re).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(O,U,H,F){var I=O.selection?O.selection():O;I.property("__zoom",Up),O!==I?A(O,U,H,F):I.interrupt().each(function(){V(this,arguments).event(F).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},_.scaleBy=function(O,U,H,F){_.scaleTo(O,function(){var I=this.__zoom.k,B=typeof U=="function"?U.apply(this,arguments):U;return I*B},H,F)},_.scaleTo=function(O,U,H,F){_.transform(O,function(){var I=r.apply(this,arguments),B=this.__zoom,Y=H==null?D(I):typeof H=="function"?H.apply(this,arguments):H,b=B.invert(Y),Q=typeof U=="function"?U.apply(this,arguments):U;return o(C(T(B,Q),Y,b),I,c)},H,F)},_.translateBy=function(O,U,H,F){_.transform(O,function(){return o(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof H=="function"?H.apply(this,arguments):H),r.apply(this,arguments),c)},null,F)},_.translateTo=function(O,U,H,F,I){_.transform(O,function(){var B=r.apply(this,arguments),Y=this.__zoom,b=F==null?D(B):typeof F=="function"?F.apply(this,arguments):F;return o(gl.translate(b[0],b[1]).scale(Y.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof H=="function"?-H.apply(this,arguments):-H),B,c)},F,I)};function T(O,U){return U=Math.max(l[0],Math.min(l[1],U)),U===O.k?O:new sr(U,O.x,O.y)}function C(O,U,H){var F=U[0]-H[0]*O.k,I=U[1]-H[1]*O.k;return F===O.x&&I===O.y?O:new sr(O.k,F,I)}function D(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function A(O,U,H,F){O.on("start.zoom",function(){V(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(F).end()}).tween("zoom",function(){var I=this,B=arguments,Y=V(I,B).event(F),b=r.apply(I,B),Q=H==null?D(b):typeof H=="function"?H.apply(I,B):H,se=Math.max(b[1][0]-b[0][0],b[1][1]-b[0][1]),oe=I.__zoom,ue=typeof U=="function"?U.apply(I,B):U,pe=h(oe.invert(Q).concat(se/oe.k),ue.invert(Q).concat(se/ue.k));return function(de){if(de===1)de=ue;else{var X=pe(de),fe=se/X[2];de=new sr(fe,Q[0]-X[0]*fe,Q[1]-X[1]*fe)}Y.zoom(null,de)}})}function V(O,U,H){return!H&&O.__zooming||new M(O,U)}function M(O,U){this.that=O,this.args=U,this.active=0,this.sourceEvent=null,this.extent=r.apply(O,U),this.taps=0}M.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,U){return this.mouse&&O!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var U=tn(this.that).datum();p.call(O,this.that,new IC(O,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:p}),U)}};function z(O,...U){if(!e.apply(this,arguments))return;var H=V(this,U).event(O),F=this.__zoom,I=Math.max(l[0],Math.min(l[1],F.k*Math.pow(2,s.apply(this,arguments)))),B=bn(O);if(H.wheel)(H.mouse[0][0]!==B[0]||H.mouse[0][1]!==B[1])&&(H.mouse[1]=F.invert(H.mouse[0]=B)),clearTimeout(H.wheel);else{if(F.k===I)return;H.mouse=[B,F.invert(B)],Ya(this),H.start()}qi(O),H.wheel=setTimeout(Y,N),H.zoom("mouse",o(C(T(F,I),H.mouse[0],H.mouse[1]),H.extent,c));function Y(){H.wheel=null,H.end()}}function G(O,...U){if(y||!e.apply(this,arguments))return;var H=O.currentTarget,F=V(this,U,!0).event(O),I=tn(O.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",se,!0),B=bn(O,H),Y=O.clientX,b=O.clientY;fg(O.view),Ec(O),F.mouse=[B,this.__zoom.invert(B)],Ya(this),F.start();function Q(oe){if(qi(oe),!F.moved){var ue=oe.clientX-Y,pe=oe.clientY-b;F.moved=ue*ue+pe*pe>w}F.event(oe).zoom("mouse",o(C(F.that.__zoom,F.mouse[0]=bn(oe,H),F.mouse[1]),F.extent,c))}function se(oe){I.on("mousemove.zoom mouseup.zoom",null),hg(oe.view,F.moved),qi(oe),F.event(oe).end()}}function ne(O,...U){if(e.apply(this,arguments)){var H=this.__zoom,F=bn(O.changedTouches?O.changedTouches[0]:O,this),I=H.invert(F),B=H.k*(O.shiftKey?.5:2),Y=o(C(T(H,B),F,I),r.apply(this,U),c);qi(O),d>0?tn(this).transition().duration(d).call(A,Y,F,O):tn(this).call(_.transform,Y,F,O)}}function re(O,...U){if(e.apply(this,arguments)){var H=O.touches,F=H.length,I=V(this,U,O.changedTouches.length===F).event(O),B,Y,b,Q;for(Ec(O),Y=0;Y<F;++Y)b=H[Y],Q=bn(b,this),Q=[Q,this.__zoom.invert(Q),b.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Q[2]&&(I.touch1=Q,I.taps=0):(I.touch0=Q,B=!0,I.taps=1+!!m);m&&(m=clearTimeout(m)),B&&(I.taps<2&&(v=Q[0],m=setTimeout(function(){m=null},x)),Ya(this),I.start())}}function L(O,...U){if(this.__zooming){var H=V(this,U).event(O),F=O.changedTouches,I=F.length,B,Y,b,Q;for(qi(O),B=0;B<I;++B)Y=F[B],b=bn(Y,this),H.touch0&&H.touch0[2]===Y.identifier?H.touch0[0]=b:H.touch1&&H.touch1[2]===Y.identifier&&(H.touch1[0]=b);if(Y=H.that.__zoom,H.touch1){var se=H.touch0[0],oe=H.touch0[1],ue=H.touch1[0],pe=H.touch1[1],de=(de=ue[0]-se[0])*de+(de=ue[1]-se[1])*de,X=(X=pe[0]-oe[0])*X+(X=pe[1]-oe[1])*X;Y=T(Y,Math.sqrt(de/X)),b=[(se[0]+ue[0])/2,(se[1]+ue[1])/2],Q=[(oe[0]+pe[0])/2,(oe[1]+pe[1])/2]}else if(H.touch0)b=H.touch0[0],Q=H.touch0[1];else return;H.zoom("touch",o(C(Y,b,Q),H.extent,c))}}function q(O,...U){if(this.__zooming){var H=V(this,U).event(O),F=O.changedTouches,I=F.length,B,Y;for(Ec(O),y&&clearTimeout(y),y=setTimeout(function(){y=null},x),B=0;B<I;++B)Y=F[B],H.touch0&&H.touch0[2]===Y.identifier?delete H.touch0:H.touch1&&H.touch1[2]===Y.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(Y=bn(Y,this),Math.hypot(v[0]-Y[0],v[1]-Y[1])<S)){var b=tn(this).on("dblclick.zoom");b&&b.apply(this,arguments)}}}return _.wheelDelta=function(O){return arguments.length?(s=typeof O=="function"?O:La(+O),_):s},_.filter=function(O){return arguments.length?(e=typeof O=="function"?O:La(!!O),_):e},_.touchable=function(O){return arguments.length?(a=typeof O=="function"?O:La(!!O),_):a},_.extent=function(O){return arguments.length?(r=typeof O=="function"?O:La([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),_):r},_.scaleExtent=function(O){return arguments.length?(l[0]=+O[0],l[1]=+O[1],_):[l[0],l[1]]},_.translateExtent=function(O){return arguments.length?(c[0][0]=+O[0][0],c[1][0]=+O[1][0],c[0][1]=+O[0][1],c[1][1]=+O[1][1],_):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},_.constrain=function(O){return arguments.length?(o=O,_):o},_.duration=function(O){return arguments.length?(d=+O,_):d},_.interpolate=function(O){return arguments.length?(h=O,_):h},_.on=function(){var O=p.on.apply(p,arguments);return O===p?_:O},_.clickDistance=function(O){return arguments.length?(w=(O=+O)*O,_):Math.sqrt(w)},_.tapDistance=function(O){return arguments.length?(S=+O,_):S},_}const Un={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:o,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?o:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},hs=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Tg=["Enter"," ","Escape"],Pg={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:o})=>`Moved selected node ${e}. New position, x: ${r}, y: ${o}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ai;(function(e){e.Strict="strict",e.Loose="loose"})(ai||(ai={}));var go;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(go||(go={}));var ps;(function(e){e.Partial="partial",e.Full="full"})(ps||(ps={}));const Og={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var zr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(zr||(zr={}));var il;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(il||(il={}));var De;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(De||(De={}));const Wp={[De.Left]:De.Right,[De.Right]:De.Left,[De.Top]:De.Bottom,[De.Bottom]:De.Top};function Rg(e){return e===null?null:e?"valid":"invalid"}const Ig=e=>"id"in e&&"source"in e&&"target"in e,$C=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),ld=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Cs=(e,r=[0,0])=>{const{width:o,height:s}=cr(e),a=e.origin??r,l=o*a[0],c=s*a[1];return{x:e.position.x-l,y:e.position.y-c}},VC=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((s,a)=>{const l=typeof a=="string";let c=!r.nodeLookup&&!l?a:void 0;r.nodeLookup&&(c=l?r.nodeLookup.get(a):ld(a)?a:r.nodeLookup.get(a.id));const d=c?sl(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return yl(s,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return vl(o)},Ns=(e,r={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let o={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(r.filter===void 0||r.filter(s)){const a=sl(s);o=yl(o,a)}}),vl(o)},ud=(e,r,[o,s,a]=[0,0,1],l=!1,c=!1)=>{const d={..._s(r,[o,s,a]),width:r.width/a,height:r.height/a},h=[];for(const p of e.values()){const{measured:m,selectable:v=!0,hidden:y=!1}=p;if(c&&!v||y)continue;const x=m.width??p.width??p.initialWidth??null,N=m.height??p.height??p.initialHeight??null,w=ms(d,ui(p)),S=(x??0)*(N??0),_=l&&w>0;(!p.internals.handleBounds||_||w>=S||p.dragging)&&h.push(p)}return h},HC=(e,r)=>{const o=new Set;return e.forEach(s=>{o.add(s.id)}),r.filter(s=>o.has(s.source)||o.has(s.target))};function BC(e,r){const o=new Map,s=r?.nodes?new Set(r.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&(r?.includeHiddenNodes||!a.hidden)&&(!s||s.has(a.id))&&o.set(a.id,a)}),o}async function UC({nodes:e,width:r,height:o,panZoom:s,minZoom:a,maxZoom:l},c){if(e.size===0)return Promise.resolve(!0);const d=BC(e,c),h=Ns(d),p=cd(h,r,o,c?.minZoom??a,c?.maxZoom??l,c?.padding??.1);return await s.setViewport(p,{duration:c?.duration,ease:c?.ease,interpolate:c?.interpolate}),Promise.resolve(!0)}function Lg({nodeId:e,nextPosition:r,nodeLookup:o,nodeOrigin:s=[0,0],nodeExtent:a,onError:l}){const c=o.get(e),d=c.parentId?o.get(c.parentId):void 0,{x:h,y:p}=d?d.internals.positionAbsolute:{x:0,y:0},m=c.origin??s;let v=c.extent||a;if(c.extent==="parent"&&!c.expandParent)if(!d)l?.("005",Un.error005());else{const x=d.measured.width,N=d.measured.height;x&&N&&(v=[[h,p],[h+x,p+N]])}else d&&ci(c.extent)&&(v=[[c.extent[0][0]+h,c.extent[0][1]+p],[c.extent[1][0]+h,c.extent[1][1]+p]]);const y=ci(v)?wo(r,v,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&l?.("015",Un.error015()),{position:{x:y.x-h+(c.measured.width??0)*m[0],y:y.y-p+(c.measured.height??0)*m[1]},positionAbsolute:y}}async function WC({nodesToRemove:e=[],edgesToRemove:r=[],nodes:o,edges:s,onBeforeDelete:a}){const l=new Set(e.map(y=>y.id)),c=[];for(const y of o){if(y.deletable===!1)continue;const x=l.has(y.id),N=!x&&y.parentId&&c.find(w=>w.id===y.parentId);(x||N)&&c.push(y)}const d=new Set(r.map(y=>y.id)),h=s.filter(y=>y.deletable!==!1),m=HC(c,h);for(const y of h)d.has(y.id)&&!m.find(N=>N.id===y.id)&&m.push(y);if(!a)return{edges:m,nodes:c};const v=await a({nodes:c,edges:m});return typeof v=="boolean"?v?{edges:m,nodes:c}:{edges:[],nodes:[]}:v}const li=(e,r=0,o=1)=>Math.min(Math.max(e,r),o),wo=(e={x:0,y:0},r,o)=>({x:li(e.x,r[0][0],r[1][0]-(o?.width??0)),y:li(e.y,r[0][1],r[1][1]-(o?.height??0))});function Ag(e,r,o){const{width:s,height:a}=cr(o),{x:l,y:c}=o.internals.positionAbsolute;return wo(e,[[l,c],[l+s,c+a]],r)}const Qp=(e,r,o)=>e<r?li(Math.abs(e-r),1,r)/r:e>o?-li(Math.abs(e-o),1,r)/r:0,jg=(e,r,o=15,s=40)=>{const a=Qp(e.x,s,r.width-s)*o,l=Qp(e.y,s,r.height-s)*o;return[a,l]},yl=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),Hc=({x:e,y:r,width:o,height:s})=>({x:e,y:r,x2:e+o,y2:r+s}),vl=({x:e,y:r,x2:o,y2:s})=>({x:e,y:r,width:o-e,height:s-r}),ui=(e,r=[0,0])=>{const{x:o,y:s}=ld(e)?e.internals.positionAbsolute:Cs(e,r);return{x:o,y:s,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},sl=(e,r=[0,0])=>{const{x:o,y:s}=ld(e)?e.internals.positionAbsolute:Cs(e,r);return{x:o,y:s,x2:o+(e.measured?.width??e.width??e.initialWidth??0),y2:s+(e.measured?.height??e.height??e.initialHeight??0)}},Fg=(e,r)=>vl(yl(Hc(e),Hc(r))),ms=(e,r)=>{const o=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(o*s)},Yp=e=>Tn(e.width)&&Tn(e.height)&&Tn(e.x)&&Tn(e.y),Tn=e=>!isNaN(e)&&isFinite(e),QC=(e,r)=>{},ks=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),_s=({x:e,y:r},[o,s,a],l=!1,c=[1,1])=>{const d={x:(e-o)/a,y:(r-s)/a};return l?ks(d,c):d},al=({x:e,y:r},[o,s,a])=>({x:e*a+o,y:r*a+s});function Jo(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(o)}if(typeof e=="string"&&e.endsWith("%")){const o=parseFloat(e);if(!Number.isNaN(o))return Math.floor(r*o*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function YC(e,r,o){if(typeof e=="string"||typeof e=="number"){const s=Jo(e,o),a=Jo(e,r);return{top:s,right:a,bottom:s,left:a,x:a*2,y:s*2}}if(typeof e=="object"){const s=Jo(e.top??e.y??0,o),a=Jo(e.bottom??e.y??0,o),l=Jo(e.left??e.x??0,r),c=Jo(e.right??e.x??0,r);return{top:s,right:c,bottom:a,left:l,x:l+c,y:s+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function KC(e,r,o,s,a,l){const{x:c,y:d}=al(e,[r,o,s]),{x:h,y:p}=al({x:e.x+e.width,y:e.y+e.height},[r,o,s]),m=a-h,v=l-p;return{left:Math.floor(c),top:Math.floor(d),right:Math.floor(m),bottom:Math.floor(v)}}const cd=(e,r,o,s,a,l)=>{const c=YC(l,r,o),d=(r-c.x)/e.width,h=(o-c.y)/e.height,p=Math.min(d,h),m=li(p,s,a),v=e.x+e.width/2,y=e.y+e.height/2,x=r/2-v*m,N=o/2-y*m,w=KC(e,x,N,m,r,o),S={left:Math.min(w.left-c.left,0),top:Math.min(w.top-c.top,0),right:Math.min(w.right-c.right,0),bottom:Math.min(w.bottom-c.bottom,0)};return{x:x-S.left+S.right,y:N-S.top+S.bottom,zoom:m}},gs=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ci(e){return e!=null&&e!=="parent"}function cr(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function zg(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function $g(e,r={width:0,height:0},o,s,a){const l={...e},c=s.get(o);if(c){const d=c.origin||a;l.x+=c.internals.positionAbsolute.x-(r.width??0)*d[0],l.y+=c.internals.positionAbsolute.y-(r.height??0)*d[1]}return l}function Kp(e,r){if(e.size!==r.size)return!1;for(const o of e)if(!r.has(o))return!1;return!0}function XC(){let e,r;return{promise:new Promise((s,a)=>{e=s,r=a}),resolve:e,reject:r}}function GC(e){return{...Pg,...e||{}}}function rs(e,{snapGrid:r=[0,0],snapToGrid:o=!1,transform:s,containerBounds:a}){const{x:l,y:c}=Vn(e),d=_s({x:l-(a?.left??0),y:c-(a?.top??0)},s),{x:h,y:p}=o?ks(d,r):d;return{xSnapped:h,ySnapped:p,...d}}const dd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Vg=e=>e?.getRootNode?.()||window?.document,ZC=["INPUT","SELECT","TEXTAREA"];function Hg(e){const r=e.composedPath?.()?.[0]||e.target;return r?.nodeType!==1?!1:ZC.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const Bg=e=>"clientX"in e,Vn=(e,r)=>{const o=Bg(e),s=o?e.clientX:e.touches?.[0].clientX,a=o?e.clientY:e.touches?.[0].clientY;return{x:s-(r?.left??0),y:a-(r?.top??0)}},Xp=(e,r,o,s,a)=>{const l=r.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(c=>{const d=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:a,position:c.getAttribute("data-handlepos"),x:(d.left-o.left)/s,y:(d.top-o.top)/s,...dd(c)}})};function Ug({sourceX:e,sourceY:r,targetX:o,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d}){const h=e*.125+a*.375+c*.375+o*.125,p=r*.125+l*.375+d*.375+s*.125,m=Math.abs(h-e),v=Math.abs(p-r);return[h,p,m,v]}function Aa(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function Gp({pos:e,x1:r,y1:o,x2:s,y2:a,c:l}){switch(e){case De.Left:return[r-Aa(r-s,l),o];case De.Right:return[r+Aa(s-r,l),o];case De.Top:return[r,o-Aa(o-a,l)];case De.Bottom:return[r,o+Aa(a-o,l)]}}function fd({sourceX:e,sourceY:r,sourcePosition:o=De.Bottom,targetX:s,targetY:a,targetPosition:l=De.Top,curvature:c=.25}){const[d,h]=Gp({pos:o,x1:e,y1:r,x2:s,y2:a,c}),[p,m]=Gp({pos:l,x1:s,y1:a,x2:e,y2:r,c}),[v,y,x,N]=Ug({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:d,sourceControlY:h,targetControlX:p,targetControlY:m});return[`M${e},${r} C${d},${h} ${p},${m} ${s},${a}`,v,y,x,N]}function Wg({sourceX:e,sourceY:r,targetX:o,targetY:s}){const a=Math.abs(o-e)/2,l=o<e?o+a:o-a,c=Math.abs(s-r)/2,d=s<r?s+c:s-c;return[l,d,a,c]}function qC({sourceNode:e,targetNode:r,selected:o=!1,zIndex:s,elevateOnSelect:a=!1}){if(s!==void 0)return s;const l=a&&o?1e3:0,c=Math.max(e.parentId?e.internals.z:0,r.parentId?r.internals.z:0);return l+c}function JC({sourceNode:e,targetNode:r,width:o,height:s,transform:a}){const l=yl(sl(e),sl(r));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:o/a[2],height:s/a[2]};return ms(c,vl(l))>0}const eN=({source:e,sourceHandle:r,target:o,targetHandle:s})=>`xy-edge__${e}${r||""}-${o}${s||""}`,tN=(e,r)=>r.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),nN=(e,r)=>{if(!e.source||!e.target)return r;let o;return Ig(e)?o={...e}:o={...e,id:eN(e)},tN(o,r)?r:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,r.concat(o))};function Qg({sourceX:e,sourceY:r,targetX:o,targetY:s}){const[a,l,c,d]=Wg({sourceX:e,sourceY:r,targetX:o,targetY:s});return[`M ${e},${r}L ${o},${s}`,a,l,c,d]}const Zp={[De.Left]:{x:-1,y:0},[De.Right]:{x:1,y:0},[De.Top]:{x:0,y:-1},[De.Bottom]:{x:0,y:1}},rN=({source:e,sourcePosition:r=De.Bottom,target:o})=>r===De.Left||r===De.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},qp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function oN({source:e,sourcePosition:r=De.Bottom,target:o,targetPosition:s=De.Top,center:a,offset:l,stepPosition:c}){const d=Zp[r],h=Zp[s],p={x:e.x+d.x*l,y:e.y+d.y*l},m={x:o.x+h.x*l,y:o.y+h.y*l},v=rN({source:p,sourcePosition:r,target:m}),y=v.x!==0?"x":"y",x=v[y];let N=[],w,S;const _={x:0,y:0},T={x:0,y:0},[,,C,D]=Wg({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(d[y]*h[y]===-1){y==="x"?(w=a.x??p.x+(m.x-p.x)*c,S=a.y??(p.y+m.y)/2):(w=a.x??(p.x+m.x)/2,S=a.y??p.y+(m.y-p.y)*c);const V=[{x:w,y:p.y},{x:w,y:m.y}],M=[{x:p.x,y:S},{x:m.x,y:S}];d[y]===x?N=y==="x"?V:M:N=y==="x"?M:V}else{const V=[{x:p.x,y:m.y}],M=[{x:m.x,y:p.y}];if(y==="x"?N=d.x===x?M:V:N=d.y===x?V:M,r===s){const L=Math.abs(e[y]-o[y]);if(L<=l){const q=Math.min(l-1,l-L);d[y]===x?_[y]=(p[y]>e[y]?-1:1)*q:T[y]=(m[y]>o[y]?-1:1)*q}}if(r!==s){const L=y==="x"?"y":"x",q=d[y]===h[L],O=p[L]>m[L],U=p[L]<m[L];(d[y]===1&&(!q&&O||q&&U)||d[y]!==1&&(!q&&U||q&&O))&&(N=y==="x"?V:M)}const z={x:p.x+_.x,y:p.y+_.y},G={x:m.x+T.x,y:m.y+T.y},ne=Math.max(Math.abs(z.x-N[0].x),Math.abs(G.x-N[0].x)),re=Math.max(Math.abs(z.y-N[0].y),Math.abs(G.y-N[0].y));ne>=re?(w=(z.x+G.x)/2,S=N[0].y):(w=N[0].x,S=(z.y+G.y)/2)}return[[e,{x:p.x+_.x,y:p.y+_.y},...N,{x:m.x+T.x,y:m.y+T.y},o],w,S,C,D]}function iN(e,r,o,s){const a=Math.min(qp(e,r)/2,qp(r,o)/2,s),{x:l,y:c}=r;if(e.x===l&&l===o.x||e.y===c&&c===o.y)return`L${l} ${c}`;if(e.y===c){const p=e.x<o.x?-1:1,m=e.y<o.y?1:-1;return`L ${l+a*p},${c}Q ${l},${c} ${l},${c+a*m}`}const d=e.x<o.x?1:-1,h=e.y<o.y?-1:1;return`L ${l},${c+a*h}Q ${l},${c} ${l+a*d},${c}`}function Bc({sourceX:e,sourceY:r,sourcePosition:o=De.Bottom,targetX:s,targetY:a,targetPosition:l=De.Top,borderRadius:c=5,centerX:d,centerY:h,offset:p=20,stepPosition:m=.5}){const[v,y,x,N,w]=oN({source:{x:e,y:r},sourcePosition:o,target:{x:s,y:a},targetPosition:l,center:{x:d,y:h},offset:p,stepPosition:m});return[v.reduce((_,T,C)=>{let D="";return C>0&&C<v.length-1?D=iN(v[C-1],T,v[C+1],c):D=`${C===0?"M":"L"}${T.x} ${T.y}`,_+=D,_},""),y,x,N,w]}function Jp(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function sN(e){const{sourceNode:r,targetNode:o}=e;if(!Jp(r)||!Jp(o))return null;const s=r.internals.handleBounds||em(r.handles),a=o.internals.handleBounds||em(o.handles),l=tm(s?.source??[],e.sourceHandle),c=tm(e.connectionMode===ai.Strict?a?.target??[]:(a?.target??[]).concat(a?.source??[]),e.targetHandle);if(!l||!c)return e.onError?.("008",Un.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=l?.position||De.Bottom,h=c?.position||De.Top,p=ys(r,l,d),m=ys(o,c,h);return{sourceX:p.x,sourceY:p.y,targetX:m.x,targetY:m.y,sourcePosition:d,targetPosition:h}}function em(e){if(!e)return null;const r=[],o=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&o.push(s);return{source:r,target:o}}function ys(e,r,o=De.Left,s=!1){const a=(r?.x??0)+e.internals.positionAbsolute.x,l=(r?.y??0)+e.internals.positionAbsolute.y,{width:c,height:d}=r??cr(e);if(s)return{x:a+c/2,y:l+d/2};switch(r?.position??o){case De.Top:return{x:a+c/2,y:l};case De.Right:return{x:a+c,y:l+d/2};case De.Bottom:return{x:a+c/2,y:l+d};case De.Left:return{x:a,y:l+d/2}}}function tm(e,r){return e&&(r?e.find(o=>o.id===r):e[0])||null}function Uc(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function aN(e,{id:r,defaultColor:o,defaultMarkerStart:s,defaultMarkerEnd:a}){const l=new Set;return e.reduce((c,d)=>([d.markerStart||s,d.markerEnd||a].forEach(h=>{if(h&&typeof h=="object"){const p=Uc(h,r);l.has(p)||(c.push({id:p,color:h.color||o,...h}),l.add(p))}}),c),[]).sort((c,d)=>c.id.localeCompare(d.id))}const hd={nodeOrigin:[0,0],nodeExtent:hs,elevateNodesOnSelect:!0,defaults:{}},lN={...hd,checkEquality:!0};function pd(e,r){const o={...e};for(const s in r)r[s]!==void 0&&(o[s]=r[s]);return o}function uN(e,r,o){const s=pd(hd,o);for(const a of e.values())if(a.parentId)md(a,e,r,s);else{const l=Cs(a,s.nodeOrigin),c=ci(a.extent)?a.extent:s.nodeExtent,d=wo(l,c,cr(a));a.internals.positionAbsolute=d}}function Wc(e,r,o,s){const a=pd(lN,s);let l=e.length>0;const c=new Map(r),d=a?.elevateNodesOnSelect?1e3:0;r.clear(),o.clear();for(const h of e){let p=c.get(h.id);if(a.checkEquality&&h===p?.internals.userNode)r.set(h.id,p);else{const m=Cs(h,a.nodeOrigin),v=ci(h.extent)?h.extent:a.nodeExtent,y=wo(m,v,cr(h));p={...a.defaults,...h,measured:{width:h.measured?.width,height:h.measured?.height},internals:{positionAbsolute:y,handleBounds:h.measured?p?.internals.handleBounds:void 0,z:Yg(h,d),userNode:h}},r.set(h.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(l=!1),h.parentId&&md(p,r,o,s)}return l}function cN(e,r){if(!e.parentId)return;const o=r.get(e.parentId);o?o.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function md(e,r,o,s){const{elevateNodesOnSelect:a,nodeOrigin:l,nodeExtent:c}=pd(hd,s),d=e.parentId,h=r.get(d);if(!h){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}cN(e,o);const p=a?1e3:0,{x:m,y:v,z:y}=dN(e,h,l,c,p),{positionAbsolute:x}=e.internals,N=m!==x.x||v!==x.y;(N||y!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:N?{x:m,y:v}:x,z:y}})}function Yg(e,r){return(Tn(e.zIndex)?e.zIndex:0)+(e.selected?r:0)}function dN(e,r,o,s,a){const{x:l,y:c}=r.internals.positionAbsolute,d=cr(e),h=Cs(e,o),p=ci(e.extent)?wo(h,e.extent,d):h;let m=wo({x:l+p.x,y:c+p.y},s,d);e.extent==="parent"&&(m=Ag(m,d,r));const v=Yg(e,a),y=r.internals.z??0;return{x:m.x,y:m.y,z:y>=v?y+1:v}}function gd(e,r,o,s=[0,0]){const a=[],l=new Map;for(const c of e){const d=r.get(c.parentId);if(!d)continue;const h=l.get(c.parentId)?.expandedRect??ui(d),p=Fg(h,c.rect);l.set(c.parentId,{expandedRect:p,parent:d})}return l.size>0&&l.forEach(({expandedRect:c,parent:d},h)=>{const p=d.internals.positionAbsolute,m=cr(d),v=d.origin??s,y=c.x<p.x?Math.round(Math.abs(p.x-c.x)):0,x=c.y<p.y?Math.round(Math.abs(p.y-c.y)):0,N=Math.max(m.width,Math.round(c.width)),w=Math.max(m.height,Math.round(c.height)),S=(N-m.width)*v[0],_=(w-m.height)*v[1];(y>0||x>0||S||_)&&(a.push({id:h,type:"position",position:{x:d.position.x-y+S,y:d.position.y-x+_}}),o.get(h)?.forEach(T=>{e.some(C=>C.id===T.id)||a.push({id:T.id,type:"position",position:{x:T.position.x+y,y:T.position.y+x}})})),(m.width<c.width||m.height<c.height||y||x)&&a.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:N+(y?v[0]*y-S:0),height:w+(x?v[1]*x-_:0)}})}),a}function fN(e,r,o,s,a,l){const c=s?.querySelector(".xyflow__viewport");let d=!1;if(!c)return{changes:[],updatedInternals:d};const h=[],p=window.getComputedStyle(c),{m22:m}=new window.DOMMatrixReadOnly(p.transform),v=[];for(const y of e.values()){const x=r.get(y.id);if(!x)continue;if(x.hidden){r.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),d=!0;continue}const N=dd(y.nodeElement),w=x.measured.width!==N.width||x.measured.height!==N.height;if(!!(N.width&&N.height&&(w||!x.internals.handleBounds||y.force))){const _=y.nodeElement.getBoundingClientRect(),T=ci(x.extent)?x.extent:l;let{positionAbsolute:C}=x.internals;x.parentId&&x.extent==="parent"?C=Ag(C,N,r.get(x.parentId)):T&&(C=wo(C,T,N));const D={...x,measured:N,internals:{...x.internals,positionAbsolute:C,handleBounds:{source:Xp("source",y.nodeElement,_,m,x.id),target:Xp("target",y.nodeElement,_,m,x.id)}}};r.set(x.id,D),x.parentId&&md(D,r,o,{nodeOrigin:a}),d=!0,w&&(h.push({id:x.id,type:"dimensions",dimensions:N}),x.expandParent&&x.parentId&&v.push({id:x.id,parentId:x.parentId,rect:ui(D,a)}))}}if(v.length>0){const y=gd(v,r,o,a);h.push(...y)}return{changes:h,updatedInternals:d}}async function hN({delta:e,panZoom:r,transform:o,translateExtent:s,width:a,height:l}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:o[0]+e.x,y:o[1]+e.y,zoom:o[2]},[[0,0],[a,l]],s),d=!!c&&(c.x!==o[0]||c.y!==o[1]||c.k!==o[2]);return Promise.resolve(d)}function nm(e,r,o,s,a,l){let c=a;const d=s.get(c)||new Map;s.set(c,d.set(o,r)),c=`${a}-${e}`;const h=s.get(c)||new Map;if(s.set(c,h.set(o,r)),l){c=`${a}-${e}-${l}`;const p=s.get(c)||new Map;s.set(c,p.set(o,r))}}function Kg(e,r,o){e.clear(),r.clear();for(const s of o){const{source:a,target:l,sourceHandle:c=null,targetHandle:d=null}=s,h={edgeId:s.id,source:a,target:l,sourceHandle:c,targetHandle:d},p=`${a}-${c}--${l}-${d}`,m=`${l}-${d}--${a}-${c}`;nm("source",h,m,e,a,c),nm("target",h,p,e,l,d),r.set(s.id,s)}}function Xg(e,r){if(!e.parentId)return!1;const o=r.get(e.parentId);return o?o.selected?!0:Xg(o,r):!1}function rm(e,r,o){let s=e;do{if(s?.matches?.(r))return!0;if(s===o)return!1;s=s?.parentElement}while(s);return!1}function pN(e,r,o,s){const a=new Map;for(const[l,c]of e)if((c.selected||c.id===s)&&(!c.parentId||!Xg(c,e))&&(c.draggable||r&&typeof c.draggable>"u")){const d=e.get(l);d&&a.set(l,{id:l,position:d.position||{x:0,y:0},distance:{x:o.x-d.internals.positionAbsolute.x,y:o.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function Cc({nodeId:e,dragItems:r,nodeLookup:o,dragging:s=!0}){const a=[];for(const[c,d]of r){const h=o.get(c)?.internals.userNode;h&&a.push({...h,position:d.position,dragging:s})}if(!e)return[a[0],a];const l=o.get(e)?.internals.userNode;return[l?{...l,position:r.get(e)?.position||l.position,dragging:s}:a[0],a]}function mN({dragItems:e,snapGrid:r,x:o,y:s}){const a=e.values().next().value;if(!a)return null;const l={x:o-a.distance.x,y:s-a.distance.y},c=ks(l,r);return{x:c.x-l.x,y:c.y-l.y}}function gN({onNodeMouseDown:e,getStoreItems:r,onDragStart:o,onDrag:s,onDragStop:a}){let l={x:null,y:null},c=0,d=new Map,h=!1,p={x:0,y:0},m=null,v=!1,y=null,x=!1,N=!1,w=null;function S({noDragClassName:T,handleSelector:C,domNode:D,isSelectable:A,nodeId:V,nodeClickDistance:M=0}){y=tn(D);function z({x:L,y:q}){const{nodeLookup:O,nodeExtent:U,snapGrid:H,snapToGrid:F,nodeOrigin:I,onNodeDrag:B,onSelectionDrag:Y,onError:b,updateNodePositions:Q}=r();l={x:L,y:q};let se=!1;const oe=d.size>1,ue=oe&&U?Hc(Ns(d)):null,pe=oe&&F?mN({dragItems:d,snapGrid:H,x:L,y:q}):null;for(const[de,X]of d){if(!O.has(de))continue;let fe={x:L-X.distance.x,y:q-X.distance.y};F&&(fe=pe?{x:Math.round(fe.x+pe.x),y:Math.round(fe.y+pe.y)}:ks(fe,H));let _e=null;if(oe&&U&&!X.extent&&ue){const{positionAbsolute:Te}=X.internals,be=Te.x-ue.x+U[0][0],He=Te.x+X.measured.width-ue.x2+U[1][0],Xe=Te.y-ue.y+U[0][1],mt=Te.y+X.measured.height-ue.y2+U[1][1];_e=[[be,Xe],[He,mt]]}const{position:Ae,positionAbsolute:ge}=Lg({nodeId:de,nextPosition:fe,nodeLookup:O,nodeExtent:_e||U,nodeOrigin:I,onError:b});se=se||X.position.x!==Ae.x||X.position.y!==Ae.y,X.position=Ae,X.internals.positionAbsolute=ge}if(N=N||se,!!se&&(Q(d,!0),w&&(s||B||!V&&Y))){const[de,X]=Cc({nodeId:V,dragItems:d,nodeLookup:O});s?.(w,d,de,X),B?.(w,de,X),V||Y?.(w,X)}}async function G(){if(!m)return;const{transform:L,panBy:q,autoPanSpeed:O,autoPanOnNodeDrag:U}=r();if(!U){h=!1,cancelAnimationFrame(c);return}const[H,F]=jg(p,m,O);(H!==0||F!==0)&&(l.x=(l.x??0)-H/L[2],l.y=(l.y??0)-F/L[2],await q({x:H,y:F})&&z(l)),c=requestAnimationFrame(G)}function ne(L){const{nodeLookup:q,multiSelectionActive:O,nodesDraggable:U,transform:H,snapGrid:F,snapToGrid:I,selectNodesOnDrag:B,onNodeDragStart:Y,onSelectionDragStart:b,unselectNodesAndEdges:Q}=r();v=!0,(!B||!A)&&!O&&V&&(q.get(V)?.selected||Q()),A&&B&&V&&e?.(V);const se=rs(L.sourceEvent,{transform:H,snapGrid:F,snapToGrid:I,containerBounds:m});if(l=se,d=pN(q,U,se,V),d.size>0&&(o||Y||!V&&b)){const[oe,ue]=Cc({nodeId:V,dragItems:d,nodeLookup:q});o?.(L.sourceEvent,d,oe,ue),Y?.(L.sourceEvent,oe,ue),V||b?.(L.sourceEvent,ue)}}const re=pg().clickDistance(M).on("start",L=>{const{domNode:q,nodeDragThreshold:O,transform:U,snapGrid:H,snapToGrid:F}=r();m=q?.getBoundingClientRect()||null,x=!1,N=!1,w=L.sourceEvent,O===0&&ne(L),l=rs(L.sourceEvent,{transform:U,snapGrid:H,snapToGrid:F,containerBounds:m}),p=Vn(L.sourceEvent,m)}).on("drag",L=>{const{autoPanOnNodeDrag:q,transform:O,snapGrid:U,snapToGrid:H,nodeDragThreshold:F,nodeLookup:I}=r(),B=rs(L.sourceEvent,{transform:O,snapGrid:U,snapToGrid:H,containerBounds:m});if(w=L.sourceEvent,(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||V&&!I.has(V))&&(x=!0),!x){if(!h&&q&&v&&(h=!0,G()),!v){const Y=B.xSnapped-(l.x??0),b=B.ySnapped-(l.y??0);Math.sqrt(Y*Y+b*b)>F&&ne(L)}(l.x!==B.xSnapped||l.y!==B.ySnapped)&&d&&v&&(p=Vn(L.sourceEvent,m),z(B))}}).on("end",L=>{if(!(!v||x)&&(h=!1,v=!1,cancelAnimationFrame(c),d.size>0)){const{nodeLookup:q,updateNodePositions:O,onNodeDragStop:U,onSelectionDragStop:H}=r();if(N&&(O(d,!1),N=!1),a||U||!V&&H){const[F,I]=Cc({nodeId:V,dragItems:d,nodeLookup:q,dragging:!1});a?.(L.sourceEvent,d,F,I),U?.(L.sourceEvent,F,I),V||H?.(L.sourceEvent,I)}}}).filter(L=>{const q=L.target;return!L.button&&(!T||!rm(q,`.${T}`,D))&&(!C||rm(q,C,D))});y.call(re)}function _(){y?.on(".drag",null)}return{update:S,destroy:_}}function yN(e,r,o){const s=[],a={x:e.x-o,y:e.y-o,width:o*2,height:o*2};for(const l of r.values())ms(a,ui(l))>0&&s.push(l);return s}const vN=250;function xN(e,r,o,s){let a=[],l=1/0;const c=yN(e,o,r+vN);for(const d of c){const h=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const p of h){if(s.nodeId===p.nodeId&&s.type===p.type&&s.id===p.id)continue;const{x:m,y:v}=ys(d,p,p.position,!0),y=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(v-e.y,2));y>r||(y<l?(a=[{...p,x:m,y:v}],l=y):y===l&&a.push({...p,x:m,y:v}))}}if(!a.length)return null;if(a.length>1){const d=s.type==="source"?"target":"source";return a.find(h=>h.type===d)??a[0]}return a[0]}function Gg(e,r,o,s,a,l=!1){const c=s.get(e);if(!c)return null;const d=a==="strict"?c.internals.handleBounds?.[r]:[...c.internals.handleBounds?.source??[],...c.internals.handleBounds?.target??[]],h=(o?d?.find(p=>p.id===o):d?.[0])??null;return h&&l?{...h,...ys(c,h,h.position,!0)}:h}function Zg(e,r){return e||(r?.classList.contains("target")?"target":r?.classList.contains("source")?"source":null)}function wN(e,r){let o=null;return r?o=!0:e&&!r&&(o=!1),o}const qg=()=>!0;function SN(e,{connectionMode:r,connectionRadius:o,handleId:s,nodeId:a,edgeUpdaterType:l,isTarget:c,domNode:d,nodeLookup:h,lib:p,autoPanOnConnect:m,flowId:v,panBy:y,cancelConnection:x,onConnectStart:N,onConnect:w,onConnectEnd:S,isValidConnection:_=qg,onReconnectEnd:T,updateConnection:C,getTransform:D,getFromHandle:A,autoPanSpeed:V,dragThreshold:M=1,handleDomNode:z}){const G=Vg(e.target);let ne=0,re;const{x:L,y:q}=Vn(e),O=Zg(l,z),U=d?.getBoundingClientRect();let H=!1;if(!U||!O)return;const F=Gg(a,O,s,h,r);if(!F)return;let I=Vn(e,U),B=!1,Y=null,b=!1,Q=null;function se(){if(!m||!U)return;const[Ae,ge]=jg(I,U,V);y({x:Ae,y:ge}),ne=requestAnimationFrame(se)}const oe={...F,nodeId:a,type:O,position:F.position},ue=h.get(a);let de={inProgress:!0,isValid:null,from:ys(ue,oe,De.Left,!0),fromHandle:oe,fromPosition:oe.position,fromNode:ue,to:I,toHandle:null,toPosition:Wp[oe.position],toNode:null};function X(){H=!0,C(de),N?.(e,{nodeId:a,handleId:s,handleType:O})}M===0&&X();function fe(Ae){if(!H){const{x:He,y:Xe}=Vn(Ae),mt=He-L,Ut=Xe-q;if(!(mt*mt+Ut*Ut>M*M))return;X()}if(!A()||!oe){_e(Ae);return}const ge=D();I=Vn(Ae,U),re=xN(_s(I,ge,!1,[1,1]),o,h,oe),B||(se(),B=!0);const Te=Jg(Ae,{handle:re,connectionMode:r,fromNodeId:a,fromHandleId:s,fromType:c?"target":"source",isValidConnection:_,doc:G,lib:p,flowId:v,nodeLookup:h});Q=Te.handleDomNode,Y=Te.connection,b=wN(!!re,Te.isValid);const be={...de,isValid:b,to:Te.toHandle&&b?al({x:Te.toHandle.x,y:Te.toHandle.y},ge):I,toHandle:Te.toHandle,toPosition:b&&Te.toHandle?Te.toHandle.position:Wp[oe.position],toNode:Te.toHandle?h.get(Te.toHandle.nodeId):null};b&&re&&de.toHandle&&be.toHandle&&de.toHandle.type===be.toHandle.type&&de.toHandle.nodeId===be.toHandle.nodeId&&de.toHandle.id===be.toHandle.id&&de.to.x===be.to.x&&de.to.y===be.to.y||(C(be),de=be)}function _e(Ae){if(H){(re||Q)&&Y&&b&&w?.(Y);const{inProgress:ge,...Te}=de,be={...Te,toPosition:de.toHandle?de.toPosition:null};S?.(Ae,be),l&&T?.(Ae,be)}x(),cancelAnimationFrame(ne),B=!1,b=!1,Y=null,Q=null,G.removeEventListener("mousemove",fe),G.removeEventListener("mouseup",_e),G.removeEventListener("touchmove",fe),G.removeEventListener("touchend",_e)}G.addEventListener("mousemove",fe),G.addEventListener("mouseup",_e),G.addEventListener("touchmove",fe),G.addEventListener("touchend",_e)}function Jg(e,{handle:r,connectionMode:o,fromNodeId:s,fromHandleId:a,fromType:l,doc:c,lib:d,flowId:h,isValidConnection:p=qg,nodeLookup:m}){const v=l==="target",y=r?c.querySelector(`.${d}-flow__handle[data-id="${h}-${r?.nodeId}-${r?.id}-${r?.type}"]`):null,{x,y:N}=Vn(e),w=c.elementFromPoint(x,N),S=w?.classList.contains(`${d}-flow__handle`)?w:y,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const T=Zg(void 0,S),C=S.getAttribute("data-nodeid"),D=S.getAttribute("data-handleid"),A=S.classList.contains("connectable"),V=S.classList.contains("connectableend");if(!C||!T)return _;const M={source:v?C:s,sourceHandle:v?D:a,target:v?s:C,targetHandle:v?a:D};_.connection=M;const G=A&&V&&(o===ai.Strict?v&&T==="source"||!v&&T==="target":C!==s||D!==a);_.isValid=G&&p(M),_.toHandle=Gg(C,T,D,m,o,!0)}return _}const Qc={onPointerDown:SN,isValid:Jg};function EN({domNode:e,panZoom:r,getTransform:o,getViewScale:s}){const a=tn(e);function l({translateExtent:d,width:h,height:p,zoomStep:m=1,pannable:v=!0,zoomable:y=!0,inversePan:x=!1}){const N=C=>{if(C.sourceEvent.type!=="wheel"||!r)return;const D=o(),A=C.sourceEvent.ctrlKey&&gs()?10:1,V=-C.sourceEvent.deltaY*(C.sourceEvent.deltaMode===1?.05:C.sourceEvent.deltaMode?1:.002)*m,M=D[2]*Math.pow(2,V*A);r.scaleTo(M)};let w=[0,0];const S=C=>{(C.sourceEvent.type==="mousedown"||C.sourceEvent.type==="touchstart")&&(w=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY])},_=C=>{const D=o();if(C.sourceEvent.type!=="mousemove"&&C.sourceEvent.type!=="touchmove"||!r)return;const A=[C.sourceEvent.clientX??C.sourceEvent.touches[0].clientX,C.sourceEvent.clientY??C.sourceEvent.touches[0].clientY],V=[A[0]-w[0],A[1]-w[1]];w=A;const M=s()*Math.max(D[2],Math.log(D[2]))*(x?-1:1),z={x:D[0]-V[0]*M,y:D[1]-V[1]*M},G=[[0,0],[h,p]];r.setViewportConstrained({x:z.x,y:z.y,zoom:D[2]},G,d)},T=Dg().on("start",S).on("zoom",v?_:null).on("zoom.wheel",y?N:null);a.call(T,{})}function c(){a.on("zoom",null)}return{update:l,destroy:c,pointer:bn}}const CN=(e,r)=>e.x!==r.x||e.y!==r.y||e.zoom!==r.k,xl=e=>({x:e.x,y:e.y,zoom:e.k}),Nc=({x:e,y:r,zoom:o})=>gl.translate(e,r).scale(o),ei=(e,r)=>e.target.closest(`.${r}`),ey=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),NN=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,kc=(e,r=0,o=NN,s=()=>{})=>{const a=typeof r=="number"&&r>0;return a||s(),a?e.transition().duration(r).ease(o).on("end",s):e},ty=e=>{const r=e.ctrlKey&&gs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function kN({zoomPanValues:e,noWheelClassName:r,d3Selection:o,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:l,zoomOnPinch:c,onPanZoomStart:d,onPanZoom:h,onPanZoomEnd:p}){return m=>{if(ei(m,r))return!1;m.preventDefault(),m.stopImmediatePropagation();const v=o.property("__zoom").k||1;if(m.ctrlKey&&c){const S=bn(m),_=ty(m),T=v*Math.pow(2,_);s.scaleTo(o,T,S,m);return}const y=m.deltaMode===1?20:1;let x=a===go.Vertical?0:m.deltaX*y,N=a===go.Horizontal?0:m.deltaY*y;!gs()&&m.shiftKey&&a!==go.Vertical&&(x=m.deltaY*y,N=0),s.translateBy(o,-(x/v)*l,-(N/v)*l,{internal:!0});const w=xl(o.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,d?.(m,w)),e.isPanScrolling&&(h?.(m,w),e.panScrollTimeout=setTimeout(()=>{p?.(m,w),e.isPanScrolling=!1},150))}}function _N({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:o}){return function(s,a){const l=s.type==="wheel",c=!r&&l&&!s.ctrlKey,d=ei(s,e);if(s.ctrlKey&&l&&d&&s.preventDefault(),c||d)return null;s.preventDefault(),o.call(this,s,a)}}function MN({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:o}){return s=>{if(s.sourceEvent?.internal)return;const a=xl(s.transform);e.mouseButton=s.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=a,s.sourceEvent?.type==="mousedown"&&r(!0),o&&o?.(s.sourceEvent,a)}}function bN({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:o,onTransformChange:s,onPanZoom:a}){return l=>{e.usedRightMouseButton=!!(o&&ey(r,e.mouseButton??0)),l.sourceEvent?.sync||s([l.transform.x,l.transform.y,l.transform.k]),a&&!l.sourceEvent?.internal&&a?.(l.sourceEvent,xl(l.transform))}}function DN({zoomPanValues:e,panOnDrag:r,panOnScroll:o,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:l}){return c=>{if(!c.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,l&&ey(r,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&l(c.sourceEvent),e.usedRightMouseButton=!1,s(!1),a&&CN(e.prevViewport,c.transform))){const d=xl(c.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a?.(c.sourceEvent,d)},o?150:0)}}}function TN({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:o,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:l,userSelectionActive:c,noWheelClassName:d,noPanClassName:h,lib:p}){return m=>{const v=e||r,y=o&&m.ctrlKey;if(m.button===1&&m.type==="mousedown"&&(ei(m,`${p}-flow__node`)||ei(m,`${p}-flow__edge`)))return!0;if(!s&&!v&&!a&&!l&&!o||c||ei(m,d)&&m.type==="wheel"||ei(m,h)&&(m.type!=="wheel"||a&&m.type==="wheel"&&!e)||!o&&m.ctrlKey&&m.type==="wheel")return!1;if(!o&&m.type==="touchstart"&&m.touches?.length>1)return m.preventDefault(),!1;if(!v&&!a&&!y&&m.type==="wheel"||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const x=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||m.type==="wheel")&&x}}function PN({domNode:e,minZoom:r,maxZoom:o,paneClickDistance:s,translateExtent:a,viewport:l,onPanZoom:c,onPanZoomStart:d,onPanZoomEnd:h,onDraggingChange:p}){const m={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=e.getBoundingClientRect(),y=Dg().clickDistance(!Tn(s)||s<0?0:s).scaleExtent([r,o]).translateExtent(a),x=tn(e).call(y);C({x:l.x,y:l.y,zoom:li(l.zoom,r,o)},[[0,0],[v.width,v.height]],a);const N=x.on("wheel.zoom"),w=x.on("dblclick.zoom");y.wheelDelta(ty);function S(L,q){return x?new Promise(O=>{y?.interpolate(q?.interpolate==="linear"?ns:Ua).transform(kc(x,q?.duration,q?.ease,()=>O(!0)),L)}):Promise.resolve(!1)}function _({noWheelClassName:L,noPanClassName:q,onPaneContextMenu:O,userSelectionActive:U,panOnScroll:H,panOnDrag:F,panOnScrollMode:I,panOnScrollSpeed:B,preventScrolling:Y,zoomOnPinch:b,zoomOnScroll:Q,zoomOnDoubleClick:se,zoomActivationKeyPressed:oe,lib:ue,onTransformChange:pe}){U&&!m.isZoomingOrPanning&&T();const X=H&&!oe&&!U?kN({zoomPanValues:m,noWheelClassName:L,d3Selection:x,d3Zoom:y,panOnScrollMode:I,panOnScrollSpeed:B,zoomOnPinch:b,onPanZoomStart:d,onPanZoom:c,onPanZoomEnd:h}):_N({noWheelClassName:L,preventScrolling:Y,d3ZoomHandler:N});if(x.on("wheel.zoom",X,{passive:!1}),!U){const _e=MN({zoomPanValues:m,onDraggingChange:p,onPanZoomStart:d});y.on("start",_e);const Ae=bN({zoomPanValues:m,panOnDrag:F,onPaneContextMenu:!!O,onPanZoom:c,onTransformChange:pe});y.on("zoom",Ae);const ge=DN({zoomPanValues:m,panOnDrag:F,panOnScroll:H,onPaneContextMenu:O,onPanZoomEnd:h,onDraggingChange:p});y.on("end",ge)}const fe=TN({zoomActivationKeyPressed:oe,panOnDrag:F,zoomOnScroll:Q,panOnScroll:H,zoomOnDoubleClick:se,zoomOnPinch:b,userSelectionActive:U,noPanClassName:q,noWheelClassName:L,lib:ue});y.filter(fe),se?x.on("dblclick.zoom",w):x.on("dblclick.zoom",null)}function T(){y.on("zoom",null)}async function C(L,q,O){const U=Nc(L),H=y?.constrain()(U,q,O);return H&&await S(H),new Promise(F=>F(H))}async function D(L,q){const O=Nc(L);return await S(O,q),new Promise(U=>U(O))}function A(L){if(x){const q=Nc(L),O=x.property("__zoom");(O.k!==L.zoom||O.x!==L.x||O.y!==L.y)&&y?.transform(x,q,null,{sync:!0})}}function V(){const L=x?bg(x.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function M(L,q){return x?new Promise(O=>{y?.interpolate(q?.interpolate==="linear"?ns:Ua).scaleTo(kc(x,q?.duration,q?.ease,()=>O(!0)),L)}):Promise.resolve(!1)}function z(L,q){return x?new Promise(O=>{y?.interpolate(q?.interpolate==="linear"?ns:Ua).scaleBy(kc(x,q?.duration,q?.ease,()=>O(!0)),L)}):Promise.resolve(!1)}function G(L){y?.scaleExtent(L)}function ne(L){y?.translateExtent(L)}function re(L){const q=!Tn(L)||L<0?0:L;y?.clickDistance(q)}return{update:_,destroy:T,setViewport:D,setViewportConstrained:C,getViewport:V,scaleTo:M,scaleBy:z,setScaleExtent:G,setTranslateExtent:ne,syncViewport:A,setClickDistance:re}}var di;(function(e){e.Line="line",e.Handle="handle"})(di||(di={}));function ON({width:e,prevWidth:r,height:o,prevHeight:s,affectsX:a,affectsY:l}){const c=e-r,d=o-s,h=[c>0?1:c<0?-1:0,d>0?1:d<0?-1:0];return c&&a&&(h[0]=h[0]*-1),d&&l&&(h[1]=h[1]*-1),h}function RN(e){const r=e.includes("right")||e.includes("left"),o=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:r,isVertical:o,affectsX:s,affectsY:a}}function Ar(e,r){return Math.max(0,r-e)}function jr(e,r){return Math.max(0,e-r)}function ja(e,r,o){return Math.max(0,r-e,e-o)}function om(e,r){return e?!r:r}function IN(e,r,o,s,a,l,c,d){let{affectsX:h,affectsY:p}=r;const{isHorizontal:m,isVertical:v}=r,y=m&&v,{xSnapped:x,ySnapped:N}=o,{minWidth:w,maxWidth:S,minHeight:_,maxHeight:T}=s,{x:C,y:D,width:A,height:V,aspectRatio:M}=e;let z=Math.floor(m?x-e.pointerX:0),G=Math.floor(v?N-e.pointerY:0);const ne=A+(h?-z:z),re=V+(p?-G:G),L=-l[0]*A,q=-l[1]*V;let O=ja(ne,w,S),U=ja(re,_,T);if(c){let I=0,B=0;h&&z<0?I=Ar(C+z+L,c[0][0]):!h&&z>0&&(I=jr(C+ne+L,c[1][0])),p&&G<0?B=Ar(D+G+q,c[0][1]):!p&&G>0&&(B=jr(D+re+q,c[1][1])),O=Math.max(O,I),U=Math.max(U,B)}if(d){let I=0,B=0;h&&z>0?I=jr(C+z,d[0][0]):!h&&z<0&&(I=Ar(C+ne,d[1][0])),p&&G>0?B=jr(D+G,d[0][1]):!p&&G<0&&(B=Ar(D+re,d[1][1])),O=Math.max(O,I),U=Math.max(U,B)}if(a){if(m){const I=ja(ne/M,_,T)*M;if(O=Math.max(O,I),c){let B=0;!h&&!p||h&&!p&&y?B=jr(D+q+ne/M,c[1][1])*M:B=Ar(D+q+(h?z:-z)/M,c[0][1])*M,O=Math.max(O,B)}if(d){let B=0;!h&&!p||h&&!p&&y?B=Ar(D+ne/M,d[1][1])*M:B=jr(D+(h?z:-z)/M,d[0][1])*M,O=Math.max(O,B)}}if(v){const I=ja(re*M,w,S)/M;if(U=Math.max(U,I),c){let B=0;!h&&!p||p&&!h&&y?B=jr(C+re*M+L,c[1][0])/M:B=Ar(C+(p?G:-G)*M+L,c[0][0])/M,U=Math.max(U,B)}if(d){let B=0;!h&&!p||p&&!h&&y?B=Ar(C+re*M,d[1][0])/M:B=jr(C+(p?G:-G)*M,d[0][0])/M,U=Math.max(U,B)}}}G=G+(G<0?U:-U),z=z+(z<0?O:-O),a&&(y?ne>re*M?G=(om(h,p)?-z:z)/M:z=(om(h,p)?-G:G)*M:m?(G=z/M,p=h):(z=G*M,h=p));const H=h?C+z:C,F=p?D+G:D;return{width:A+(h?-z:z),height:V+(p?-G:G),x:l[0]*z*(h?-1:1)+H,y:l[1]*G*(p?-1:1)+F}}const ny={width:0,height:0,x:0,y:0},LN={...ny,pointerX:0,pointerY:0,aspectRatio:1};function AN(e){return[[0,0],[e.measured.width,e.measured.height]]}function jN(e,r,o){const s=r.position.x+e.position.x,a=r.position.y+e.position.y,l=e.measured.width??0,c=e.measured.height??0,d=o[0]*l,h=o[1]*c;return[[s-d,a-h],[s+l-d,a+c-h]]}function FN({domNode:e,nodeId:r,getStoreItems:o,onChange:s,onEnd:a}){const l=tn(e);function c({controlPosition:h,boundaries:p,keepAspectRatio:m,resizeDirection:v,onResizeStart:y,onResize:x,onResizeEnd:N,shouldResize:w}){let S={...ny},_={...LN};const T=RN(h);let C,D=null,A=[],V,M,z;const G=pg().on("start",ne=>{const{nodeLookup:re,transform:L,snapGrid:q,snapToGrid:O,nodeOrigin:U,paneDomNode:H}=o();if(C=re.get(r),!C)return;D=H?.getBoundingClientRect()??null;const{xSnapped:F,ySnapped:I}=rs(ne.sourceEvent,{transform:L,snapGrid:q,snapToGrid:O,containerBounds:D});S={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},_={...S,pointerX:F,pointerY:I,aspectRatio:S.width/S.height},V=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(V=re.get(C.parentId),M=V&&C.extent==="parent"?AN(V):void 0),A=[],z=void 0;for(const[B,Y]of re)if(Y.parentId===r&&(A.push({id:B,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const b=jN(Y,C,Y.origin??U);z?z=[[Math.min(b[0][0],z[0][0]),Math.min(b[0][1],z[0][1])],[Math.max(b[1][0],z[1][0]),Math.max(b[1][1],z[1][1])]]:z=b}y?.(ne,{...S})}).on("drag",ne=>{const{transform:re,snapGrid:L,snapToGrid:q,nodeOrigin:O}=o(),U=rs(ne.sourceEvent,{transform:re,snapGrid:L,snapToGrid:q,containerBounds:D}),H=[];if(!C)return;const{x:F,y:I,width:B,height:Y}=S,b={},Q=C.origin??O,{width:se,height:oe,x:ue,y:pe}=IN(_,T,U,p,m,Q,M,z),de=se!==B,X=oe!==Y,fe=ue!==F&&de,_e=pe!==I&&X;if(!fe&&!_e&&!de&&!X)return;if((fe||_e||Q[0]===1||Q[1]===1)&&(b.x=fe?ue:S.x,b.y=_e?pe:S.y,S.x=b.x,S.y=b.y,A.length>0)){const be=ue-F,He=pe-I;for(const Xe of A)Xe.position={x:Xe.position.x-be+Q[0]*(se-B),y:Xe.position.y-He+Q[1]*(oe-Y)},H.push(Xe)}if((de||X)&&(b.width=de&&(!v||v==="horizontal")?se:S.width,b.height=X&&(!v||v==="vertical")?oe:S.height,S.width=b.width,S.height=b.height),V&&C.expandParent){const be=Q[0]*(b.width??0);b.x&&b.x<be&&(S.x=be,_.x=_.x-(b.x-be));const He=Q[1]*(b.height??0);b.y&&b.y<He&&(S.y=He,_.y=_.y-(b.y-He))}const Ae=ON({width:S.width,prevWidth:B,height:S.height,prevHeight:Y,affectsX:T.affectsX,affectsY:T.affectsY}),ge={...S,direction:Ae};w?.(ne,ge)!==!1&&(x?.(ne,ge),s(b,H))}).on("end",ne=>{N?.(ne,{...S}),a?.({...S})});l.call(G)}function d(){l.on(".drag",null)}return{update:c,destroy:d}}const{useDebugValue:zN}=ul,{useSyncExternalStoreWithSelector:$N}=Km,VN=e=>e;function ry(e,r=VN,o){const s=$N(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,o);return zN(s),s}const im=(e,r)=>{const o=Ym(e),s=(a,l=r)=>ry(o,a,l);return Object.assign(s,o),s},HN=(e,r)=>e?im(e,r):im;function lt(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,a]of e)if(!Object.is(a,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(r).length)return!1;for(const s of o)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const wl=P.createContext(null),BN=wl.Provider,oy=Un.error001();function We(e,r){const o=P.useContext(wl);if(o===null)throw new Error(oy);return ry(o,e,r)}function it(){const e=P.useContext(wl);if(e===null)throw new Error(oy);return P.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const sm={display:"none"},UN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},iy="react-flow__node-desc",sy="react-flow__edge-desc",WN="react-flow__aria-live",QN=e=>e.ariaLiveMessage,YN=e=>e.ariaLabelConfig;function KN({rfId:e}){const r=We(QN);return k.jsx("div",{id:`${WN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:UN,children:r})}function XN({rfId:e,disableKeyboardA11y:r}){const o=We(YN);return k.jsxs(k.Fragment,{children:[k.jsx("div",{id:`${iy}-${e}`,style:sm,children:r?o["node.a11yDescription.default"]:o["node.a11yDescription.keyboardDisabled"]}),k.jsx("div",{id:`${sy}-${e}`,style:sm,children:o["edge.a11yDescription.default"]}),!r&&k.jsx(KN,{rfId:e})]})}const Sl=P.forwardRef(({position:e="top-left",children:r,className:o,style:s,...a},l)=>{const c=`${e}`.split("-");return k.jsx("div",{className:pt(["react-flow__panel",o,...c]),style:s,ref:l,...a,children:r})});Sl.displayName="Panel";function GN({proOptions:e,position:r="bottom-right"}){return e?.hideAttribution?null:k.jsx(Sl,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:k.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ZN=e=>{const r=[],o=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&o.push(s);return{selectedNodes:r,selectedEdges:o}},Fa=e=>e.id;function qN(e,r){return lt(e.selectedNodes.map(Fa),r.selectedNodes.map(Fa))&&lt(e.selectedEdges.map(Fa),r.selectedEdges.map(Fa))}function JN({onSelectionChange:e}){const r=it(),{selectedNodes:o,selectedEdges:s}=We(ZN,qN);return P.useEffect(()=>{const a={nodes:o,edges:s};e?.(a),r.getState().onSelectionChangeHandlers.forEach(l=>l(a))},[o,s,e]),null}const ek=e=>!!e.onSelectionChangeHandlers;function tk({onSelectionChange:e}){const r=We(ek);return e||r?k.jsx(JN,{onSelectionChange:e}):null}const ay=[0,0],nk={x:0,y:0,zoom:1},rk=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],am=[...rk,"rfId"],ok=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),lm={translateExtent:hs,nodeOrigin:ay,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function ik(e){const{setNodes:r,setEdges:o,setMinZoom:s,setMaxZoom:a,setTranslateExtent:l,setNodeExtent:c,reset:d,setDefaultNodesAndEdges:h,setPaneClickDistance:p}=We(ok,lt),m=it();P.useEffect(()=>(h(e.defaultNodes,e.defaultEdges),()=>{v.current=lm,d()}),[]);const v=P.useRef(lm);return P.useEffect(()=>{for(const y of am){const x=e[y],N=v.current[y];x!==N&&(typeof e[y]>"u"||(y==="nodes"?r(x):y==="edges"?o(x):y==="minZoom"?s(x):y==="maxZoom"?a(x):y==="translateExtent"?l(x):y==="nodeExtent"?c(x):y==="paneClickDistance"?p(x):y==="ariaLabelConfig"?m.setState({ariaLabelConfig:GC(x)}):y==="fitView"?m.setState({fitViewQueued:x}):y==="fitViewOptions"?m.setState({fitViewOptions:x}):m.setState({[y]:x})))}v.current=e},am.map(y=>e[y])),null}function um(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function sk(e){const[r,o]=P.useState(e==="system"?null:e);return P.useEffect(()=>{if(e!=="system"){o(e);return}const s=um(),a=()=>o(s?.matches?"dark":"light");return a(),s?.addEventListener("change",a),()=>{s?.removeEventListener("change",a)}},[e]),r!==null?r:um()?.matches?"dark":"light"}const cm=typeof document<"u"?document:null;function vs(e=null,r={target:cm,actInsideInputWithModifier:!0}){const[o,s]=P.useState(!1),a=P.useRef(!1),l=P.useRef(new Set([])),[c,d]=P.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=p.reduce((v,y)=>v.concat(...y),[]);return[p,m]}return[[],[]]},[e]);return P.useEffect(()=>{const h=r?.target??cm,p=r?.actInsideInputWithModifier??!0;if(e!==null){const m=x=>{if(a.current=x.ctrlKey||x.metaKey||x.shiftKey||x.altKey,(!a.current||a.current&&!p)&&Hg(x))return!1;const w=fm(x.code,d);if(l.current.add(x[w]),dm(c,l.current,!1)){const S=x.composedPath?.()?.[0]||x.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";r.preventDefault!==!1&&(a.current||!_)&&x.preventDefault(),s(!0)}},v=x=>{const N=fm(x.code,d);dm(c,l.current,!0)?(s(!1),l.current.clear()):l.current.delete(x[N]),x.key==="Meta"&&l.current.clear(),a.current=!1},y=()=>{l.current.clear(),s(!1)};return h?.addEventListener("keydown",m),h?.addEventListener("keyup",v),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{h?.removeEventListener("keydown",m),h?.removeEventListener("keyup",v),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[e,s]),o}function dm(e,r,o){return e.filter(s=>o||s.length===r.size).some(s=>s.every(a=>r.has(a)))}function fm(e,r){return r.includes(e)?"code":"key"}const ak=()=>{const e=it();return P.useMemo(()=>({zoomIn:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:o}=e.getState();return o?o.scaleBy(1/1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomTo:(r,o)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:o?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,o)=>{const{transform:[s,a,l],panZoom:c}=e.getState();return c?(await c.setViewport({x:r.x??s,y:r.y??a,zoom:r.zoom??l},o),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,o,s]=e.getState().transform;return{x:r,y:o,zoom:s}},setCenter:async(r,o,s)=>e.getState().setCenter(r,o,s),fitBounds:async(r,o)=>{const{width:s,height:a,minZoom:l,maxZoom:c,panZoom:d}=e.getState(),h=cd(r,s,a,l,c,o?.padding??.1);return d?(await d.setViewport(h,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,o={})=>{const{transform:s,snapGrid:a,snapToGrid:l,domNode:c}=e.getState();if(!c)return r;const{x:d,y:h}=c.getBoundingClientRect(),p={x:r.x-d,y:r.y-h},m=o.snapGrid??a,v=o.snapToGrid??l;return _s(p,s,v,m)},flowToScreenPosition:r=>{const{transform:o,domNode:s}=e.getState();if(!s)return r;const{x:a,y:l}=s.getBoundingClientRect(),c=al(r,o);return{x:c.x+a,y:c.y+l}}}),[])};function ly(e,r){const o=[],s=new Map,a=[];for(const l of e)if(l.type==="add"){a.push(l);continue}else if(l.type==="remove"||l.type==="replace")s.set(l.id,[l]);else{const c=s.get(l.id);c?c.push(l):s.set(l.id,[l])}for(const l of r){const c=s.get(l.id);if(!c){o.push(l);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){o.push({...c[0].item});continue}const d={...l};for(const h of c)lk(h,d);o.push(d)}return a.length&&a.forEach(l=>{l.index!==void 0?o.splice(l.index,0,{...l.item}):o.push({...l.item})}),o}function lk(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured??={},r.measured.width=e.dimensions.width,r.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function uy(e,r){return ly(e,r)}function uk(e,r){return ly(e,r)}function lo(e,r){return{id:e,type:"select",selected:r}}function ti(e,r=new Set,o=!1){const s=[];for(const[a,l]of e){const c=r.has(a);!(l.selected===void 0&&!c)&&l.selected!==c&&(o&&(l.selected=c),s.push(lo(l.id,c)))}return s}function hm({items:e=[],lookup:r}){const o=[],s=new Map(e.map(a=>[a.id,a]));for(const[a,l]of e.entries()){const c=r.get(l.id),d=c?.internals?.userNode??c;d!==void 0&&d!==l&&o.push({id:l.id,item:l,type:"replace"}),d===void 0&&o.push({item:l,type:"add",index:a})}for(const[a]of r)s.get(a)===void 0&&o.push({id:a,type:"remove"});return o}function pm(e){return{id:e.id,type:"remove"}}const mm=e=>$C(e),ck=e=>Ig(e);function cy(e){return P.forwardRef(e)}const dk=typeof window<"u"?P.useLayoutEffect:P.useEffect;function gm(e){const[r,o]=P.useState(BigInt(0)),[s]=P.useState(()=>fk(()=>o(a=>a+BigInt(1))));return dk(()=>{const a=s.get();a.length&&(e(a),s.reset())},[r]),s}function fk(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:o=>{r.push(o),e()}}}const dy=P.createContext(null);function hk({children:e}){const r=it(),o=P.useCallback(d=>{const{nodes:h=[],setNodes:p,hasDefaultNodes:m,onNodesChange:v,nodeLookup:y,fitViewQueued:x}=r.getState();let N=h;for(const S of d)N=typeof S=="function"?S(N):S;const w=hm({items:N,lookup:y});m&&p(N),w.length>0?v?.(w):x&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:_,setNodes:T}=r.getState();S&&T(_)})},[]),s=gm(o),a=P.useCallback(d=>{const{edges:h=[],setEdges:p,hasDefaultEdges:m,onEdgesChange:v,edgeLookup:y}=r.getState();let x=h;for(const N of d)x=typeof N=="function"?N(x):N;m?p(x):v&&v(hm({items:x,lookup:y}))},[]),l=gm(a),c=P.useMemo(()=>({nodeQueue:s,edgeQueue:l}),[]);return k.jsx(dy.Provider,{value:c,children:e})}function pk(){const e=P.useContext(dy);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const mk=e=>!!e.panZoom;function yd(){const e=ak(),r=it(),o=pk(),s=We(mk),a=P.useMemo(()=>{const l=v=>r.getState().nodeLookup.get(v),c=v=>{o.nodeQueue.push(v)},d=v=>{o.edgeQueue.push(v)},h=v=>{const{nodeLookup:y,nodeOrigin:x}=r.getState(),N=mm(v)?v:y.get(v.id),w=N.parentId?$g(N.position,N.measured,N.parentId,y,x):N.position,S={...N,position:w,width:N.measured?.width??N.width,height:N.measured?.height??N.height};return ui(S)},p=(v,y,x={replace:!1})=>{c(N=>N.map(w=>{if(w.id===v){const S=typeof y=="function"?y(w):y;return x.replace&&mm(S)?S:{...w,...S}}return w}))},m=(v,y,x={replace:!1})=>{d(N=>N.map(w=>{if(w.id===v){const S=typeof y=="function"?y(w):y;return x.replace&&ck(S)?S:{...w,...S}}return w}))};return{getNodes:()=>r.getState().nodes.map(v=>({...v})),getNode:v=>l(v)?.internals.userNode,getInternalNode:l,getEdges:()=>{const{edges:v=[]}=r.getState();return v.map(y=>({...y}))},getEdge:v=>r.getState().edgeLookup.get(v),setNodes:c,setEdges:d,addNodes:v=>{const y=Array.isArray(v)?v:[v];o.nodeQueue.push(x=>[...x,...y])},addEdges:v=>{const y=Array.isArray(v)?v:[v];o.edgeQueue.push(x=>[...x,...y])},toObject:()=>{const{nodes:v=[],edges:y=[],transform:x}=r.getState(),[N,w,S]=x;return{nodes:v.map(_=>({..._})),edges:y.map(_=>({..._})),viewport:{x:N,y:w,zoom:S}}},deleteElements:async({nodes:v=[],edges:y=[]})=>{const{nodes:x,edges:N,onNodesDelete:w,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:T,onDelete:C,onBeforeDelete:D}=r.getState(),{nodes:A,edges:V}=await WC({nodesToRemove:v,edgesToRemove:y,nodes:x,edges:N,onBeforeDelete:D}),M=V.length>0,z=A.length>0;if(M){const G=V.map(pm);S?.(V),T(G)}if(z){const G=A.map(pm);w?.(A),_(G)}return(z||M)&&C?.({nodes:A,edges:V}),{deletedNodes:A,deletedEdges:V}},getIntersectingNodes:(v,y=!0,x)=>{const N=Yp(v),w=N?v:h(v),S=x!==void 0;return w?(x||r.getState().nodes).filter(_=>{const T=r.getState().nodeLookup.get(_.id);if(T&&!N&&(_.id===v.id||!T.internals.positionAbsolute))return!1;const C=ui(S?_:T),D=ms(C,w);return y&&D>0||D>=C.width*C.height||D>=w.width*w.height}):[]},isNodeIntersecting:(v,y,x=!0)=>{const w=Yp(v)?v:h(v);if(!w)return!1;const S=ms(w,y);return x&&S>0||S>=w.width*w.height},updateNode:p,updateNodeData:(v,y,x={replace:!1})=>{p(v,N=>{const w=typeof y=="function"?y(N):y;return x.replace?{...N,data:w}:{...N,data:{...N.data,...w}}},x)},updateEdge:m,updateEdgeData:(v,y,x={replace:!1})=>{m(v,N=>{const w=typeof y=="function"?y(N):y;return x.replace?{...N,data:w}:{...N,data:{...N.data,...w}}},x)},getNodesBounds:v=>{const{nodeLookup:y,nodeOrigin:x}=r.getState();return VC(v,{nodeLookup:y,nodeOrigin:x})},getHandleConnections:({type:v,id:y,nodeId:x})=>Array.from(r.getState().connectionLookup.get(`${x}-${v}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:v,handleId:y,nodeId:x})=>Array.from(r.getState().connectionLookup.get(`${x}${v?y?`-${v}-${y}`:`-${v}`:""}`)?.values()??[]),fitView:async v=>{const y=r.getState().fitViewResolver??XC();return r.setState({fitViewQueued:!0,fitViewOptions:v,fitViewResolver:y}),o.nodeQueue.push(x=>[...x]),y.promise}}},[]);return P.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const ym=e=>e.selected,gk=typeof window<"u"?window:void 0;function yk({deleteKeyCode:e,multiSelectionKeyCode:r}){const o=it(),{deleteElements:s}=yd(),a=vs(e,{actInsideInputWithModifier:!1}),l=vs(r,{target:gk});P.useEffect(()=>{if(a){const{edges:c,nodes:d}=o.getState();s({nodes:d.filter(ym),edges:c.filter(ym)}),o.setState({nodesSelectionActive:!1})}},[a]),P.useEffect(()=>{o.setState({multiSelectionActive:l})},[l])}function vk(e){const r=it();P.useEffect(()=>{const o=()=>{if(!e.current)return!1;const s=dd(e.current);(s.height===0||s.width===0)&&r.getState().onError?.("004",Un.error004()),r.setState({width:s.width||500,height:s.height||500})};if(e.current){o(),window.addEventListener("resize",o);const s=new ResizeObserver(()=>o());return s.observe(e.current),()=>{window.removeEventListener("resize",o),s&&e.current&&s.unobserve(e.current)}}},[])}const El={position:"absolute",width:"100%",height:"100%",top:0,left:0},xk=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function wk({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=go.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:h,translateExtent:p,minZoom:m,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:x=!0,children:N,noWheelClassName:w,noPanClassName:S,onViewportChange:_,isControlledViewport:T,paneClickDistance:C}){const D=it(),A=P.useRef(null),{userSelectionActive:V,lib:M}=We(xk,lt),z=vs(y),G=P.useRef();vk(A);const ne=P.useCallback(re=>{_?.({x:re[0],y:re[1],zoom:re[2]}),T||D.setState({transform:re})},[_,T]);return P.useEffect(()=>{if(A.current){G.current=PN({domNode:A.current,minZoom:m,maxZoom:v,translateExtent:p,viewport:h,paneClickDistance:C,onDraggingChange:O=>D.setState({paneDragging:O}),onPanZoomStart:(O,U)=>{const{onViewportChangeStart:H,onMoveStart:F}=D.getState();F?.(O,U),H?.(U)},onPanZoom:(O,U)=>{const{onViewportChange:H,onMove:F}=D.getState();F?.(O,U),H?.(U)},onPanZoomEnd:(O,U)=>{const{onViewportChangeEnd:H,onMoveEnd:F}=D.getState();F?.(O,U),H?.(U)}});const{x:re,y:L,zoom:q}=G.current.getViewport();return D.setState({panZoom:G.current,transform:[re,L,q],domNode:A.current.closest(".react-flow")}),()=>{G.current?.destroy()}}},[]),P.useEffect(()=>{G.current?.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:o,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:l,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:z,preventScrolling:x,noPanClassName:S,userSelectionActive:V,noWheelClassName:w,lib:M,onTransformChange:ne})},[e,r,o,s,a,l,c,d,z,x,S,V,w,M,ne]),k.jsx("div",{className:"react-flow__renderer",ref:A,style:El,children:N})}const Sk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ek(){const{userSelectionActive:e,userSelectionRect:r}=We(Sk,lt);return e&&r?k.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const _c=(e,r)=>o=>{o.target===r.current&&e?.(o)},Ck=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Nk({isSelecting:e,selectionKeyPressed:r,selectionMode:o=ps.Full,panOnDrag:s,selectionOnDrag:a,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:v,onPaneMouseLeave:y,children:x}){const N=it(),{userSelectionActive:w,elementsSelectable:S,dragging:_,connectionInProgress:T}=We(Ck,lt),C=S&&(e||w),D=P.useRef(null),A=P.useRef(),V=P.useRef(new Set),M=P.useRef(new Set),z=P.useRef(!1),G=P.useRef(!1),ne=F=>{if(z.current||T){z.current=!1;return}d?.(F),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},re=F=>{if(Array.isArray(s)&&s?.includes(2)){F.preventDefault();return}h?.(F)},L=p?F=>p(F):void 0,q=F=>{const{resetSelectedElements:I,domNode:B}=N.getState();if(A.current=B?.getBoundingClientRect(),!S||!e||F.button!==0||F.target!==D.current||!A.current)return;F.target?.setPointerCapture?.(F.pointerId),G.current=!0,z.current=!1;const{x:Y,y:b}=Vn(F.nativeEvent,A.current);I(),N.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:b,x:Y,y:b}}),l?.(F)},O=F=>{const{userSelectionRect:I,transform:B,nodeLookup:Y,edgeLookup:b,connectionLookup:Q,triggerNodeChanges:se,triggerEdgeChanges:oe,defaultEdgeOptions:ue}=N.getState();if(!A.current||!I)return;z.current=!0;const{x:pe,y:de}=Vn(F.nativeEvent,A.current),{startX:X,startY:fe}=I,_e={startX:X,startY:fe,x:pe<X?pe:X,y:de<fe?de:fe,width:Math.abs(pe-X),height:Math.abs(de-fe)},Ae=V.current,ge=M.current;V.current=new Set(ud(Y,_e,B,o===ps.Partial,!0).map(be=>be.id)),M.current=new Set;const Te=ue?.selectable??!0;for(const be of V.current){const He=Q.get(be);if(He)for(const{edgeId:Xe}of He.values()){const mt=b.get(Xe);mt&&(mt.selectable??Te)&&M.current.add(Xe)}}if(!Kp(Ae,V.current)){const be=ti(Y,V.current,!0);se(be)}if(!Kp(ge,M.current)){const be=ti(b,M.current);oe(be)}N.setState({userSelectionRect:_e,userSelectionActive:!0,nodesSelectionActive:!1})},U=F=>{if(F.button!==0||!G.current)return;F.target?.releasePointerCapture?.(F.pointerId);const{userSelectionRect:I}=N.getState();!w&&I&&F.target===D.current&&ne?.(F),N.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:V.current.size>0}),c?.(F),(r||a)&&(z.current=!1),G.current=!1},H=s===!0||Array.isArray(s)&&s.includes(0);return k.jsxs("div",{className:pt(["react-flow__pane",{draggable:H,dragging:_,selection:e}]),onClick:C?void 0:_c(ne,D),onContextMenu:_c(re,D),onWheel:_c(L,D),onPointerEnter:C?void 0:m,onPointerDown:C?q:v,onPointerMove:C?O:v,onPointerUp:C?U:void 0,onPointerLeave:y,ref:D,style:El,children:[x,k.jsx(Ek,{})]})}function Yc({id:e,store:r,unselect:o=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:l,multiSelectionActive:c,nodeLookup:d,onError:h}=r.getState(),p=d.get(e);if(!p){h?.("012",Un.error012(e));return}r.setState({nodesSelectionActive:!1}),p.selected?(o||p.selected&&c)&&(l({nodes:[p],edges:[]}),requestAnimationFrame(()=>s?.current?.blur())):a([e])}function fy({nodeRef:e,disabled:r=!1,noDragClassName:o,handleSelector:s,nodeId:a,isSelectable:l,nodeClickDistance:c}){const d=it(),[h,p]=P.useState(!1),m=P.useRef();return P.useEffect(()=>{m.current=gN({getStoreItems:()=>d.getState(),onNodeMouseDown:v=>{Yc({id:v,store:d,nodeRef:e})},onDragStart:()=>{p(!0)},onDragStop:()=>{p(!1)}})},[]),P.useEffect(()=>{if(r)m.current?.destroy();else if(e.current)return m.current?.update({noDragClassName:o,handleSelector:s,domNode:e.current,isSelectable:l,nodeId:a,nodeClickDistance:c}),()=>{m.current?.destroy()}},[o,s,r,l,e,a]),h}const kk=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function hy(){const e=it();return P.useCallback(o=>{const{nodeExtent:s,snapToGrid:a,snapGrid:l,nodesDraggable:c,onError:d,updateNodePositions:h,nodeLookup:p,nodeOrigin:m}=e.getState(),v=new Map,y=kk(c),x=a?l[0]:5,N=a?l[1]:5,w=o.direction.x*x*o.factor,S=o.direction.y*N*o.factor;for(const[,_]of p){if(!y(_))continue;let T={x:_.internals.positionAbsolute.x+w,y:_.internals.positionAbsolute.y+S};a&&(T=ks(T,l));const{position:C,positionAbsolute:D}=Lg({nodeId:_.id,nextPosition:T,nodeLookup:p,nodeExtent:s,nodeOrigin:m,onError:d});_.position=C,_.internals.positionAbsolute=D,v.set(_.id,_)}h(v)},[])}const vd=P.createContext(null),_k=vd.Provider;vd.Consumer;const py=()=>P.useContext(vd),Mk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),bk=(e,r,o)=>s=>{const{connectionClickStartHandle:a,connectionMode:l,connection:c}=s,{fromHandle:d,toHandle:h,isValid:p}=c,m=h?.nodeId===e&&h?.id===r&&h?.type===o;return{connectingFrom:d?.nodeId===e&&d?.id===r&&d?.type===o,connectingTo:m,clickConnecting:a?.nodeId===e&&a?.id===r&&a?.type===o,isPossibleEndHandle:l===ai.Strict?d?.type!==o:e!==d?.nodeId||r!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!a,valid:m&&p}};function Dk({type:e="source",position:r=De.Top,isValidConnection:o,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:h,className:p,onMouseDown:m,onTouchStart:v,...y},x){const N=c||null,w=e==="target",S=it(),_=py(),{connectOnClick:T,noPanClassName:C,rfId:D}=We(Mk,lt),{connectingFrom:A,connectingTo:V,clickConnecting:M,isPossibleEndHandle:z,connectionInProcess:G,clickConnectionInProcess:ne,valid:re}=We(bk(_,N,e),lt);_||S.getState().onError?.("010",Un.error010());const L=U=>{const{defaultEdgeOptions:H,onConnect:F,hasDefaultEdges:I}=S.getState(),B={...H,...U};if(I){const{edges:Y,setEdges:b}=S.getState();b(nN(B,Y))}F?.(B),d?.(B)},q=U=>{if(!_)return;const H=Bg(U.nativeEvent);if(a&&(H&&U.button===0||!H)){const F=S.getState();Qc.onPointerDown(U.nativeEvent,{handleDomNode:U.currentTarget,autoPanOnConnect:F.autoPanOnConnect,connectionMode:F.connectionMode,connectionRadius:F.connectionRadius,domNode:F.domNode,nodeLookup:F.nodeLookup,lib:F.lib,isTarget:w,handleId:N,nodeId:_,flowId:F.rfId,panBy:F.panBy,cancelConnection:F.cancelConnection,onConnectStart:F.onConnectStart,onConnectEnd:F.onConnectEnd,updateConnection:F.updateConnection,onConnect:L,isValidConnection:o||F.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:F.autoPanSpeed,dragThreshold:F.connectionDragThreshold})}H?m?.(U):v?.(U)},O=U=>{const{onClickConnectStart:H,onClickConnectEnd:F,connectionClickStartHandle:I,connectionMode:B,isValidConnection:Y,lib:b,rfId:Q,nodeLookup:se,connection:oe}=S.getState();if(!_||!I&&!a)return;if(!I){H?.(U.nativeEvent,{nodeId:_,handleId:N,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,id:N}});return}const ue=Vg(U.target),pe=o||Y,{connection:de,isValid:X}=Qc.isValid(U.nativeEvent,{handle:{nodeId:_,id:N,type:e},connectionMode:B,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:pe,flowId:Q,doc:ue,lib:b,nodeLookup:se});X&&de&&L(de);const fe=structuredClone(oe);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,F?.(U,fe),S.setState({connectionClickStartHandle:null})};return k.jsx("div",{"data-handleid":N,"data-nodeid":_,"data-handlepos":r,"data-id":`${D}-${_}-${N}-${e}`,className:pt(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",C,p,{source:!w,target:w,connectable:s,connectablestart:a,connectableend:l,clickconnecting:M,connectingfrom:A,connectingto:V,valid:re,connectionindicator:s&&(!G||z)&&(G||ne?l:a)}]),onMouseDown:q,onTouchStart:q,onClick:T?O:void 0,ref:x,...y,children:h})}const Vr=P.memo(cy(Dk));function Tk({data:e,isConnectable:r,sourcePosition:o=De.Bottom}){return k.jsxs(k.Fragment,{children:[e?.label,k.jsx(Vr,{type:"source",position:o,isConnectable:r})]})}function Pk({data:e,isConnectable:r,targetPosition:o=De.Top,sourcePosition:s=De.Bottom}){return k.jsxs(k.Fragment,{children:[k.jsx(Vr,{type:"target",position:o,isConnectable:r}),e?.label,k.jsx(Vr,{type:"source",position:s,isConnectable:r})]})}function Ok(){return null}function Rk({data:e,isConnectable:r,targetPosition:o=De.Top}){return k.jsxs(k.Fragment,{children:[k.jsx(Vr,{type:"target",position:o,isConnectable:r}),e?.label]})}const ll={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},vm={input:Tk,default:Pk,output:Rk,group:Ok};function Ik(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const Lk=e=>{const{width:r,height:o,x:s,y:a}=Ns(e.nodeLookup,{filter:l=>!!l.selected});return{width:Tn(r)?r:null,height:Tn(o)?o:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function Ak({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:o}){const s=it(),{width:a,height:l,transformString:c,userSelectionActive:d}=We(Lk,lt),h=hy(),p=P.useRef(null);if(P.useEffect(()=>{o||p.current?.focus({preventScroll:!0})},[o]),fy({nodeRef:p}),d||!a||!l)return null;const m=e?y=>{const x=s.getState().nodes.filter(N=>N.selected);e(y,x)}:void 0,v=y=>{Object.prototype.hasOwnProperty.call(ll,y.key)&&(y.preventDefault(),h({direction:ll[y.key],factor:y.shiftKey?4:1}))};return k.jsx("div",{className:pt(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:k.jsx("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:o?void 0:-1,onKeyDown:o?void 0:v,style:{width:a,height:l}})})}const xm=typeof window<"u"?window:void 0,jk=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function my({children:e,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,paneClickDistance:d,deleteKeyCode:h,selectionKeyCode:p,selectionOnDrag:m,selectionMode:v,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:N,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:T,zoomOnPinch:C,panOnScroll:D,panOnScrollSpeed:A,panOnScrollMode:V,zoomOnDoubleClick:M,panOnDrag:z,defaultViewport:G,translateExtent:ne,minZoom:re,maxZoom:L,preventScrolling:q,onSelectionContextMenu:O,noWheelClassName:U,noPanClassName:H,disableKeyboardA11y:F,onViewportChange:I,isControlledViewport:B}){const{nodesSelectionActive:Y,userSelectionActive:b}=We(jk),Q=vs(p,{target:xm}),se=vs(w,{target:xm}),oe=se||z,ue=se||D,pe=m&&oe!==!0,de=Q||b||pe;return yk({deleteKeyCode:h,multiSelectionKeyCode:N}),k.jsx(wk,{onPaneContextMenu:l,elementsSelectable:_,zoomOnScroll:T,zoomOnPinch:C,panOnScroll:ue,panOnScrollSpeed:A,panOnScrollMode:V,zoomOnDoubleClick:M,panOnDrag:!Q&&oe,defaultViewport:G,translateExtent:ne,minZoom:re,maxZoom:L,zoomActivationKeyCode:S,preventScrolling:q,noWheelClassName:U,noPanClassName:H,onViewportChange:I,isControlledViewport:B,paneClickDistance:d,children:k.jsxs(Nk,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:r,onPaneMouseEnter:o,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:c,panOnDrag:oe,isSelecting:!!de,selectionMode:v,selectionKeyPressed:Q,selectionOnDrag:pe,children:[e,Y&&k.jsx(Ak,{onSelectionContextMenu:O,noPanClassName:H,disableKeyboardA11y:F})]})})}my.displayName="FlowRenderer";const Fk=P.memo(my),zk=e=>r=>e?ud(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(o=>o.id):Array.from(r.nodeLookup.keys());function $k(e){return We(P.useCallback(zk(e),[e]),lt)}const Vk=e=>e.updateNodeInternals;function Hk(){const e=We(Vk),[r]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(o=>{const s=new Map;o.forEach(a=>{const l=a.target.getAttribute("data-id");s.set(l,{id:l,nodeElement:a.target,force:!0})}),e(s)}));return P.useEffect(()=>()=>{r?.disconnect()},[r]),r}function Bk({node:e,nodeType:r,hasDimensions:o,resizeObserver:s}){const a=it(),l=P.useRef(null),c=P.useRef(null),d=P.useRef(e.sourcePosition),h=P.useRef(e.targetPosition),p=P.useRef(r),m=o&&!!e.internals.handleBounds;return P.useEffect(()=>{l.current&&!e.hidden&&(!m||c.current!==l.current)&&(c.current&&s?.unobserve(c.current),s?.observe(l.current),c.current=l.current)},[m,e.hidden]),P.useEffect(()=>()=>{c.current&&(s?.unobserve(c.current),c.current=null)},[]),P.useEffect(()=>{if(l.current){const v=p.current!==r,y=d.current!==e.sourcePosition,x=h.current!==e.targetPosition;(v||y||x)&&(p.current=r,d.current=e.sourcePosition,h.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),l}function Uk({id:e,onClick:r,onMouseEnter:o,onMouseMove:s,onMouseLeave:a,onContextMenu:l,onDoubleClick:c,nodesDraggable:d,elementsSelectable:h,nodesConnectable:p,nodesFocusable:m,resizeObserver:v,noDragClassName:y,noPanClassName:x,disableKeyboardA11y:N,rfId:w,nodeTypes:S,nodeClickDistance:_,onError:T}){const{node:C,internals:D,isParent:A}=We(X=>{const fe=X.nodeLookup.get(e),_e=X.parentLookup.has(e);return{node:fe,internals:fe.internals,isParent:_e}},lt);let V=C.type||"default",M=S?.[V]||vm[V];M===void 0&&(T?.("003",Un.error003(V)),V="default",M=S?.default||vm.default);const z=!!(C.draggable||d&&typeof C.draggable>"u"),G=!!(C.selectable||h&&typeof C.selectable>"u"),ne=!!(C.connectable||p&&typeof C.connectable>"u"),re=!!(C.focusable||m&&typeof C.focusable>"u"),L=it(),q=zg(C),O=Bk({node:C,nodeType:V,hasDimensions:q,resizeObserver:v}),U=fy({nodeRef:O,disabled:C.hidden||!z,noDragClassName:y,handleSelector:C.dragHandle,nodeId:e,isSelectable:G,nodeClickDistance:_}),H=hy();if(C.hidden)return null;const F=cr(C),I=Ik(C),B=G||z||r||o||s||a,Y=o?X=>o(X,{...D.userNode}):void 0,b=s?X=>s(X,{...D.userNode}):void 0,Q=a?X=>a(X,{...D.userNode}):void 0,se=l?X=>l(X,{...D.userNode}):void 0,oe=c?X=>c(X,{...D.userNode}):void 0,ue=X=>{const{selectNodesOnDrag:fe,nodeDragThreshold:_e}=L.getState();G&&(!fe||!z||_e>0)&&Yc({id:e,store:L,nodeRef:O}),r&&r(X,{...D.userNode})},pe=X=>{if(!(Hg(X.nativeEvent)||N)){if(Tg.includes(X.key)&&G){const fe=X.key==="Escape";Yc({id:e,store:L,unselect:fe,nodeRef:O})}else if(z&&C.selected&&Object.prototype.hasOwnProperty.call(ll,X.key)){X.preventDefault();const{ariaLabelConfig:fe}=L.getState();L.setState({ariaLiveMessage:fe["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~D.positionAbsolute.x,y:~~D.positionAbsolute.y})}),H({direction:ll[X.key],factor:X.shiftKey?4:1})}}},de=()=>{if(N||!O.current?.matches(":focus-visible"))return;const{transform:X,width:fe,height:_e,autoPanOnNodeFocus:Ae,setCenter:ge}=L.getState();if(!Ae)return;ud(new Map([[e,C]]),{x:0,y:0,width:fe,height:_e},X,!0).length>0||ge(C.position.x+F.width/2,C.position.y+F.height/2,{zoom:X[2]})};return k.jsx("div",{className:pt(["react-flow__node",`react-flow__node-${V}`,{[x]:z},C.className,{selected:C.selected,selectable:G,parent:A,draggable:z,dragging:U}]),ref:O,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:B?"all":"none",visibility:q?"visible":"hidden",...C.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Y,onMouseMove:b,onMouseLeave:Q,onContextMenu:se,onClick:ue,onDoubleClick:oe,onKeyDown:re?pe:void 0,tabIndex:re?0:void 0,onFocus:re?de:void 0,role:C.ariaRole??(re?"group":void 0),"aria-roledescription":"node","aria-describedby":N?void 0:`${iy}-${w}`,"aria-label":C.ariaLabel,...C.domAttributes,children:k.jsx(_k,{value:e,children:k.jsx(M,{id:e,data:C.data,type:V,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:C.selected??!1,selectable:G,draggable:z,deletable:C.deletable??!0,isConnectable:ne,sourcePosition:C.sourcePosition,targetPosition:C.targetPosition,dragging:U,dragHandle:C.dragHandle,zIndex:D.z,parentId:C.parentId,...F})})})}const Wk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function gy(e){const{nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:a,onError:l}=We(Wk,lt),c=$k(e.onlyRenderVisibleElements),d=Hk();return k.jsx("div",{className:"react-flow__nodes",style:El,children:c.map(h=>k.jsx(Uk,{id:h,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:o,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:l},h))})}gy.displayName="NodeRenderer";const Qk=P.memo(gy);function Yk(e){return We(P.useCallback(o=>{if(!e)return o.edges.map(a=>a.id);const s=[];if(o.width&&o.height)for(const a of o.edges){const l=o.nodeLookup.get(a.source),c=o.nodeLookup.get(a.target);l&&c&&JC({sourceNode:l,targetNode:c,width:o.width,height:o.height,transform:o.transform})&&s.push(a.id)}return s},[e]),lt)}const Kk=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e}};return k.jsx("polyline",{className:"arrow",style:o,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Xk=({color:e="none",strokeWidth:r=1})=>{const o={strokeWidth:r,...e&&{stroke:e,fill:e}};return k.jsx("polyline",{className:"arrowclosed",style:o,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},wm={[il.Arrow]:Kk,[il.ArrowClosed]:Xk};function Gk(e){const r=it();return P.useMemo(()=>Object.prototype.hasOwnProperty.call(wm,e)?wm[e]:(r.getState().onError?.("009",Un.error009(e)),null),[e])}const Zk=({id:e,type:r,color:o,width:s=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:d="auto-start-reverse"})=>{const h=Gk(r);return h?k.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0",children:k.jsx(h,{color:o,strokeWidth:c})}):null},yy=({defaultColor:e,rfId:r})=>{const o=We(l=>l.edges),s=We(l=>l.defaultEdgeOptions),a=P.useMemo(()=>aN(o,{id:r,defaultColor:e,defaultMarkerStart:s?.markerStart,defaultMarkerEnd:s?.markerEnd}),[o,s,r,e]);return a.length?k.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:k.jsx("defs",{children:a.map(l=>k.jsx(Zk,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};yy.displayName="MarkerDefinitions";var qk=P.memo(yy);function vy({x:e,y:r,label:o,labelStyle:s,labelShowBg:a=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:p,...m}){const[v,y]=P.useState({x:1,y:0,width:0,height:0}),x=pt(["react-flow__edge-textwrapper",p]),N=P.useRef(null);return P.useEffect(()=>{if(N.current){const w=N.current.getBBox();y({x:w.x,y:w.y,width:w.width,height:w.height})}},[o]),o?k.jsxs("g",{transform:`translate(${e-v.width/2} ${r-v.height/2})`,className:x,visibility:v.width?"visible":"hidden",...m,children:[a&&k.jsx("rect",{width:v.width+2*c[0],x:-c[0],y:-c[1],height:v.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),k.jsx("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:N,style:s,children:o}),h]}):null}vy.displayName="EdgeText";const Jk=P.memo(vy);function Cl({path:e,labelX:r,labelY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,interactionWidth:p=20,...m}){return k.jsxs(k.Fragment,{children:[k.jsx("path",{...m,d:e,fill:"none",className:pt(["react-flow__edge-path",m.className])}),p?k.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}):null,s&&Tn(r)&&Tn(o)?k.jsx(Jk,{x:r,y:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h}):null]})}function Sm({pos:e,x1:r,y1:o,x2:s,y2:a}){return e===De.Left||e===De.Right?[.5*(r+s),o]:[r,.5*(o+a)]}function xy({sourceX:e,sourceY:r,sourcePosition:o=De.Bottom,targetX:s,targetY:a,targetPosition:l=De.Top}){const[c,d]=Sm({pos:o,x1:e,y1:r,x2:s,y2:a}),[h,p]=Sm({pos:l,x1:s,y1:a,x2:e,y2:r}),[m,v,y,x]=Ug({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:c,sourceControlY:d,targetControlX:h,targetControlY:p});return[`M${e},${r} C${c},${d} ${h},${p} ${s},${a}`,m,v,y,x]}function wy(e){return P.memo(({id:r,sourceX:o,sourceY:s,targetX:a,targetY:l,sourcePosition:c,targetPosition:d,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:x,style:N,markerEnd:w,markerStart:S,interactionWidth:_})=>{const[T,C,D]=xy({sourceX:o,sourceY:s,sourcePosition:c,targetX:a,targetY:l,targetPosition:d}),A=e.isInternal?void 0:r;return k.jsx(Cl,{id:A,path:T,labelX:C,labelY:D,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:x,style:N,markerEnd:w,markerStart:S,interactionWidth:_})})}const e2=wy({isInternal:!1}),Sy=wy({isInternal:!0});e2.displayName="SimpleBezierEdge";Sy.displayName="SimpleBezierEdgeInternal";function Ey(e){return P.memo(({id:r,sourceX:o,sourceY:s,targetX:a,targetY:l,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:y,sourcePosition:x=De.Bottom,targetPosition:N=De.Top,markerEnd:w,markerStart:S,pathOptions:_,interactionWidth:T})=>{const[C,D,A]=Bc({sourceX:o,sourceY:s,sourcePosition:x,targetX:a,targetY:l,targetPosition:N,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),V=e.isInternal?void 0:r;return k.jsx(Cl,{id:V,path:C,labelX:D,labelY:A,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:S,interactionWidth:T})})}const Cy=Ey({isInternal:!1}),Ny=Ey({isInternal:!0});Cy.displayName="SmoothStepEdge";Ny.displayName="SmoothStepEdgeInternal";function ky(e){return P.memo(({id:r,...o})=>{const s=e.isInternal?void 0:r;return k.jsx(Cy,{...o,id:s,pathOptions:P.useMemo(()=>({borderRadius:0,offset:o.pathOptions?.offset}),[o.pathOptions?.offset])})})}const t2=ky({isInternal:!1}),_y=ky({isInternal:!0});t2.displayName="StepEdge";_y.displayName="StepEdgeInternal";function My(e){return P.memo(({id:r,sourceX:o,sourceY:s,targetX:a,targetY:l,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:y,markerEnd:x,markerStart:N,interactionWidth:w})=>{const[S,_,T]=Qg({sourceX:o,sourceY:s,targetX:a,targetY:l}),C=e.isInternal?void 0:r;return k.jsx(Cl,{id:C,path:S,labelX:_,labelY:T,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:v,style:y,markerEnd:x,markerStart:N,interactionWidth:w})})}const n2=My({isInternal:!1}),by=My({isInternal:!0});n2.displayName="StraightEdge";by.displayName="StraightEdgeInternal";function Dy(e){return P.memo(({id:r,sourceX:o,sourceY:s,targetX:a,targetY:l,sourcePosition:c=De.Bottom,targetPosition:d=De.Top,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:x,style:N,markerEnd:w,markerStart:S,pathOptions:_,interactionWidth:T})=>{const[C,D,A]=fd({sourceX:o,sourceY:s,sourcePosition:c,targetX:a,targetY:l,targetPosition:d,curvature:_?.curvature}),V=e.isInternal?void 0:r;return k.jsx(Cl,{id:V,path:C,labelX:D,labelY:A,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:x,style:N,markerEnd:w,markerStart:S,interactionWidth:T})})}const r2=Dy({isInternal:!1}),Ty=Dy({isInternal:!0});r2.displayName="BezierEdge";Ty.displayName="BezierEdgeInternal";const Em={default:Ty,straight:by,step:_y,smoothstep:Ny,simplebezier:Sy},Cm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},o2=(e,r,o)=>o===De.Left?e-r:o===De.Right?e+r:e,i2=(e,r,o)=>o===De.Top?e-r:o===De.Bottom?e+r:e,Nm="react-flow__edgeupdater";function km({position:e,centerX:r,centerY:o,radius:s=10,onMouseDown:a,onMouseEnter:l,onMouseOut:c,type:d}){return k.jsx("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:c,className:pt([Nm,`${Nm}-${d}`]),cx:o2(r,s,e),cy:i2(o,s,e),r:s,stroke:"transparent",fill:"transparent"})}function s2({isReconnectable:e,reconnectRadius:r,edge:o,sourceX:s,sourceY:a,targetX:l,targetY:c,sourcePosition:d,targetPosition:h,onReconnect:p,onReconnectStart:m,onReconnectEnd:v,setReconnecting:y,setUpdateHover:x}){const N=it(),w=(D,A)=>{if(D.button!==0)return;const{autoPanOnConnect:V,domNode:M,isValidConnection:z,connectionMode:G,connectionRadius:ne,lib:re,onConnectStart:L,onConnectEnd:q,cancelConnection:O,nodeLookup:U,rfId:H,panBy:F,updateConnection:I}=N.getState(),B=A.type==="target",Y=(se,oe)=>{y(!1),v?.(se,o,A.type,oe)},b=se=>p?.(o,se),Q=(se,oe)=>{y(!0),m?.(D,o,A.type),L?.(se,oe)};Qc.onPointerDown(D.nativeEvent,{autoPanOnConnect:V,connectionMode:G,connectionRadius:ne,domNode:M,handleId:A.id,nodeId:A.nodeId,nodeLookup:U,isTarget:B,edgeUpdaterType:A.type,lib:re,flowId:H,cancelConnection:O,panBy:F,isValidConnection:z,onConnect:b,onConnectStart:Q,onConnectEnd:q,onReconnectEnd:Y,updateConnection:I,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,dragThreshold:N.getState().connectionDragThreshold,handleDomNode:D.currentTarget})},S=D=>w(D,{nodeId:o.target,id:o.targetHandle??null,type:"target"}),_=D=>w(D,{nodeId:o.source,id:o.sourceHandle??null,type:"source"}),T=()=>x(!0),C=()=>x(!1);return k.jsxs(k.Fragment,{children:[(e===!0||e==="source")&&k.jsx(km,{position:d,centerX:s,centerY:a,radius:r,onMouseDown:S,onMouseEnter:T,onMouseOut:C,type:"source"}),(e===!0||e==="target")&&k.jsx(km,{position:h,centerX:l,centerY:c,radius:r,onMouseDown:_,onMouseEnter:T,onMouseOut:C,type:"target"})]})}function a2({id:e,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:s,onClick:a,onDoubleClick:l,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,reconnectRadius:m,onReconnect:v,onReconnectStart:y,onReconnectEnd:x,rfId:N,edgeTypes:w,noPanClassName:S,onError:_,disableKeyboardA11y:T}){let C=We(ge=>ge.edgeLookup.get(e));const D=We(ge=>ge.defaultEdgeOptions);C=D?{...D,...C}:C;let A=C.type||"default",V=w?.[A]||Em[A];V===void 0&&(_?.("011",Un.error011(A)),A="default",V=w?.default||Em.default);const M=!!(C.focusable||r&&typeof C.focusable>"u"),z=typeof v<"u"&&(C.reconnectable||o&&typeof C.reconnectable>"u"),G=!!(C.selectable||s&&typeof C.selectable>"u"),ne=P.useRef(null),[re,L]=P.useState(!1),[q,O]=P.useState(!1),U=it(),{zIndex:H,sourceX:F,sourceY:I,targetX:B,targetY:Y,sourcePosition:b,targetPosition:Q}=We(P.useCallback(ge=>{const Te=ge.nodeLookup.get(C.source),be=ge.nodeLookup.get(C.target);if(!Te||!be)return{zIndex:C.zIndex,...Cm};const He=sN({id:e,sourceNode:Te,targetNode:be,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:ge.connectionMode,onError:_});return{zIndex:qC({selected:C.selected,zIndex:C.zIndex,sourceNode:Te,targetNode:be,elevateOnSelect:ge.elevateEdgesOnSelect}),...He||Cm}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),lt),se=P.useMemo(()=>C.markerStart?`url('#${Uc(C.markerStart,N)}')`:void 0,[C.markerStart,N]),oe=P.useMemo(()=>C.markerEnd?`url('#${Uc(C.markerEnd,N)}')`:void 0,[C.markerEnd,N]);if(C.hidden||F===null||I===null||B===null||Y===null)return null;const ue=ge=>{const{addSelectedEdges:Te,unselectNodesAndEdges:be,multiSelectionActive:He}=U.getState();G&&(U.setState({nodesSelectionActive:!1}),C.selected&&He?(be({nodes:[],edges:[C]}),ne.current?.blur()):Te([e])),a&&a(ge,C)},pe=l?ge=>{l(ge,{...C})}:void 0,de=c?ge=>{c(ge,{...C})}:void 0,X=d?ge=>{d(ge,{...C})}:void 0,fe=h?ge=>{h(ge,{...C})}:void 0,_e=p?ge=>{p(ge,{...C})}:void 0,Ae=ge=>{if(!T&&Tg.includes(ge.key)&&G){const{unselectNodesAndEdges:Te,addSelectedEdges:be}=U.getState();ge.key==="Escape"?(ne.current?.blur(),Te({edges:[C]})):be([e])}};return k.jsx("svg",{style:{zIndex:H},children:k.jsxs("g",{className:pt(["react-flow__edge",`react-flow__edge-${A}`,C.className,S,{selected:C.selected,animated:C.animated,inactive:!G&&!a,updating:re,selectable:G}]),onClick:ue,onDoubleClick:pe,onContextMenu:de,onMouseEnter:X,onMouseMove:fe,onMouseLeave:_e,onKeyDown:M?Ae:void 0,tabIndex:M?0:void 0,role:C.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":C.ariaLabel===null?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":M?`${sy}-${N}`:void 0,ref:ne,...C.domAttributes,children:[!q&&k.jsx(V,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:G,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:F,sourceY:I,targetX:B,targetY:Y,sourcePosition:b,targetPosition:Q,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:se,markerEnd:oe,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),z&&k.jsx(s2,{edge:C,isReconnectable:z,reconnectRadius:m,onReconnect:v,onReconnectStart:y,onReconnectEnd:x,sourceX:F,sourceY:I,targetX:B,targetY:Y,sourcePosition:b,targetPosition:Q,setUpdateHover:L,setReconnecting:O})]})})}const l2=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Py({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:o,edgeTypes:s,noPanClassName:a,onReconnect:l,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:h,onEdgeMouseLeave:p,onEdgeClick:m,reconnectRadius:v,onEdgeDoubleClick:y,onReconnectStart:x,onReconnectEnd:N,disableKeyboardA11y:w}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:T,onError:C}=We(l2,lt),D=Yk(r);return k.jsxs("div",{className:"react-flow__edges",children:[k.jsx(qk,{defaultColor:e,rfId:o}),D.map(A=>k.jsx(a2,{id:A,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:T,noPanClassName:a,onReconnect:l,onContextMenu:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onClick:m,reconnectRadius:v,onDoubleClick:y,onReconnectStart:x,onReconnectEnd:N,rfId:o,onError:C,edgeTypes:s,disableKeyboardA11y:w},A))]})}Py.displayName="EdgeRenderer";const u2=P.memo(Py),c2=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function d2({children:e}){const r=We(c2);return k.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function f2(e){const r=yd(),o=P.useRef(!1);P.useEffect(()=>{!o.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),o.current=!0)},[e,r.viewportInitialized])}const h2=e=>e.panZoom?.syncViewport;function p2(e){const r=We(h2),o=it();return P.useEffect(()=>{e&&(r?.(e),o.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function m2(e){return e.connection.inProgress?{...e.connection,to:_s(e.connection.to,e.transform)}:{...e.connection}}function g2(e){return m2}function y2(e){const r=g2();return We(r,lt)}const v2=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function x2({containerStyle:e,style:r,type:o,component:s}){const{nodesConnectable:a,width:l,height:c,isValid:d,inProgress:h}=We(v2,lt);return!(l&&a&&h)?null:k.jsx("svg",{style:e,width:l,height:c,className:"react-flow__connectionline react-flow__container",children:k.jsx("g",{className:pt(["react-flow__connection",Rg(d)]),children:k.jsx(Oy,{style:r,type:o,CustomComponent:s,isValid:d})})})}const Oy=({style:e,type:r=zr.Bezier,CustomComponent:o,isValid:s})=>{const{inProgress:a,from:l,fromNode:c,fromHandle:d,fromPosition:h,to:p,toNode:m,toHandle:v,toPosition:y}=y2();if(!a)return;if(o)return k.jsx(o,{connectionLineType:r,connectionLineStyle:e,fromNode:c,fromHandle:d,fromX:l.x,fromY:l.y,toX:p.x,toY:p.y,fromPosition:h,toPosition:y,connectionStatus:Rg(s),toNode:m,toHandle:v});let x="";const N={sourceX:l.x,sourceY:l.y,sourcePosition:h,targetX:p.x,targetY:p.y,targetPosition:y};switch(r){case zr.Bezier:[x]=fd(N);break;case zr.SimpleBezier:[x]=xy(N);break;case zr.Step:[x]=Bc({...N,borderRadius:0});break;case zr.SmoothStep:[x]=Bc(N);break;default:[x]=Qg(N)}return k.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};Oy.displayName="ConnectionLine";const w2={};function _m(e=w2){P.useRef(e),it(),P.useEffect(()=>{},[e])}function S2(){it(),P.useRef(!1),P.useEffect(()=>{},[])}function Ry({nodeTypes:e,edgeTypes:r,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:x,connectionLineType:N,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:T,selectionOnDrag:C,selectionMode:D,multiSelectionKeyCode:A,panActivationKeyCode:V,zoomActivationKeyCode:M,deleteKeyCode:z,onlyRenderVisibleElements:G,elementsSelectable:ne,defaultViewport:re,translateExtent:L,minZoom:q,maxZoom:O,preventScrolling:U,defaultMarkerColor:H,zoomOnScroll:F,zoomOnPinch:I,panOnScroll:B,panOnScrollSpeed:Y,panOnScrollMode:b,zoomOnDoubleClick:Q,panOnDrag:se,onPaneClick:oe,onPaneMouseEnter:ue,onPaneMouseMove:pe,onPaneMouseLeave:de,onPaneScroll:X,onPaneContextMenu:fe,paneClickDistance:_e,nodeClickDistance:Ae,onEdgeContextMenu:ge,onEdgeMouseEnter:Te,onEdgeMouseMove:be,onEdgeMouseLeave:He,reconnectRadius:Xe,onReconnect:mt,onReconnectStart:Ut,onReconnectEnd:Wt,noDragClassName:Qt,noWheelClassName:Pt,noPanClassName:yn,disableKeyboardA11y:On,nodeExtent:Ot,rfId:Yt,viewport:rn,onViewportChange:Kt}){return _m(e),_m(r),S2(),f2(o),p2(rn),k.jsx(Fk,{onPaneClick:oe,onPaneMouseEnter:ue,onPaneMouseMove:pe,onPaneMouseLeave:de,onPaneContextMenu:fe,onPaneScroll:X,paneClickDistance:_e,deleteKeyCode:z,selectionKeyCode:T,selectionOnDrag:C,selectionMode:D,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:A,panActivationKeyCode:V,zoomActivationKeyCode:M,elementsSelectable:ne,zoomOnScroll:F,zoomOnPinch:I,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:Y,panOnScrollMode:b,panOnDrag:se,defaultViewport:re,translateExtent:L,minZoom:q,maxZoom:O,onSelectionContextMenu:v,preventScrolling:U,noDragClassName:Qt,noWheelClassName:Pt,noPanClassName:yn,disableKeyboardA11y:On,onViewportChange:Kt,isControlledViewport:!!rn,children:k.jsxs(d2,{children:[k.jsx(u2,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:mt,onReconnectStart:Ut,onReconnectEnd:Wt,onlyRenderVisibleElements:G,onEdgeContextMenu:ge,onEdgeMouseEnter:Te,onEdgeMouseMove:be,onEdgeMouseLeave:He,reconnectRadius:Xe,defaultMarkerColor:H,noPanClassName:yn,disableKeyboardA11y:On,rfId:Yt}),k.jsx(x2,{style:w,type:N,component:S,containerStyle:_}),k.jsx("div",{className:"react-flow__edgelabel-renderer"}),k.jsx(Qk,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:m,nodeClickDistance:Ae,onlyRenderVisibleElements:G,noPanClassName:yn,noDragClassName:Qt,disableKeyboardA11y:On,nodeExtent:Ot,rfId:Yt}),k.jsx("div",{className:"react-flow__viewport-portal"})]})})}Ry.displayName="GraphView";const E2=P.memo(Ry),Mm=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:a,height:l,fitView:c,fitViewOptions:d,minZoom:h=.5,maxZoom:p=2,nodeOrigin:m,nodeExtent:v}={})=>{const y=new Map,x=new Map,N=new Map,w=new Map,S=s??r??[],_=o??e??[],T=m??[0,0],C=v??hs;Kg(N,w,S);const D=Wc(_,y,x,{nodeOrigin:T,nodeExtent:C,elevateNodesOnSelect:!1});let A=[0,0,1];if(c&&a&&l){const V=Ns(y,{filter:ne=>!!((ne.width||ne.initialWidth)&&(ne.height||ne.initialHeight))}),{x:M,y:z,zoom:G}=cd(V,a,l,h,p,d?.padding??.1);A=[M,z,G]}return{rfId:"1",width:0,height:0,transform:A,nodes:_,nodesInitialized:D,nodeLookup:y,parentLookup:x,edges:S,edgeLookup:w,connectionLookup:N,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:o!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:h,maxZoom:p,translateExtent:hs,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ai.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:T,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:d,fitViewResolver:null,connection:{...Og},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:QC,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Pg}},C2=({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:a,height:l,fitView:c,fitViewOptions:d,minZoom:h,maxZoom:p,nodeOrigin:m,nodeExtent:v})=>HN((y,x)=>{async function N(){const{nodeLookup:w,panZoom:S,fitViewOptions:_,fitViewResolver:T,width:C,height:D,minZoom:A,maxZoom:V}=x();S&&(await UC({nodes:w,width:C,height:D,panZoom:S,minZoom:A,maxZoom:V},_),T?.resolve(!0),y({fitViewResolver:null}))}return{...Mm({nodes:e,edges:r,width:a,height:l,fitView:c,fitViewOptions:d,minZoom:h,maxZoom:p,nodeOrigin:m,nodeExtent:v,defaultNodes:o,defaultEdges:s}),setNodes:w=>{const{nodeLookup:S,parentLookup:_,nodeOrigin:T,elevateNodesOnSelect:C,fitViewQueued:D}=x(),A=Wc(w,S,_,{nodeOrigin:T,nodeExtent:v,elevateNodesOnSelect:C,checkEquality:!0});D&&A?(N(),y({nodes:w,nodesInitialized:A,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:w,nodesInitialized:A})},setEdges:w=>{const{connectionLookup:S,edgeLookup:_}=x();Kg(S,_,w),y({edges:w})},setDefaultNodesAndEdges:(w,S)=>{if(w){const{setNodes:_}=x();_(w),y({hasDefaultNodes:!0})}if(S){const{setEdges:_}=x();_(S),y({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:T,domNode:C,nodeOrigin:D,nodeExtent:A,debug:V,fitViewQueued:M}=x(),{changes:z,updatedInternals:G}=fN(w,_,T,C,D,A);G&&(uN(_,T,{nodeOrigin:D,nodeExtent:A}),M?(N(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),z?.length>0&&(V&&console.log("React Flow: trigger node changes",z),S?.(z)))},updateNodePositions:(w,S=!1)=>{const _=[],T=[],{nodeLookup:C,triggerNodeChanges:D}=x();for(const[A,V]of w){const M=C.get(A),z=!!(M?.expandParent&&M?.parentId&&V?.position),G={id:A,type:"position",position:z?{x:Math.max(0,V.position.x),y:Math.max(0,V.position.y)}:V.position,dragging:S};z&&M.parentId&&_.push({id:A,parentId:M.parentId,rect:{...V.internals.positionAbsolute,width:V.measured.width??0,height:V.measured.height??0}}),T.push(G)}if(_.length>0){const{parentLookup:A,nodeOrigin:V}=x(),M=gd(_,C,A,V);T.push(...M)}D(T)},triggerNodeChanges:w=>{const{onNodesChange:S,setNodes:_,nodes:T,hasDefaultNodes:C,debug:D}=x();if(w?.length){if(C){const A=uy(w,T);_(A)}D&&console.log("React Flow: trigger node changes",w),S?.(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:S,setEdges:_,edges:T,hasDefaultEdges:C,debug:D}=x();if(w?.length){if(C){const A=uk(w,T);_(A)}D&&console.log("React Flow: trigger edge changes",w),S?.(w)}},addSelectedNodes:w=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:T,triggerNodeChanges:C,triggerEdgeChanges:D}=x();if(S){const A=w.map(V=>lo(V,!0));C(A);return}C(ti(T,new Set([...w]),!0)),D(ti(_))},addSelectedEdges:w=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:T,triggerNodeChanges:C,triggerEdgeChanges:D}=x();if(S){const A=w.map(V=>lo(V,!0));D(A);return}D(ti(_,new Set([...w]))),C(ti(T,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:S}={})=>{const{edges:_,nodes:T,nodeLookup:C,triggerNodeChanges:D,triggerEdgeChanges:A}=x(),V=w||T,M=S||_,z=V.map(ne=>{const re=C.get(ne.id);return re&&(re.selected=!1),lo(ne.id,!1)}),G=M.map(ne=>lo(ne.id,!1));D(z),A(G)},setMinZoom:w=>{const{panZoom:S,maxZoom:_}=x();S?.setScaleExtent([w,_]),y({minZoom:w})},setMaxZoom:w=>{const{panZoom:S,minZoom:_}=x();S?.setScaleExtent([_,w]),y({maxZoom:w})},setTranslateExtent:w=>{x().panZoom?.setTranslateExtent(w),y({translateExtent:w})},setPaneClickDistance:w=>{x().panZoom?.setClickDistance(w)},resetSelectedElements:()=>{const{edges:w,nodes:S,triggerNodeChanges:_,triggerEdgeChanges:T,elementsSelectable:C}=x();if(!C)return;const D=S.reduce((V,M)=>M.selected?[...V,lo(M.id,!1)]:V,[]),A=w.reduce((V,M)=>M.selected?[...V,lo(M.id,!1)]:V,[]);_(D),T(A)},setNodeExtent:w=>{const{nodes:S,nodeLookup:_,parentLookup:T,nodeOrigin:C,elevateNodesOnSelect:D,nodeExtent:A}=x();w[0][0]===A[0][0]&&w[0][1]===A[0][1]&&w[1][0]===A[1][0]&&w[1][1]===A[1][1]||(Wc(S,_,T,{nodeOrigin:C,nodeExtent:w,elevateNodesOnSelect:D,checkEquality:!1}),y({nodeExtent:w}))},panBy:w=>{const{transform:S,width:_,height:T,panZoom:C,translateExtent:D}=x();return hN({delta:w,panZoom:C,transform:S,translateExtent:D,width:_,height:T})},setCenter:async(w,S,_)=>{const{width:T,height:C,maxZoom:D,panZoom:A}=x();if(!A)return Promise.resolve(!1);const V=typeof _?.zoom<"u"?_.zoom:D;return await A.setViewport({x:T/2-w*V,y:C/2-S*V,zoom:V},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...Og}})},updateConnection:w=>{y({connection:w})},reset:()=>y({...Mm()})}},Object.is);function Iy({initialNodes:e,initialEdges:r,defaultNodes:o,defaultEdges:s,initialWidth:a,initialHeight:l,initialMinZoom:c,initialMaxZoom:d,initialFitViewOptions:h,fitView:p,nodeOrigin:m,nodeExtent:v,children:y}){const[x]=P.useState(()=>C2({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,width:a,height:l,fitView:p,minZoom:c,maxZoom:d,fitViewOptions:h,nodeOrigin:m,nodeExtent:v}));return k.jsx(BN,{value:x,children:k.jsx(hk,{children:y})})}function N2({children:e,nodes:r,edges:o,defaultNodes:s,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:h,minZoom:p,maxZoom:m,nodeOrigin:v,nodeExtent:y}){return P.useContext(wl)?k.jsx(k.Fragment,{children:e}):k.jsx(Iy,{initialNodes:r,initialEdges:o,defaultNodes:s,defaultEdges:a,initialWidth:l,initialHeight:c,fitView:d,initialFitViewOptions:h,initialMinZoom:p,initialMaxZoom:m,nodeOrigin:v,nodeExtent:y,children:e})}const k2={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function _2({nodes:e,edges:r,defaultNodes:o,defaultEdges:s,className:a,nodeTypes:l,edgeTypes:c,onNodeClick:d,onEdgeClick:h,onInit:p,onMove:m,onMoveStart:v,onMoveEnd:y,onConnect:x,onConnectStart:N,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:T,onNodeMouseMove:C,onNodeMouseLeave:D,onNodeContextMenu:A,onNodeDoubleClick:V,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:G,onNodesDelete:ne,onEdgesDelete:re,onDelete:L,onSelectionChange:q,onSelectionDragStart:O,onSelectionDrag:U,onSelectionDragStop:H,onSelectionContextMenu:F,onSelectionStart:I,onSelectionEnd:B,onBeforeDelete:Y,connectionMode:b,connectionLineType:Q=zr.Bezier,connectionLineStyle:se,connectionLineComponent:oe,connectionLineContainerStyle:ue,deleteKeyCode:pe="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:X=!1,selectionMode:fe=ps.Full,panActivationKeyCode:_e="Space",multiSelectionKeyCode:Ae=gs()?"Meta":"Control",zoomActivationKeyCode:ge=gs()?"Meta":"Control",snapToGrid:Te,snapGrid:be,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:Xe,nodesDraggable:mt,autoPanOnNodeFocus:Ut,nodesConnectable:Wt,nodesFocusable:Qt,nodeOrigin:Pt=ay,edgesFocusable:yn,edgesReconnectable:On,elementsSelectable:Ot=!0,defaultViewport:Yt=nk,minZoom:rn=.5,maxZoom:Kt=2,translateExtent:Nt=hs,preventScrolling:Rt=!0,nodeExtent:on,defaultMarkerColor:sn="#b1b1b7",zoomOnScroll:hi=!0,zoomOnPinch:Xt=!0,panOnScroll:Br=!1,panOnScrollSpeed:Co=.5,panOnScrollMode:dr=go.Free,zoomOnDoubleClick:Ur=!0,panOnDrag:fr=!0,onPaneClick:Rn,onPaneMouseEnter:hr,onPaneMouseMove:an,onPaneMouseLeave:ln,onPaneScroll:No,onPaneContextMenu:Wr,paneClickDistance:Qr=0,nodeClickDistance:Yr=0,children:Yn,onReconnect:In,onReconnectStart:ko,onReconnectEnd:Kn,onEdgeContextMenu:j,onEdgeDoubleClick:K,onEdgeMouseEnter:te,onEdgeMouseMove:ie,onEdgeMouseLeave:me,reconnectRadius:ke=10,onNodesChange:Pe,onEdgesChange:we,noDragClassName:Ee="nodrag",noWheelClassName:ve="nowheel",noPanClassName:xe="nopan",fitView:Ie,fitViewOptions:je,connectOnClick:ct,attributionPosition:Ke,proOptions:$e,defaultEdgeOptions:Je,elevateNodesOnSelect:vn,elevateEdgesOnSelect:Xn,disableKeyboardA11y:It=!1,autoPanOnConnect:Be,autoPanOnNodeDrag:Kr,autoPanSpeed:xn,connectionRadius:un,isValidConnection:wn,onError:pr,style:ze,id:Ge,nodeDragThreshold:gt,connectionDragThreshold:Gn,viewport:Ue,onViewportChange:Ln,width:_o,height:pi,colorMode:Mo="light",debug:bo,onScroll:mr,ariaLabelConfig:Do,...Nl},kl){const Xr=Ge||"1",Ms=sk(Mo),mi=P.useCallback(gr=>{gr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),mr?.(gr)},[mr]);return k.jsx("div",{"data-testid":"rf__wrapper",...Nl,onScroll:mi,style:{...ze,...k2},ref:kl,className:pt(["react-flow",a,Ms]),id:Ge,role:"application",children:k.jsxs(N2,{nodes:e,edges:r,width:_o,height:pi,fitView:Ie,fitViewOptions:je,minZoom:rn,maxZoom:Kt,nodeOrigin:Pt,nodeExtent:on,children:[k.jsx(E2,{onInit:p,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:T,onNodeMouseMove:C,onNodeMouseLeave:D,onNodeContextMenu:A,onNodeDoubleClick:V,nodeTypes:l,edgeTypes:c,connectionLineType:Q,connectionLineStyle:se,connectionLineComponent:oe,connectionLineContainerStyle:ue,selectionKeyCode:de,selectionOnDrag:X,selectionMode:fe,deleteKeyCode:pe,multiSelectionKeyCode:Ae,panActivationKeyCode:_e,zoomActivationKeyCode:ge,onlyRenderVisibleElements:He,defaultViewport:Yt,translateExtent:Nt,minZoom:rn,maxZoom:Kt,preventScrolling:Rt,zoomOnScroll:hi,zoomOnPinch:Xt,zoomOnDoubleClick:Ur,panOnScroll:Br,panOnScrollSpeed:Co,panOnScrollMode:dr,panOnDrag:fr,onPaneClick:Rn,onPaneMouseEnter:hr,onPaneMouseMove:an,onPaneMouseLeave:ln,onPaneScroll:No,onPaneContextMenu:Wr,paneClickDistance:Qr,nodeClickDistance:Yr,onSelectionContextMenu:F,onSelectionStart:I,onSelectionEnd:B,onReconnect:In,onReconnectStart:ko,onReconnectEnd:Kn,onEdgeContextMenu:j,onEdgeDoubleClick:K,onEdgeMouseEnter:te,onEdgeMouseMove:ie,onEdgeMouseLeave:me,reconnectRadius:ke,defaultMarkerColor:sn,noDragClassName:Ee,noWheelClassName:ve,noPanClassName:xe,rfId:Xr,disableKeyboardA11y:It,nodeExtent:on,viewport:Ue,onViewportChange:Ln}),k.jsx(ik,{nodes:e,edges:r,defaultNodes:o,defaultEdges:s,onConnect:x,onConnectStart:N,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:mt,autoPanOnNodeFocus:Ut,nodesConnectable:Wt,nodesFocusable:Qt,edgesFocusable:yn,edgesReconnectable:On,elementsSelectable:Ot,elevateNodesOnSelect:vn,elevateEdgesOnSelect:Xn,minZoom:rn,maxZoom:Kt,nodeExtent:on,onNodesChange:Pe,onEdgesChange:we,snapToGrid:Te,snapGrid:be,connectionMode:b,translateExtent:Nt,connectOnClick:ct,defaultEdgeOptions:Je,fitView:Ie,fitViewOptions:je,onNodesDelete:ne,onEdgesDelete:re,onDelete:L,onNodeDragStart:M,onNodeDrag:z,onNodeDragStop:G,onSelectionDrag:U,onSelectionDragStart:O,onSelectionDragStop:H,onMove:m,onMoveStart:v,onMoveEnd:y,noPanClassName:xe,nodeOrigin:Pt,rfId:Xr,autoPanOnConnect:Be,autoPanOnNodeDrag:Kr,autoPanSpeed:xn,onError:pr,connectionRadius:un,isValidConnection:wn,selectNodesOnDrag:Xe,nodeDragThreshold:gt,connectionDragThreshold:Gn,onBeforeDelete:Y,paneClickDistance:Qr,debug:bo,ariaLabelConfig:Do}),k.jsx(tk,{onSelectionChange:q}),Yn,k.jsx(GN,{proOptions:$e,position:Ke}),k.jsx(XN,{rfId:Xr,disableKeyboardA11y:It})]})})}var M2=cy(_2);function b2(e){const[r,o]=P.useState(e),s=P.useCallback(a=>o(l=>uy(a,l)),[]);return[r,o,s]}function D2({dimensions:e,lineWidth:r,variant:o,className:s}){return k.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:pt(["react-flow__background-pattern",o,s])})}function T2({radius:e,className:r}){return k.jsx("circle",{cx:e,cy:e,r:e,className:pt(["react-flow__background-pattern","dots",r])})}var lr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(lr||(lr={}));const P2={[lr.Dots]:1,[lr.Lines]:1,[lr.Cross]:6},O2=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ly({id:e,variant:r=lr.Dots,gap:o=20,size:s,lineWidth:a=1,offset:l=0,color:c,bgColor:d,style:h,className:p,patternClassName:m}){const v=P.useRef(null),{transform:y,patternId:x}=We(O2,lt),N=s||P2[r],w=r===lr.Dots,S=r===lr.Cross,_=Array.isArray(o)?o:[o,o],T=[_[0]*y[2]||1,_[1]*y[2]||1],C=N*y[2],D=Array.isArray(l)?l:[l,l],A=S?[C,C]:T,V=[D[0]*y[2]||1+A[0]/2,D[1]*y[2]||1+A[1]/2],M=`${x}${e||""}`;return k.jsxs("svg",{className:pt(["react-flow__background",p]),style:{...h,...El,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:v,"data-testid":"rf__background",children:[k.jsx("pattern",{id:M,x:y[0]%T[0],y:y[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:w?k.jsx(T2,{radius:C/2,className:m}):k.jsx(D2,{dimensions:A,lineWidth:a,variant:r,className:m})}),k.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}Ly.displayName="Background";const R2=P.memo(Ly);function I2(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:k.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function L2(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:k.jsx("path",{d:"M0 0h32v4.2H0z"})})}function A2(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:k.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function j2(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function F2(){return k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:k.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function za({children:e,className:r,...o}){return k.jsx("button",{type:"button",className:pt(["react-flow__controls-button",r]),...o,children:e})}const z2=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Ay({style:e,showZoom:r=!0,showFitView:o=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:c,onFitView:d,onInteractiveChange:h,className:p,children:m,position:v="bottom-left",orientation:y="vertical","aria-label":x}){const N=it(),{isInteractive:w,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:T}=We(z2,lt),{zoomIn:C,zoomOut:D,fitView:A}=yd(),V=()=>{C(),l?.()},M=()=>{D(),c?.()},z=()=>{A(a),d?.()},G=()=>{N.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),h?.(!w)},ne=y==="horizontal"?"horizontal":"vertical";return k.jsxs(Sl,{className:pt(["react-flow__controls",ne,p]),position:v,style:e,"data-testid":"rf__controls","aria-label":x??T["controls.ariaLabel"],children:[r&&k.jsxs(k.Fragment,{children:[k.jsx(za,{onClick:V,className:"react-flow__controls-zoomin",title:T["controls.zoomIn.ariaLabel"],"aria-label":T["controls.zoomIn.ariaLabel"],disabled:_,children:k.jsx(I2,{})}),k.jsx(za,{onClick:M,className:"react-flow__controls-zoomout",title:T["controls.zoomOut.ariaLabel"],"aria-label":T["controls.zoomOut.ariaLabel"],disabled:S,children:k.jsx(L2,{})})]}),o&&k.jsx(za,{className:"react-flow__controls-fitview",onClick:z,title:T["controls.fitView.ariaLabel"],"aria-label":T["controls.fitView.ariaLabel"],children:k.jsx(A2,{})}),s&&k.jsx(za,{className:"react-flow__controls-interactive",onClick:G,title:T["controls.interactive.ariaLabel"],"aria-label":T["controls.interactive.ariaLabel"],children:w?k.jsx(F2,{}):k.jsx(j2,{})}),m]})}Ay.displayName="Controls";const $2=P.memo(Ay);function V2({id:e,x:r,y:o,width:s,height:a,style:l,color:c,strokeColor:d,strokeWidth:h,className:p,borderRadius:m,shapeRendering:v,selected:y,onClick:x}){const{background:N,backgroundColor:w}=l||{},S=c||N||w;return k.jsx("rect",{className:pt(["react-flow__minimap-node",{selected:y},p]),x:r,y:o,rx:m,ry:m,width:s,height:a,style:{fill:S,stroke:d,strokeWidth:h},shapeRendering:v,onClick:x?_=>x(_,e):void 0})}const H2=P.memo(V2),B2=e=>e.nodes.map(r=>r.id),Mc=e=>e instanceof Function?e:()=>e;function U2({nodeStrokeColor:e,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:l=H2,onClick:c}){const d=We(B2,lt),h=Mc(r),p=Mc(e),m=Mc(o),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return k.jsx(k.Fragment,{children:d.map(y=>k.jsx(Q2,{id:y,nodeColorFunc:h,nodeStrokeColorFunc:p,nodeClassNameFunc:m,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:l,onClick:c,shapeRendering:v},y))})}function W2({id:e,nodeColorFunc:r,nodeStrokeColorFunc:o,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:l,shapeRendering:c,NodeComponent:d,onClick:h}){const{node:p,x:m,y:v,width:y,height:x}=We(N=>{const{internals:w}=N.nodeLookup.get(e),S=w.userNode,{x:_,y:T}=w.positionAbsolute,{width:C,height:D}=cr(S);return{node:S,x:_,y:T,width:C,height:D}},lt);return!p||p.hidden||!zg(p)?null:k.jsx(d,{x:m,y:v,width:y,height:x,style:p.style,selected:!!p.selected,className:s(p),color:r(p),borderRadius:a,strokeColor:o(p),strokeWidth:l,shapeRendering:c,onClick:h,id:p.id})}const Q2=P.memo(W2);var Y2=P.memo(U2);const K2=200,X2=150,G2=e=>!e.hidden,Z2=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?Fg(Ns(e.nodeLookup,{filter:G2}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},q2="react-flow__minimap-desc";function jy({style:e,className:r,nodeStrokeColor:o,nodeColor:s,nodeClassName:a="",nodeBorderRadius:l=5,nodeStrokeWidth:c,nodeComponent:d,bgColor:h,maskColor:p,maskStrokeColor:m,maskStrokeWidth:v,position:y="bottom-right",onClick:x,onNodeClick:N,pannable:w=!1,zoomable:S=!1,ariaLabel:_,inversePan:T,zoomStep:C=1,offsetScale:D=5}){const A=it(),V=P.useRef(null),{boundingRect:M,viewBB:z,rfId:G,panZoom:ne,translateExtent:re,flowWidth:L,flowHeight:q,ariaLabelConfig:O}=We(Z2,lt),U=e?.width??K2,H=e?.height??X2,F=M.width/U,I=M.height/H,B=Math.max(F,I),Y=B*U,b=B*H,Q=D*B,se=M.x-(Y-M.width)/2-Q,oe=M.y-(b-M.height)/2-Q,ue=Y+Q*2,pe=b+Q*2,de=`${q2}-${G}`,X=P.useRef(0),fe=P.useRef();X.current=B,P.useEffect(()=>{if(V.current&&ne)return fe.current=EN({domNode:V.current,panZoom:ne,getTransform:()=>A.getState().transform,getViewScale:()=>X.current}),()=>{fe.current?.destroy()}},[ne]),P.useEffect(()=>{fe.current?.update({translateExtent:re,width:L,height:q,inversePan:T,pannable:w,zoomStep:C,zoomable:S})},[w,S,T,C,re,L,q]);const _e=x?Te=>{const[be,He]=fe.current?.pointer(Te)||[0,0];x(Te,{x:be,y:He})}:void 0,Ae=N?P.useCallback((Te,be)=>{const He=A.getState().nodeLookup.get(be).internals.userNode;N(Te,He)},[]):void 0,ge=_??O["minimap.ariaLabel"];return k.jsx(Sl,{position:y,style:{...e,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof v=="number"?v*B:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:pt(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:k.jsxs("svg",{width:U,height:H,viewBox:`${se} ${oe} ${ue} ${pe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:V,onClick:_e,children:[ge&&k.jsx("title",{id:de,children:ge}),k.jsx(Y2,{onClick:Ae,nodeColor:s,nodeStrokeColor:o,nodeBorderRadius:l,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:d}),k.jsx("path",{className:"react-flow__minimap-mask",d:`M${se-Q},${oe-Q}h${ue+Q*2}v${pe+Q*2}h${-ue-Q*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}jy.displayName="MiniMap";P.memo(jy);const J2=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,e_={[di.Line]:"right",[di.Handle]:"bottom-right"};function t_({nodeId:e,position:r,variant:o=di.Handle,className:s,style:a=void 0,children:l,color:c,minWidth:d=10,minHeight:h=10,maxWidth:p=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:v=!1,resizeDirection:y,autoScale:x=!0,shouldResize:N,onResizeStart:w,onResize:S,onResizeEnd:_}){const T=py(),C=typeof e=="string"?e:T,D=it(),A=P.useRef(null),V=o===di.Handle,M=We(P.useCallback(J2(V&&x),[V,x]),lt),z=P.useRef(null),G=r??e_[o];P.useEffect(()=>{if(!(!A.current||!C))return z.current||(z.current=FN({domNode:A.current,nodeId:C,getStoreItems:()=>{const{nodeLookup:re,transform:L,snapGrid:q,snapToGrid:O,nodeOrigin:U,domNode:H}=D.getState();return{nodeLookup:re,transform:L,snapGrid:q,snapToGrid:O,nodeOrigin:U,paneDomNode:H}},onChange:(re,L)=>{const{triggerNodeChanges:q,nodeLookup:O,parentLookup:U,nodeOrigin:H}=D.getState(),F=[],I={x:re.x,y:re.y},B=O.get(C);if(B&&B.expandParent&&B.parentId){const Y=B.origin??H,b=re.width??B.measured.width??0,Q=re.height??B.measured.height??0,se={id:B.id,parentId:B.parentId,rect:{width:b,height:Q,...$g({x:re.x??B.position.x,y:re.y??B.position.y},{width:b,height:Q},B.parentId,O,Y)}},oe=gd([se],O,U,H);F.push(...oe),I.x=re.x?Math.max(Y[0]*b,re.x):void 0,I.y=re.y?Math.max(Y[1]*Q,re.y):void 0}if(I.x!==void 0&&I.y!==void 0){const Y={id:C,type:"position",position:{...I}};F.push(Y)}if(re.width!==void 0&&re.height!==void 0){const b={id:C,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:re.width,height:re.height}};F.push(b)}for(const Y of L){const b={...Y,type:"position"};F.push(b)}q(F)},onEnd:({width:re,height:L})=>{const q={id:C,type:"dimensions",resizing:!1,dimensions:{width:re,height:L}};D.getState().triggerNodeChanges([q])}})),z.current.update({controlPosition:G,boundaries:{minWidth:d,minHeight:h,maxWidth:p,maxHeight:m},keepAspectRatio:v,resizeDirection:y,onResizeStart:w,onResize:S,onResizeEnd:_,shouldResize:N}),()=>{z.current?.destroy()}},[G,d,h,p,m,v,w,S,_,N]);const ne=G.split("-");return k.jsx("div",{className:pt(["react-flow__resize-control","nodrag",...ne,o,s]),ref:A,style:{...a,scale:M,...c&&{[V?"backgroundColor":"borderColor"]:c}},children:l})}P.memo(t_);const Bn={NODE_DIMENSIONS:{width:260,height:180},CANVAS:{defaultHeight:400,minZoom:.4,maxZoom:1.75},ANIMATION_DURATIONS:{ripple:1300,ringOut:1500,downgrade:1500,scaleIn:700,pop:1100,pulseSlow:1600},COLORS:{status:{pending:"#f59e0b",partial:"#3b82f6",complete:"#10b981",error:"#ef4444"},node:{source:"#3b82f6",destination:"#10b981"},edge:{transformToDestination:"#be185d"}}},n_={light:8,medium:20,heavy:50};new Date().toISOString().split("T")[0];function xd(e){return Bn.COLORS.status[e]}function $a(e,r,o,s){if(e==="transform")return r==="Map & Validate"||Object.keys(s||{}).length>0?"complete":"pending";const a=o.filter(l=>!!(s||{})[l]);return a.length===0?"pending":a.length<o.length?"partial":"complete"}function Fy({status:e}){const r=xd(e),o=P.useRef(null),[s,a]=P.useState("");return P.useEffect(()=>{const l=o.current,{ANIMATION_DURATIONS:c}=Bn;let d="";e==="pending"&&(d=`pulseSlow ${c.pulseSlow}ms ease-in-out infinite`),e==="partial"&&(d=l==="complete"?`downgrade ${c.downgrade}ms ease-out forwards`:`scaleIn ${c.scaleIn}ms ease-out`),e==="complete"&&(d=`pop ${c.pop}ms cubic-bezier(0.2,0.8,0.2,1)`),a(d),o.current=e},[e]),k.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border px-2 py-0.5 text-[11px] transition-colors duration-300 w-20",style:{borderColor:r,color:r},children:[k.jsxs("span",{className:"relative grid place-items-center h-2.5 w-2.5 rounded-full",style:{backgroundColor:r,animation:s},children:[e==="complete"?k.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ripple ${Bn.ANIMATION_DURATIONS.ripple}ms ease-out`}}):null,e==="partial"&&o.current==="complete"?k.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ringOut ${Bn.ANIMATION_DURATIONS.ringOut}ms ease-out`}}):null]}),e,k.jsx("style",{children:`
        @keyframes scaleIn{0%{transform:scale(0.94)}100%{transform:scale(1)}}
        @keyframes pop{0%{transform:scale(0.85)}60%{transform:scale(1.06)}100%{transform:scale(1)}}
        @keyframes pulseSlow{0%,100%{opacity:0.65}50%{opacity:1}}
        @keyframes ripple{0%{box-shadow:0 0 0 0 ${r}55}100%{box-shadow:0 0 0 10px ${r}00}}
        @keyframes ringOut{0%{box-shadow:0 0 0 10px ${r}33;opacity:1}100%{box-shadow:0 0 0 18px ${r}00;opacity:0}}
        @keyframes downgrade{0%{transform:scale(1);box-shadow:0 0 0 0 ${r}00}30%{transform:scale(0.95);box-shadow:0 0 0 8px ${r}22}70%{transform:scale(0.98);box-shadow:0 0 0 4px ${r}11}100%{transform:scale(1);box-shadow:0 0 0 0 ${r}00}}
        `})]})}function r_(e){return e==="source"?Bn.COLORS.node.source:Bn.COLORS.node.destination}function zy({instance:e,nodeId:r,onEditValue:o}){const{role:s,spec:a,values:l,status:c}=e,[d,h]=P.useState({}),[p,m]=P.useState({}),[v,y]=P.useState({}),[x,N]=P.useState(!0),[w,S]=P.useState(""),_=P.useRef(null),[T,C]=P.useState(12),[D,A]=P.useState(12),[V,M]=P.useState(0);P.useEffect(()=>{const L=_.current;if(!L)return;const q=()=>M(L.scrollHeight);q();const O=window.ResizeObserver,U=O?new O(()=>q()):void 0;return U&&U.observe(L),()=>U&&U.disconnect()},[]);const z=s==="source"?"bg-node-source text-white":"bg-node-destination text-white",G={borderColor:xd(c||"pending")},ne=r_(s),re={backgroundColor:ne+"14"};return k.jsxs("div",{className:"relative rounded-xl border bg-white shadow-sm w-56",style:G,children:[k.jsx("div",{className:`px-3 py-1 text-xs font-semibold rounded-t-xl ${z}`,children:s.toUpperCase()}),k.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:ne}}),k.jsxs("div",{className:"p-3",style:re,children:[k.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[k.jsx("span",{children:a.name}),k.jsx("span",{className:"ml-auto"}),c?k.jsx(Fy,{status:c}):null]}),k.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["Category: ",a.category]}),k.jsxs("div",{className:"mt-2 text-xs",children:[k.jsxs("button",{type:"button","aria-expanded":x,className:"w-full flex items-center justify-between text-left font-medium text-slate-700 select-none active:scale-[0.98] transition-transform",onClick:()=>{if("vibrate"in navigator)try{navigator.vibrate?.(n_.light)}catch{}N(L=>!L)},children:[k.jsx("span",{children:"Credentials"}),k.jsx("span",{className:`text-slate-400 text-xl leading-none transition-transform duration-200 ripple-ink ${x?"":"rotate-90"}`,onMouseMove:L=>{const q=L.currentTarget.getBoundingClientRect();C(L.clientX-q.left),A(L.clientY-q.top)},style:{"--rx":T+"px","--ry":D+"px"},children:k.jsx("span",{className:"ink-symbol",children:x?"−":"+"})})]}),k.jsx("div",{ref:_,className:"overflow-hidden transition-[max-height] duration-300 ease-in-out",style:{maxHeight:x?V:0},children:k.jsxs("div",{className:"mt-1",children:[k.jsx("div",{className:"text-[11px] text-slate-500",children:"Mandatory"}),a.credentials.mandatory.map(L=>{const q=l?.[L],O=typeof q=="string"?q:q??"",U=Mp(L,O),H=!O,F=e.status==="pending";return k.jsxs("div",{className:`mt-1 text-[12px] ${H&&F?"text-red-600":"text-slate-700"}`,children:[k.jsx("div",{className:"font-medium",children:L}),H||d[L]?k.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:H&&F?"#ef4444":"#cbd5e1"},type:L.toLowerCase().includes("password")?"password":"text",value:p[L]??(typeof q=="string"?q:q??""),onChange:I=>m(B=>({...B,[L]:I.target.value})),onBlur:()=>{const I=p[L]??(typeof q=="string"?q:q??""),B=Rc(L,I);if(B.isValid){const Y=gn(I);r&&o?.(r,L,Y),y(b=>({...b,[L]:""})),S(`${L} field updated successfully`)}else y(Y=>({...Y,[L]:B.error||"Invalid input"})),S(`${L} field validation failed: ${B.error}`);setTimeout(()=>S(""),2e3),h(Y=>({...Y,[L]:!1})),m(Y=>({...Y,[L]:void 0}))},onKeyDown:I=>{if(I.key==="Enter"){const B=p[L]??(typeof q=="string"?q:q??""),Y=Rc(L,B);if(Y.isValid){const b=gn(B);r&&o?.(r,L,b),y(Q=>({...Q,[L]:""}))}else y(b=>({...b,[L]:Y.error||"Invalid input"}));h(b=>({...b,[L]:!1})),m(b=>({...b,[L]:void 0}))}},autoFocus:d[L]===!0,"aria-label":`Enter ${L} for ${s} connector`,"aria-required":H&&F,"aria-invalid":H&&F}):k.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] text-slate-800 cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>h(I=>({...I,[L]:!0})),onKeyDown:I=>I.key==="Enter"&&h(B=>({...B,[L]:!0})),title:typeof O=="string"?O:"",tabIndex:0,role:"button","aria-label":`Edit ${L} field. Current value: ${U||"empty"}`,children:U}),v[L]&&k.jsx("div",{className:"mt-1 text-[10px] text-red-600",role:"alert",children:v[L]})]},L)}),a.credentials.optional?.length?k.jsxs("div",{className:"mt-2",children:[k.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional"}),a.credentials.optional?.map(L=>{const q=l?.[L],O=typeof q=="string"?q:q??"",U=Mp(L,O);return k.jsxs("div",{className:"mt-1 text-[12px] text-slate-700",children:[k.jsx("div",{className:"font-medium",children:L}),d[L]??!0?k.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},type:L.toLowerCase().includes("password")?"password":"text",value:p[L]??(typeof q=="string"?q:q??""),onChange:H=>m(F=>({...F,[L]:H.target.value})),onBlur:()=>{const H=p[L]??(typeof q=="string"?q:q??"");(H.trim()!==""||a.credentials.mandatory.includes(L))&&r&&o?.(r,L,H),h(F=>({...F,[L]:!1})),m(F=>({...F,[L]:void 0}))},onKeyDown:H=>{if(H.key==="Enter"){const F=p[L]??(typeof q=="string"?q:q??"");(F.trim()!==""||a.credentials.mandatory.includes(L))&&r&&o?.(r,L,F),h(I=>({...I,[L]:!1})),m(I=>({...I,[L]:void 0}))}},autoFocus:!0}):k.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>h(H=>({...H,[L]:!0})),onKeyDown:H=>H.key==="Enter"&&h(F=>({...F,[L]:!0})),title:O||"",tabIndex:0,role:"button","aria-label":`Edit ${L} field. Current value: ${U||"empty"}`,children:O?k.jsx("span",{className:"text-slate-800",children:U}):k.jsx("span",{className:"text-slate-400 italic",children:a.credentials.mandatory.includes(L)?"Required":"Optional - click to add"})})]},L)})]}):null]})})]})]}),k.jsx("style",{children:`
        .ripple-ink{position:relative;display:inline-grid;place-items:center;width:28px;height:28px;border-radius:9999px}
        .ripple-ink .ink-symbol{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);line-height:1}
        /* soft filled circular background */
        .ripple-ink::before{content:"";position:absolute;inset:0;border-radius:inherit;background:currentColor;opacity:.08;transform:scale(.98);transition:opacity 220ms ease,transform 220ms ease}
        /* concentric ring at the edge */
        .ripple-ink::after{content:"";position:absolute;inset:-2px;border-radius:inherit;border:2px solid currentColor;opacity:0;transform:scale(.9)}
        .ripple-ink:hover::before{opacity:.14;transform:scale(1.06)}
        .ripple-ink:hover::after{opacity:.35;animation:ringPulse 1200ms ease-in-out infinite}
        .ripple-ink:active::after{opacity:.45}
        @keyframes ringPulse{0%{transform:scale(.92)}50%{transform:scale(1.08)}100%{transform:scale(.92)}}
        `}),k.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:w})]})}const o_=P.memo(function({id:r,data:o}){const s=o;return k.jsxs("div",{className:"select-none relative",children:[k.jsx(Vr,{type:"source",position:De.Right,style:{width:12,height:12,background:"#1e40af",border:"2px solid #1e3a8a",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),k.jsx(zy,{instance:{role:"source",spec:s.spec,values:s.values,status:s.status},nodeId:r,onEditValue:(a,l,c)=>s.onEdit?.(a,l,c)})]})});function i_(e){switch(e){case"pending":return"#f59e0b";case"partial":return"#3b82f6";case"complete":return"#10b981";case"error":return"#ef4444"}}function s_({name:e,status:r,nodeId:o,values:s,onAdd:a}){const[l,c]=P.useState(""),[d,h]=P.useState(!0),p=Object.keys(s||{});return k.jsxs("div",{className:"relative rounded-xl bg-white shadow-sm w-56",style:{border:`1px dashed ${i_(r)}`},children:[k.jsx("div",{className:"px-3 py-1 text-xs font-semibold rounded-t-xl bg-node-transform text-white",children:"TRANSFORM"}),k.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:"#8b5cf6"}}),k.jsxs("div",{className:"p-3",children:[k.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[k.jsx("span",{children:e}),k.jsx(Fy,{status:r})]}),k.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:"Category: Transform"}),k.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"Configure transform parameters"}),e!=="Map & Validate"?k.jsxs(k.Fragment,{children:[k.jsxs("button",{type:"button",className:"mt-2 w-full min-h-[44px] flex items-center justify-between text-left text-xs font-medium text-slate-700 px-2 py-2 rounded hover:bg-slate-50 transition-colors",onClick:()=>h(m=>!m),"aria-expanded":d,"aria-controls":"transform-extras","aria-label":`${d?"Collapse":"Expand"} transform extras section`,children:[k.jsx("span",{children:"Extras"}),k.jsx("span",{className:"text-slate-400 min-w-[24px] min-h-[24px] flex items-center justify-center","aria-hidden":"true",children:d?"−":"+"})]}),d?k.jsxs("div",{id:"transform-extras",className:"mt-1",children:[p.length?k.jsx("div",{className:"text-[12px] text-slate-700",role:"list","aria-label":"Current extra fields",children:p.map(m=>k.jsx("div",{className:"mt-1",role:"listitem",children:m},m))}):null,k.jsx("input",{className:"mt-2 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},placeholder:"Add field name and press Enter",value:l,onChange:m=>c(m.target.value),onKeyDown:m=>{m.key==="Enter"&&l.trim()&&(o&&a?.(o,l.trim()),c(""))},"aria-label":"Add new transform field","aria-describedby":"field-help"}),k.jsx("div",{id:"field-help",className:"sr-only",children:"Enter a field name and press Enter to add it to the transform configuration"})]}):null]}):null]})]})}const a_=P.memo(function({id:r,data:o}){const s=o;return k.jsxs("div",{className:"select-none relative",children:[k.jsx(Vr,{type:"target",position:De.Left,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),k.jsx(s_,{name:s.name,status:s.status,nodeId:r,values:s.values,onAdd:(a,l)=>s.onAdd?.(a,l)}),k.jsx(Vr,{type:"source",position:De.Right,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),l_=P.memo(function({id:r,data:o}){const s=o;return k.jsxs("div",{className:"select-none relative",children:[k.jsx(zy,{instance:{role:"destination",spec:s.spec,values:s.values,status:s.status},nodeId:r,onEditValue:(a,l,c)=>s.onEdit?.(a,l,c)}),k.jsx(Vr,{type:"target",position:De.Left,style:{width:12,height:12,background:"#065f46",border:"2px solid #064e3b",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),u_=P.memo(function({id:r,sourceX:o,sourceY:s,targetX:a,targetY:l,sourcePosition:c,targetPosition:d,data:h,markerEnd:p}){const[m]=fd({sourceX:o,sourceY:s,targetX:a,targetY:l,sourcePosition:c,targetPosition:d}),v=h,y=v?.status||"partial",x=v?.kind==="tx-dst"?Bn.COLORS.edge.transformToDestination:xd(y);return k.jsx("g",{children:k.jsx("path",{id:r,className:"react-flow__edge-path",d:m,stroke:x,strokeWidth:4,fill:"none",markerEnd:p})})}),c_=P.createContext(null),bc={didCatch:!1,error:null};let d_=class extends P.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=bc}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var o,s,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{args:l,reason:"imperative-api"}),this.setState(bc)}}componentDidCatch(r,o){var s,a;(s=(a=this.props).onError)===null||s===void 0||s.call(a,r,o)}componentDidUpdate(r,o){const{didCatch:s}=this.state,{resetKeys:a}=this.props;if(s&&o.error!==null&&f_(r.resetKeys,a)){var l,c;(l=(c=this.props).onReset)===null||l===void 0||l.call(c,{next:a,prev:r.resetKeys,reason:"keys"}),this.setState(bc)}}render(){const{children:r,fallbackRender:o,FallbackComponent:s,fallback:a}=this.props,{didCatch:l,error:c}=this.state;let d=r;if(l){const h={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof o=="function")d=o(h);else if(s)d=P.createElement(s,h);else if(a!==void 0)d=a;else throw c}return P.createElement(c_.Provider,{value:{didCatch:l,error:c,resetErrorBoundary:this.resetErrorBoundary}},d)}};function f_(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==r.length||e.some((o,s)=>!Object.is(o,r[s]))}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$y=(...e)=>e.filter((r,o,s)=>!!r&&s.indexOf(r)===o).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=P.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,...p_,width:r,height:r,stroke:e,strokeWidth:s?Number(o)*24/Number(r):o,className:$y("lucide",a),...d},[...c.map(([p,m])=>P.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=(e,r)=>{const o=P.forwardRef(({className:s,...a},l)=>P.createElement(m_,{ref:l,iconNode:r,className:$y(`lucide-${h_(e)}`,s),...a}));return o.displayName=`${e}`,o};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Qn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Qn("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Qn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Qn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Qn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Qn("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Qn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Qn("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Qn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Qn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function k_({error:e,resetErrorBoundary:r}){return k.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6 bg-red-50 border border-red-200 rounded-xl",children:[k.jsx(C_,{className:"w-12 h-12 text-red-500 mb-4"}),k.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),k.jsx("p",{className:"text-sm text-red-600 text-center mb-4",children:"The flow canvas encountered an error. Please try refreshing the page."}),k.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"}),!1]})}function __({children:e,fallback:r}){return k.jsx(d_,{FallbackComponent:r?()=>k.jsx(k.Fragment,{children:r}):k_,onError:(o,s)=>{console.error("Flow Canvas Error:",o,s)},children:e})}function M_(e,r,o){if(o)return e;const{NODE_DIMENSIONS:s,CANVAS:a}=Bn,{width:l,height:c}=s,d=a.defaultHeight-c-80,h=40,p=Math.max(40,r*.05),m=r-h-p,v=h,y=60,x=Math.min(100,m*.08),N=Math.max(y,x),w=3*l+2*N,S=h+w+p;let _,T;if(S>r){const z=(r-h-p-3*l)/2,G=Math.max(30,z);_=v+l+G,T=_+l+G}else _=v+l+N,T=_+l+N;const C=Math.min(20,d),D=C,A=C,V=C;return e.map(z=>z.type==="source"?{...z,position:{x:v,y:D}}:z.type==="transform"?{...z,position:{x:_,y:A}}:z.type==="destination"?{...z,position:{x:T,y:V}}:z)}const b_={source:o_,transform:a_,destination:l_},D_={statusBezier:u_};function T_({initial:e,links:r,onNodeValuesChange:o}){const[s,a,l]=b2([]),[c,d]=P.useState(!1),h=P.useRef(null),p=P.useCallback(w=>{if(!o)return;const S={};w.forEach(_=>{if(_.type==="source"||_.type==="destination"){const T=_.data;S[_.type]=T.values||{}}else if(_.type==="transform"){const T=_.data;S.transform=T.values||{}}}),o(S)},[o]);P.useEffect(()=>{const w=e.map(S=>{let _=40,T=50;return S.role==="source"?(_=40,T=50):S.role==="transform"?(_=400,T=50):S.role==="destination"&&(_=760,T=50),{id:S.id,type:S.role,position:{x:_,y:T},zIndex:S.role==="transform"?10:S.role==="source"?5:1,data:S.role==="transform"?{name:S.spec.name,values:S.values,status:$a("transform",S.spec.name,[],S.values),onAdd:(C,D)=>{a(A=>{const V=A.map(M=>{if(M.id!==C||M.type!=="transform")return M;const z=M.data,G={...z.values||{},[D]:"1"};return{...M,data:{...z,values:G,status:$a("transform",z.name,[],G)}}});return setTimeout(()=>p(V),0),V})}}:{spec:S.spec,values:S.values,status:$a(S.role,void 0,S.spec.credentials?.mandatory||[],S.values),onEdit:(C,D,A)=>{a(V=>{const M=V.map(z=>{if(z.id!==C||z.type!=="source"&&z.type!=="destination")return z;const G=z.data,ne={...G.values||{},[D]:A},re=G.spec.credentials?.mandatory||[],L=$a(z.type,void 0,re,ne);return{...z,data:{...G,values:ne,status:L}}});return setTimeout(()=>p(M),0),M})}}}});a(w)},[e,a,p]);const m=P.useCallback(()=>{const w=h.current;if(!w){console.log("⚠️ Layout called but host ref is null");return}const S=w.getBoundingClientRect().width;a(_=>M_(_,S,c))},[c,a]),v=P.useMemo(()=>{const w=new Map;return e.forEach(S=>w.set(S.id,S.role)),w},[e]),y=P.useMemo(()=>r.map((w,S)=>{const _=v.get(w.fromId)==="transform"&&v.get(w.toId)==="destination"?"tx-dst":void 0;return{id:`e-${S}`,source:w.fromId,target:w.toId,type:"statusBezier",data:{status:w.status,kind:_}}}),[r,v]);P.useEffect(()=>{setTimeout(()=>m(),300);const w=()=>setTimeout(()=>m(),100);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[m]);const x=P.useCallback(()=>d(!0),[]),N=P.useMemo(()=>({hideAttribution:!0}),[]);return k.jsx("div",{ref:h,className:"relative rounded-xl bg-slate-50 border h-full w-full","data-testid":"flow-canvas",children:k.jsxs(M2,{nodes:s,edges:y,onNodesChange:l,nodeTypes:b_,edgeTypes:D_,onNodeDragStart:x,proOptions:N,nodesConnectable:!0,nodesDraggable:!0,panOnScroll:!0,zoomOnScroll:!0,minZoom:Bn.CANVAS.minZoom,maxZoom:Bn.CANVAS.maxZoom,defaultViewport:{x:0,y:0,zoom:1},translateExtent:[[-100,-200],[1400,800]],nodeExtent:[[0,0],[1200,1e3]],onViewportChange:()=>{},style:{width:"100%",height:"100%"},children:[k.jsx(R2,{variant:lr.Dots,gap:16,size:1}),k.jsx($2,{position:"bottom-left",showInteractive:!1})]})})}function P_({nodes:e,links:r,onNodeValuesChange:o}){const s={initial:e||[],links:r||[],onNodeValuesChange:o};return k.jsx(__,{children:k.jsx(Iy,{children:k.jsx(T_,{...s})})})}function O_({onSourceChange:e,onDestinationChange:r,onTransformChange:o,onNodeValuesChange:s,showControls:a=!0,showJsonPanel:l=!0,title:c="⚡ Live Configuration Preview",className:d=""}){const[h,p]=P.useState([]),[m,v]=P.useState(""),[y,x]=P.useState(""),N=P.useRef(null),w=P.useRef(null),S=P.useRef(null),_=P.useRef(null),T=P.useRef(null),{selectedSource:C,selectedDestination:D,selectedTransform:A,nodeValues:V,setSelectedSource:M,setSelectedDestination:z,setSelectedTransform:G,updateNodeValues:ne,updateTransformValuesByType:re,getTransformValuesByType:L,loadFlowConfiguration:q,resetToDefaultConfiguration:O,getFlowConfigurationJSON:U}=fo(),H=P.useCallback(X=>{v(X),setTimeout(()=>v(""),1e3)},[]),F=P.useCallback(X=>{x(X),setTimeout(()=>x(""),1e3)},[]),I=X=>{M(X),e?.(X),H(`Source connector changed to ${X}`)},B=X=>{z(X),r?.(X),H(`Destination connector changed to ${X}`)},Y=X=>{G(X),o?.(X),H(`Transform type changed to ${X}`)},b=X=>{(X.source||X.destination)&&ne({source:X.source,destination:X.destination}),X.transform&&(re(A,X.transform),ne({transform:X.transform})),s?.(X)},Q=["Dummy Source",...Object.keys(Ht).filter(X=>Ht[X].roles?.source)],se=["Dummy Destination",...Object.keys(Ht).filter(X=>Ht[X].roles?.destination)],oe=["Dummy Transform","Map & Validate","Cleanse","Enrich & Map"],ue=P.useCallback(()=>{const X=()=>({name:"Dummy Source",category:"Data Source",roles:{source:!0,destination:!1},credentials:{mandatory:["username","password"],optional:[]}}),fe=()=>({name:"Dummy Destination",category:"Data Destination",roles:{source:!1,destination:!0},credentials:{mandatory:["apiKey","serverPrefix"],optional:[]}}),_e=()=>({name:"Dummy Transform",category:"Transform",credentials:{mandatory:[],optional:[]}}),Ae=Ht[C]||X(),ge=Ht[D]||fe(),Te=A==="Dummy Transform"?_e():{name:A,category:"Transform",credentials:{mandatory:[],optional:[]}},be=`source-${C.replace(/\s+/g,"-")}`,He=`transform-${A.replace(/\s+/g,"-")}`,Xe=`destination-${D.replace(/\s+/g,"-")}`,mt=V.source||{},Ut=V.destination||{},Wt=L(A);return{nodes:[{id:be,role:"source",spec:Ae,values:mt},{id:He,role:"transform",spec:Te,values:Wt},{id:Xe,role:"destination",spec:ge,values:Ut}],edges:[{fromId:be,toId:He,status:"pending"},{fromId:He,toId:Xe,status:"pending"}]}},[C,D,A,V,L]),pe=P.useMemo(()=>ue(),[ue]),de=P.useCallback(X=>{if(!(X.target instanceof HTMLInputElement||X.target instanceof HTMLTextAreaElement||X.target instanceof HTMLSelectElement))switch(X.key){case"1":X.preventDefault(),w.current?.focus();break;case"2":X.preventDefault(),S.current?.focus();break;case"3":X.preventDefault(),_.current?.focus();break;case"j":case"J":X.preventDefault(),T.current?.focus();break;case"Escape":X.preventDefault(),N.current?.focus();break;case"?":X.preventDefault(),alert(`Keyboard Shortcuts:
1 - Focus Source
2 - Focus Transform
3 - Focus Destination
J - Focus JSON
Esc - Focus Canvas
Tab - Navigate elements
? - Show this help`);break}},[]);return P.useEffect(()=>(document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)),[de]),k.jsxs("div",{ref:N,className:`flex flex-col h-full ${d}`,tabIndex:0,role:"application","aria-label":"Data flow configuration canvas","aria-describedby":"keyboard-help",children:[a&&k.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:"🎛️ Configure Your Data Flow"}),k.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"source-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Source Connector"}),k.jsx("select",{ref:w,id:"source-selector",value:C,onChange:X=>I(X.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400","aria-label":"Select source connector for data flow","aria-describedby":"source-help",children:Q.map(X=>k.jsx("option",{value:X,children:X},X))}),k.jsx("div",{id:"source-help",className:"sr-only",children:"Choose the data source connector that will provide input data for your flow"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"transform-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Transform Type"}),k.jsx("select",{ref:S,id:"transform-selector",value:A,onChange:X=>Y(X.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400","aria-label":"Select transform type for data processing","aria-describedby":"transform-help",children:oe.map(X=>k.jsx("option",{value:X,children:X},X))}),k.jsx("div",{id:"transform-help",className:"sr-only",children:"Choose the data transformation method to process your data"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"destination-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Destination Connector"}),k.jsx("select",{ref:_,id:"destination-selector",value:D,onChange:X=>B(X.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-200 focus:border-green-400","aria-label":"Select destination connector for data output","aria-describedby":"destination-help",children:se.map(X=>k.jsx("option",{value:X,children:X},X))}),k.jsx("div",{id:"destination-help",className:"sr-only",children:"Choose the destination connector where processed data will be sent"})]})]})]}),l&&k.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:"📝 Dynamic JSON Configuration"}),k.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"json-config",className:"block text-xs font-medium text-slate-600 mb-2",children:"Flow Configuration (JSON)"}),k.jsx("textarea",{ref:T,id:"json-config",className:"w-full h-32 rounded-lg border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400",value:U(),"aria-label":"JSON configuration for data flow","aria-describedby":"json-help",placeholder:`{
              "nodes": {
                "source": {
                  "name": "Shopify",
                  "credentials": {
                    "apiKey": "shop_key_abc",
                    "storeDomain": "mystore.myshopify.com"
                  }
                },
                "destination": {
                  "name": "Snowflake",
                  "credentials": {
                    "host/account": "company.snowflakecomputing.com",
                    "user": "datauser",
                    "password or key": "snow123",
                    "database/schema": "PROD_DB"
                  }
                },
                "transform": {
                  "name": "Cleanse",
                  "credentials": {
                    "cleansingRule": "remove_nulls"
                  }
                }
              }
            }`,onChange:X=>{try{const fe=JSON.parse(X.target.value);if(fe.nodes&&fe.nodes.source&&fe.nodes.destination&&fe.nodes.transform){const _e=nS(fe);_e.isValid&&_e.sanitized?(q(_e.sanitized),p([]),F("Configuration loaded successfully")):(p(_e.errors),F(`Configuration validation failed: ${_e.errors.length} errors found`))}else{const _e={};for(const[Ae,ge]of Object.entries(fe))if(typeof ge=="object"&&ge!==null){_e[Ae]={};for(const[Te,be]of Object.entries(ge))typeof be=="string"&&(_e[Ae][gn(Te)]=gn(be))}b(_e),p([]),F("Legacy configuration format loaded")}}catch{p(["Invalid JSON format"]),F("Invalid JSON format detected")}}}),k.jsx("div",{id:"json-help",className:"sr-only",children:"Enter JSON configuration to define your data flow with source, transform, and destination nodes"}),h.length>0&&k.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",role:"alert","aria-live":"polite",children:[k.jsx("div",{className:"text-xs font-medium text-red-800 mb-1",children:"Validation Errors:"}),k.jsx("ul",{className:"text-xs text-red-700 space-y-1",children:h.map((X,fe)=>k.jsxs("li",{children:["• ",X]},fe))})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Quick Actions"}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("button",{onClick:()=>{q({nodes:{source:{name:"Shopify",credentials:{"apiKey/token":"shop_key_abc",storeDomain:"mystore.myshopify.com"}},destination:{name:"Snowflake",credentials:{"host/account":"company.snowflakecomputing.com",user:"datauser","password or key":"snow123","database/schema":"PROD_DB",warehouse:"COMPUTE_WH"}},transform:{name:"Cleanse",credentials:{cleansingRule:"remove_nulls",dataQuality:"high"}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors","aria-label":"Load sample Shopify to Snowflake configuration",children:"🚀 Load Your JSON (Shopify → Snowflake)"}),k.jsx("button",{onClick:()=>{q({nodes:{source:{name:"Salesforce",credentials:{username:"demo@salesforce.com",password:"demo123",securityToken:"token123"}},destination:{name:"Mailchimp",credentials:{apiKey:"mailchimp_key_456",serverPrefix:"us1"}},transform:{name:"Map & Validate",credentials:{}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors","aria-label":"Load sample Salesforce to Mailchimp configuration",children:"🔄 Load Sample (Salesforce → Mailchimp)"}),k.jsx("button",{onClick:O,className:"w-full min-h-[44px] px-3 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors","aria-label":"Reset configuration to default dummy nodes",children:"🔄 Reset to Dummy Nodes"}),k.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[k.jsx("strong",{children:"Current Flow Configuration:"}),k.jsx("pre",{className:"mt-1 p-2 bg-white rounded text-xs overflow-auto max-h-20",children:U()})]})]})]})]})]}),k.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 px-1 mb-3 flex-shrink-0",children:c}),k.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:k.jsx(P_,{nodes:pe.nodes,links:pe.edges,onNodeValuesChange:b})})]}),k.jsx("div",{id:"keyboard-help",className:"sr-only",children:"Keyboard shortcuts: Press 1 for Source, 2 for Transform, 3 for Destination, J for JSON editor, Escape to focus canvas, Tab to navigate, ? for help"}),k.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:m}),k.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:y})]})}const R_=P.memo(P.forwardRef(function({botName:r="NexBot",statusMessage:o="How can I help you today?",className:s="",backgroundClassName:a="bg-violet-600"},l){return k.jsx("header",{ref:l,className:`border-b text-white ${a} ${s}`,role:"banner","aria-label":"Chat header",children:k.jsxs("div",{className:"w-full px-4 py-3 flex items-center gap-3",children:[k.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 grid place-items-center",role:"img","aria-label":`${r} avatar`,children:k.jsx(Vy,{size:18,"aria-hidden":"true"})}),k.jsx("div",{className:"font-semibold","aria-label":"Bot name",children:r}),k.jsx("div",{className:"ml-2 text-white/70 text-sm","aria-label":"Status message",children:o})]})})})),I_=P.memo(P.forwardRef(function({value:r,onChange:o,onSubmit:s,placeholder:a="Describe your data flow…",disabled:l=!1,className:c="",inputTestId:d="chat-input",submitTestId:h="send-button"},p){const m=P.useRef(null);P.useEffect(()=>{const N=m.current;if(!N)return;N.style.height="auto";const w=Math.min(N.scrollHeight,120);N.style.height=w+"px"},[r]);const v=N=>{if(N.preventDefault(),!r.trim()||l)return;const w=r.trim();w.length>1e3||gn(w)!==w||s()},y=N=>{const w=N.target.value;o(w);const S=N.currentTarget;S.style.height="auto",S.style.height=S.scrollHeight+"px"},x=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),l||v(N))};return k.jsxs("form",{ref:p,onSubmit:v,className:`flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50 ${c}`,role:"form","aria-label":"Message input form",children:[k.jsxs("div",{className:"flex items-end gap-2 sm:gap-3",children:[k.jsx("textarea",{ref:m,"data-testid":d,"aria-multiline":"true",rows:1,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-violet-200 focus:border-violet-300 resize-none overflow-y-auto min-h-[44px] max-h-[120px] scrollbar-invisible",placeholder:a,value:r,onChange:y,onKeyDown:x,disabled:l,"aria-label":"Message input","aria-describedby":"input-help"}),k.jsxs("button",{type:"submit","data-testid":h,className:"rounded-2xl bg-violet-600 text-white px-3 sm:px-4 py-3 font-semibold hover:bg-violet-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2 min-h-[44px] min-w-[44px] flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",disabled:l||!r.trim(),children:[k.jsx(E_,{size:20,"aria-hidden":"true"}),k.jsx("span",{className:"font-semibold ml-1 hidden sm:inline",children:"Send"})]})]}),k.jsx("div",{id:"input-help",className:"sr-only",children:"Press Enter to send, Shift+Enter for new line"})]})}));function L_({type:e,content:r,status:o,createdAt:s,highlight:a}){const l=e==="user",c=l?N_:Vy,d=s?new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return k.jsx("div",{className:`${l?"ml-auto max-w-[90%]":"max-w-[80%]"} w-full ${a?"ring-2 ring-violet-300 rounded-2xl transition-[box-shadow] duration-700":""}`,children:k.jsxs("div",{className:`rounded-2xl px-4 py-3 shadow-sm border ${l?"bg-violet-600 text-white border-violet-600":"bg-white border-slate-200"}`,children:[k.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[k.jsx(c,{size:16,className:l?"text-white/80":"text-slate-500"}),k.jsx("div",{className:l?"text-white/80":"text-slate-600",children:l?"You":"NexBot"}),d&&k.jsxs("div",{className:l?"text-white/60":"text-slate-400",children:["· ",d]}),k.jsxs("div",{className:"ml-auto inline-flex items-center gap-1",children:[o==="thinking"&&k.jsx(w_,{size:14,className:l?"animate-spin text-white/80":"animate-spin text-slate-400"}),o==="sent"&&k.jsx(g_,{size:14,className:l?"text-white/80":"text-slate-400"}),o==="error"&&k.jsx(x_,{size:14,className:"text-red-500"})]})]}),k.jsx("div",{className:`mt-1 whitespace-pre-wrap ${l?"":"text-slate-900"}`,children:o==="thinking"?k.jsxs("span",{className:"inline-flex items-center gap-1",children:[k.jsx("span",{className:`h-2 w-2 rounded-full ${l?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.2s]`}),k.jsx("span",{className:`h-2 w-2 rounded-full ${l?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.1s]`}),k.jsx("span",{className:`h-2 w-2 rounded-full ${l?"bg-white/70":"bg-slate-400"} animate-bounce`})]}):r})]})})}const A_=P.memo(P.forwardRef(function({messages:r,aiThinking:o=!1,highlightId:s=null,maxHeight:a="calc(100vh - 280px)",className:l="",testId:c="message-area"},d){const h=P.useRef(null);return P.useEffect(()=>{const p=setTimeout(()=>{h.current?.scrollIntoView({behavior:"smooth",block:"end"})},50);return()=>clearTimeout(p)},[r.length]),P.useEffect(()=>{const p=setTimeout(()=>{h.current?.scrollIntoView({behavior:"auto",block:"end"})},100);return()=>clearTimeout(p)},[]),k.jsxs("div",{ref:d,"data-testid":c,className:`flex-1 overflow-y-auto p-4 space-y-6 min-h-0 scrollbar-thin ${l}`,role:"log","aria-live":"polite","aria-relevant":"additions","aria-busy":o,"aria-label":"Chat messages",style:{scrollBehavior:"smooth",maxHeight:a},children:[r.length===0?k.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-center",role:"status","aria-label":"No messages yet",children:k.jsxs("div",{children:[k.jsx("div",{className:"text-lg font-medium mb-2",children:"Welcome to NexBot!"}),k.jsx("div",{className:"text-sm",children:"Start by describing your data flow needs."})]})}):r.map(p=>k.jsx(L_,{type:p.type,content:p.content,status:p.status,createdAt:p.createdAt||Date.now(),highlight:p.id===s},p.id)),k.jsx("div",{ref:h,"aria-hidden":"true"})]})})),j_=P.memo(function({text:r="Scroll down to see more",className:o="",visible:s=!0}){return s?k.jsxs("div",{className:`flex items-center justify-center gap-2 py-3 text-sm text-gray-600 bg-gray-50 border-t animate-pulse ${o}`,role:"status","aria-label":r,children:[k.jsx("span",{children:r}),k.jsx(y_,{size:16,className:"animate-bounce","aria-hidden":"true"})]}):null}),F_=P.memo(function({onClick:r,text:o="Back to Chat",className:s="",visible:a=!0}){if(!a)return null;const l=()=>{window.scrollTo({top:0,behavior:"smooth"}),r?.()};return k.jsxs("button",{onClick:l,className:`
        fixed bottom-6 right-6 z-50 
        bg-violet-600 text-white 
        rounded-full px-4 py-3 
        shadow-lg hover:shadow-xl 
        hover:bg-violet-500 
        focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2
        transition-all duration-200
        flex items-center gap-2
        min-h-[44px] min-w-[44px]
        ${s}
      `,"aria-label":o,children:[k.jsx(S_,{size:20,"aria-hidden":"true"}),k.jsx("span",{className:"font-medium text-sm",children:o}),k.jsx(v_,{size:16,"aria-hidden":"true"})]})});function z_(){const{messages:e,input:r,setInput:o,sendWithCanvasUpdate:s,aiThinking:a,highlightId:l}=ls(),c=P.useRef(null),d=P.useRef(null),[h,p]=P.useState("calc(100vh - 280px)"),[m,v]=P.useState(!1);return P.useEffect(()=>{qw()},[]),P.useEffect(()=>{const y=()=>{const x=c.current?.offsetHeight||60,N=d.current?.offsetHeight||120,_=window.innerHeight-x-N-50-50;p(`${Math.max(200,_)}px`)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),P.useEffect(()=>{const x=setTimeout(()=>{const N=c.current?.offsetHeight||60,w=d.current?.offsetHeight||120,T=window.innerHeight-N-w-50-50;p(`${Math.max(200,T)}px`)},10);return()=>clearTimeout(x)},[r]),P.useEffect(()=>{const y=()=>{v(window.scrollY>window.innerHeight)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]),k.jsxs("div",{className:"min-h-screen w-screen grid grid-rows-[auto_1fr_auto] lg:h-screen lg:overflow-hidden",children:[k.jsx(R_,{ref:c,botName:"NexBot",statusMessage:"How can I help you today?"}),k.jsx("main",{className:"w-full h-full overflow-hidden",children:k.jsxs("div",{className:"h-full flex flex-col lg:grid lg:grid-cols-[40%_60%] lg:overflow-hidden",children:[k.jsxs("div",{className:"flex flex-col h-screen lg:h-full border-r-0 lg:border-r border-gray-200 bg-white","data-testid":"chat-interface",children:[k.jsx(A_,{messages:e,aiThinking:a,highlightId:l,maxHeight:h}),k.jsx(I_,{ref:d,value:r,onChange:o,onSubmit:s,placeholder:"Describe your data flow…",disabled:a}),k.jsx(j_,{text:"Scroll down to see canvas",className:"lg:hidden",visible:e.length>0})]}),k.jsx("div",{className:"h-screen lg:h-full bg-gray-50 p-4","data-testid":"canvas-container",children:k.jsxs("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col overflow-hidden",children:[k.jsxs("div",{className:"lg:hidden mb-4 text-center flex-shrink-0",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Data Flow Canvas"}),k.jsx("p",{className:"text-sm text-gray-600",children:"Your data flow visualization appears here"})]}),k.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:k.jsx("div",{className:"h-full w-full",children:k.jsx(O_,{showControls:!1,showJsonPanel:!1})})})]})})]})}),k.jsx(qm,{className:"border-t"}),k.jsx(F_,{text:"Back to Chat",visible:m,className:"lg:hidden"})]})}const $_=Zx([{path:"/",element:k.jsx(sS,{})},{path:"/chat",element:k.jsx(z_,{})}]);Dv.createRoot(document.getElementById("root")).render(k.jsx(ul.StrictMode,{children:k.jsx(sw,{router:$_})}));
