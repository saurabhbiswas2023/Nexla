function Bp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function jc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vp={exports:{}},Zs={},Hp={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),Cv=Symbol.for("react.portal"),kv=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),Mv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Tv=Symbol.for("react.memo"),Ov=Symbol.for("react.lazy"),af=Symbol.iterator;function Rv(e){return e===null||typeof e!="object"?null:(e=af&&e[af]||e["@@iterator"],typeof e=="function"?e:null)}var Up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wp=Object.assign,Yp={};function Io(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Up}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kp(){}Kp.prototype=Io.prototype;function zc(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Up}var Fc=zc.prototype=new Kp;Fc.constructor=zc;Wp(Fc,Io.prototype);Fc.isPureReactComponent=!0;var sf=Array.isArray,Xp=Object.prototype.hasOwnProperty,$c={current:null},Qp={key:!0,ref:!0,__self:!0,__source:!0};function Gp(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Xp.call(t,r)&&!Qp.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:Zi,type:e,key:i,ref:a,props:o,_owner:$c.current}}function Lv(e,t){return{$$typeof:Zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zi}function Iv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lf=/\/+/g;function jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iv(""+e.key):t.toString(36)}function Xa(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zi:case Cv:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+jl(a,0):r,sf(o)?(n="",e!=null&&(n=e.replace(lf,"$&/")+"/"),Xa(o,t,n,"",function(u){return u})):o!=null&&(Bc(o)&&(o=Lv(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(lf,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",sf(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+jl(i,s);a+=Xa(i,t,n,l,o)}else if(l=Rv(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+jl(i,s++),a+=Xa(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xa(e,t,n){if(e==null)return e;var r=[],o=0;return Xa(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Av(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Qa={transition:null},jv={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:$c};function Zp(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:xa,forEach:function(e,t,n){xa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xa(e,function(){t++}),t},toArray:function(e){return xa(e,function(t){return t})||[]},only:function(e){if(!Bc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Io;me.Fragment=kv;me.Profiler=Nv;me.PureComponent=zc;me.StrictMode=_v;me.Suspense=Dv;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jv;me.act=Zp;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wp({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=$c.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Xp.call(t,l)&&!Qp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Zi,type:e.type,key:o,ref:i,props:r,_owner:a}};me.createContext=function(e){return e={$$typeof:bv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mv,_context:e},e.Consumer=e};me.createElement=Gp;me.createFactory=function(e){var t=Gp.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Pv,render:e}};me.isValidElement=Bc;me.lazy=function(e){return{$$typeof:Ov,_payload:{_status:-1,_result:e},_init:Av}};me.memo=function(e,t){return{$$typeof:Tv,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};me.unstable_act=Zp;me.useCallback=function(e,t){return it.current.useCallback(e,t)};me.useContext=function(e){return it.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return it.current.useDeferredValue(e)};me.useEffect=function(e,t){return it.current.useEffect(e,t)};me.useId=function(){return it.current.useId()};me.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return it.current.useMemo(e,t)};me.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};me.useRef=function(e){return it.current.useRef(e)};me.useState=function(e){return it.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return it.current.useTransition()};me.version="18.3.1";Hp.exports=me;var _=Hp.exports;const Js=jc(_),zv=Bp({__proto__:null,default:Js},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=_,$v=Symbol.for("react.element"),Bv=Symbol.for("react.fragment"),Vv=Object.prototype.hasOwnProperty,Hv=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uv={key:!0,ref:!0,__self:!0,__source:!0};function Jp(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Vv.call(t,r)&&!Uv.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:$v,type:e,key:i,ref:a,props:o,_owner:Hv.current}}Zs.Fragment=Bv;Zs.jsx=Jp;Zs.jsxs=Jp;Vp.exports=Zs;var E=Vp.exports,qp={exports:{}},St={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,b){var I=P.length;P.push(b);e:for(;0<I;){var F=I-1>>>1,U=P[F];if(0<o(U,b))P[F]=b,P[I]=U,I=F;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var b=P[0],I=P.pop();if(I!==b){P[0]=I;e:for(var F=0,U=P.length,K=U>>>1;F<K;){var X=2*(F+1)-1,q=P[X],re=X+1,G=P[re];if(0>o(q,I))re<U&&0>o(G,q)?(P[F]=G,P[re]=I,F=re):(P[F]=q,P[X]=I,F=X);else if(re<U&&0>o(G,I))P[F]=G,P[re]=I,F=re;else break e}}return b}function o(P,b){var I=P.sortIndex-b.sortIndex;return I!==0?I:P.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=P)r(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=n(u)}}function w(P){if(y=!1,p(P),!v)if(n(l)!==null)v=!0,O(k);else{var b=n(u);b!==null&&R(w,b.startTime-P)}}function k(P,b){v=!1,y&&(y=!1,m(N),N=-1),h=!0;var I=d;try{for(p(b),f=n(l);f!==null&&(!(f.expirationTime>b)||P&&!H());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var U=F(f.expirationTime<=b);b=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),p(b)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var X=n(u);X!==null&&R(w,X.startTime-b),K=!1}return K}finally{f=null,d=I,h=!1}}var M=!1,S=null,N=-1,L=5,j=-1;function H(){return!(e.unstable_now()-j<L)}function z(){if(S!==null){var P=e.unstable_now();j=P;var b=!0;try{b=S(!0,P)}finally{b?B():(M=!1,S=null)}}else M=!1}var B;if(typeof g=="function")B=function(){g(z)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,T=C.port2;C.port1.onmessage=z,B=function(){T.postMessage(null)}}else B=function(){x(z,0)};function O(P){S=P,M||(M=!0,B())}function R(P,b){N=x(function(){P(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,O(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var I=d;d=b;try{return P()}finally{d=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,b){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=d;d=P;try{return b()}finally{d=I}},e.unstable_scheduleCallback=function(P,b,I){var F=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?F+I:F):I=F,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,P={id:c++,callback:b,priorityLevel:P,startTime:I,expirationTime:U,sortIndex:-1},I>F?(P.sortIndex=I,t(u,P),n(l)===null&&P===n(u)&&(y?(m(N),N=-1):y=!0,R(w,I-F))):(P.sortIndex=U,t(l,P),v||h||(v=!0,O(k))),P},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(P){var b=d;return function(){var I=d;d=b;try{return P.apply(this,arguments)}finally{d=I}}}})(tm);em.exports=tm;var Wv=em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv=_,xt=Wv;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nm=new Set,xi={};function Ir(e,t){xo(e,t),xo(e+"Capture",t)}function xo(e,t){for(xi[e]=t,e=0;e<t.length;e++)nm.add(t[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=Object.prototype.hasOwnProperty,Kv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uf={},cf={};function Xv(e){return Nu.call(cf,e)?!0:Nu.call(uf,e)?!1:Kv.test(e)?cf[e]=!0:(uf[e]=!0,!1)}function Qv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,n,r){if(t===null||typeof t>"u"||Qv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Hc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vc,Hc);Ze[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vc,Hc);Ze[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vc,Hc);Ze[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uc(e,t,n,r){var o=Ze.hasOwnProperty(t)?Ze[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,n,o,r)&&(n=null),r||o===null?Xv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=Yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Wc=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),om=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),Kc=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),im=Symbol.for("react.offscreen"),df=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=df&&e[df]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,zl;function ti(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Fl=!1;function $l(e,t){if(!e||Fl)return"";Fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ti(e):""}function Zv(e){switch(e.tag){case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function Du(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zr:return"Fragment";case Gr:return"Portal";case Mu:return"Profiler";case Wc:return"StrictMode";case bu:return"Suspense";case Pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case om:return(e.displayName||"Context")+".Consumer";case rm:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kc:return t=e.displayName||null,t!==null?t:Du(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return Du(e(t))}catch{}}return null}function Jv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(t);case 8:return t===Wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function am(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qv(e){var t=am(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=qv(e))}function sm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=am(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tu(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ff(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lm(e,t){t=t.checked,t!=null&&Uc(e,"checked",t,!1)}function Ou(e,t){lm(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ru(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ru(e,t,n){(t!=="number"||hs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ni=Array.isArray;function co(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(ni(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function um(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ea,dm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ea=Ea||document.createElement("div"),Ea.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ea.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ex=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(e){ex.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),li[t]=li[e]})});function fm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||li.hasOwnProperty(e)&&li[e]?(""+t).trim():t+"px"}function hm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=fm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var tx=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(e,t){if(t){if(tx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function ju(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function Xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fu=null,fo=null,ho=null;function gf(e){if(e=ea(e)){if(typeof Fu!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=rl(t),Fu(e.stateNode,e.type,t))}}function pm(e){fo?ho?ho.push(e):ho=[e]:fo=e}function mm(){if(fo){var e=fo,t=ho;if(ho=fo=null,gf(e),t)for(e=0;e<t.length;e++)gf(t[e])}}function gm(e,t){return e(t)}function ym(){}var Bl=!1;function vm(e,t,n){if(Bl)return e(t,n);Bl=!0;try{return gm(e,t,n)}finally{Bl=!1,(fo!==null||ho!==null)&&(ym(),mm())}}function Si(e,t){var n=e.stateNode;if(n===null)return null;var r=rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var $u=!1;if(Sn)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){$u=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{$u=!1}function nx(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ui=!1,ps=null,ms=!1,Bu=null,rx={onError:function(e){ui=!0,ps=e}};function ox(e,t,n,r,o,i,a,s,l){ui=!1,ps=null,nx.apply(rx,arguments)}function ix(e,t,n,r,o,i,a,s,l){if(ox.apply(this,arguments),ui){if(ui){var u=ps;ui=!1,ps=null}else throw Error(Y(198));ms||(ms=!0,Bu=u)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yf(e){if(Ar(e)!==e)throw Error(Y(188))}function ax(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return yf(o),e;if(i===r)return yf(o),t;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function wm(e){return e=ax(e),e!==null?Sm(e):null}function Sm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sm(e);if(t!==null)return t;e=e.sibling}return null}var Em=xt.unstable_scheduleCallback,vf=xt.unstable_cancelCallback,sx=xt.unstable_shouldYield,lx=xt.unstable_requestPaint,$e=xt.unstable_now,ux=xt.unstable_getCurrentPriorityLevel,Qc=xt.unstable_ImmediatePriority,Cm=xt.unstable_UserBlockingPriority,gs=xt.unstable_NormalPriority,cx=xt.unstable_LowPriority,km=xt.unstable_IdlePriority,qs=null,tn=null;function dx(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(qs,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:px,fx=Math.log,hx=Math.LN2;function px(e){return e>>>=0,e===0?32:31-(fx(e)/hx|0)|0}var Ca=64,ka=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~o;s!==0?r=ri(s):(i&=a,i!==0&&(r=ri(i)))}else a=n&~o,a!==0?r=ri(a):i!==0&&(r=ri(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Vt(t),o=1<<n,r|=e[n],t&=~o;return r}function mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Vt(i),s=1<<a,l=o[a];l===-1?(!(s&n)||s&r)&&(o[a]=mx(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _m(){var e=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),e}function Vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ji(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=n}function yx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Vt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Gc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Vt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ke=0;function Nm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mm,Zc,bm,Pm,Dm,Hu=!1,_a=[],Un=null,Wn=null,Yn=null,Ei=new Map,Ci=new Map,zn=[],vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xf(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":Ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function Uo(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ea(t),t!==null&&Zc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function xx(e,t,n,r,o){switch(t){case"focusin":return Un=Uo(Un,e,t,n,r,o),!0;case"dragenter":return Wn=Uo(Wn,e,t,n,r,o),!0;case"mouseover":return Yn=Uo(Yn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ei.set(i,Uo(Ei.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ci.set(i,Uo(Ci.get(i)||null,e,t,n,r,o)),!0}return!1}function Tm(e){var t=yr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=xm(n),t!==null){e.blockedOn=t,Dm(e.priority,function(){bm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return t=ea(n),t!==null&&Zc(t),e.blockedOn=n,!1;t.shift()}return!0}function wf(e,t,n){Ga(e)&&n.delete(t)}function wx(){Hu=!1,Un!==null&&Ga(Un)&&(Un=null),Wn!==null&&Ga(Wn)&&(Wn=null),Yn!==null&&Ga(Yn)&&(Yn=null),Ei.forEach(wf),Ci.forEach(wf)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,wx)))}function ki(e){function t(o){return Wo(o,e)}if(0<_a.length){Wo(_a[0],e);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&Wo(Un,e),Wn!==null&&Wo(Wn,e),Yn!==null&&Wo(Yn,e),Ei.forEach(t),Ci.forEach(t),n=0;n<zn.length;n++)r=zn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)Tm(n),n.blockedOn===null&&zn.shift()}var po=Nn.ReactCurrentBatchConfig,vs=!0;function Sx(e,t,n,r){var o=ke,i=po.transition;po.transition=null;try{ke=1,Jc(e,t,n,r)}finally{ke=o,po.transition=i}}function Ex(e,t,n,r){var o=ke,i=po.transition;po.transition=null;try{ke=4,Jc(e,t,n,r)}finally{ke=o,po.transition=i}}function Jc(e,t,n,r){if(vs){var o=Uu(e,t,n,r);if(o===null)Jl(e,t,r,xs,n),xf(e,r);else if(xx(o,e,t,n,r))r.stopPropagation();else if(xf(e,r),t&4&&-1<vx.indexOf(e)){for(;o!==null;){var i=ea(o);if(i!==null&&Mm(i),i=Uu(e,t,n,r),i===null&&Jl(e,t,r,xs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Jl(e,t,r,null,n)}}var xs=null;function Uu(e,t,n,r){if(xs=null,e=Xc(r),e=yr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function Om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ux()){case Qc:return 1;case Cm:return 4;case gs:case cx:return 16;case km:return 536870912;default:return 16}default:return 16}}var Bn=null,qc=null,Za=null;function Rm(){if(Za)return Za;var e,t=qc,n=t.length,r,o="value"in Bn?Bn.value:Bn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return Za=o.slice(e,1<r?1-r:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function Sf(){return!1}function Et(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Na:Sf,this.isPropagationStopped=Sf,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Et(Ao),qi=Ae({},Ao,{view:0,detail:0}),Cx=Et(qi),Hl,Ul,Yo,el=Ae({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Hl=e.screenX-Yo.screenX,Ul=e.screenY-Yo.screenY):Ul=Hl=0,Yo=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Ef=Et(el),kx=Ae({},el,{dataTransfer:0}),_x=Et(kx),Nx=Ae({},qi,{relatedTarget:0}),Wl=Et(Nx),Mx=Ae({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=Et(Mx),Px=Ae({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dx=Et(Px),Tx=Ae({},Ao,{data:0}),Cf=Et(Tx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lx[e])?!!t[e]:!1}function td(){return Ix}var Ax=Ae({},qi,{key:function(e){if(e.key){var t=Ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jx=Et(Ax),zx=Ae({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kf=Et(zx),Fx=Ae({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),$x=Et(Fx),Bx=Ae({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=Et(Bx),Hx=Ae({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=Et(Hx),Wx=[9,13,27,32],nd=Sn&&"CompositionEvent"in window,ci=null;Sn&&"documentMode"in document&&(ci=document.documentMode);var Yx=Sn&&"TextEvent"in window&&!ci,Lm=Sn&&(!nd||ci&&8<ci&&11>=ci),_f=" ",Nf=!1;function Im(e,t){switch(e){case"keyup":return Wx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Kx(e,t){switch(e){case"compositionend":return Am(t);case"keypress":return t.which!==32?null:(Nf=!0,_f);case"textInput":return e=t.data,e===_f&&Nf?null:e;default:return null}}function Xx(e,t){if(Jr)return e==="compositionend"||!nd&&Im(e,t)?(e=Rm(),Za=qc=Bn=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qx[e.type]:t==="textarea"}function jm(e,t,n,r){pm(r),t=ws(t,"onChange"),0<t.length&&(n=new ed("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var di=null,_i=null;function Gx(e){Xm(e,0)}function tl(e){var t=to(e);if(sm(t))return e}function Zx(e,t){if(e==="change")return t}var zm=!1;if(Sn){var Yl;if(Sn){var Kl="oninput"in document;if(!Kl){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Kl=typeof bf.oninput=="function"}Yl=Kl}else Yl=!1;zm=Yl&&(!document.documentMode||9<document.documentMode)}function Pf(){di&&(di.detachEvent("onpropertychange",Fm),_i=di=null)}function Fm(e){if(e.propertyName==="value"&&tl(_i)){var t=[];jm(t,_i,e,Xc(e)),vm(Gx,t)}}function Jx(e,t,n){e==="focusin"?(Pf(),di=t,_i=n,di.attachEvent("onpropertychange",Fm)):e==="focusout"&&Pf()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(_i)}function ew(e,t){if(e==="click")return tl(t)}function tw(e,t){if(e==="input"||e==="change")return tl(t)}function nw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:nw;function Ni(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Nu.call(t,o)||!Ut(e[o],t[o]))return!1}return!0}function Df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tf(e,t){var n=Df(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Df(n)}}function $m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bm(){for(var e=window,t=hs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hs(e.document)}return t}function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rw(e){var t=Bm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$m(n.ownerDocument.documentElement,n)){if(r!==null&&rd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Tf(n,i);var a=Tf(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ow=Sn&&"documentMode"in document&&11>=document.documentMode,qr=null,Wu=null,fi=null,Yu=!1;function Of(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||qr==null||qr!==hs(r)||(r=qr,"selectionStart"in r&&rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fi&&Ni(fi,r)||(fi=r,r=ws(Wu,"onSelect"),0<r.length&&(t=new ed("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qr)))}function Ma(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eo={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Xl={},Vm={};Sn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function nl(e){if(Xl[e])return Xl[e];if(!eo[e])return e;var t=eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vm)return Xl[e]=t[n];return e}var Hm=nl("animationend"),Um=nl("animationiteration"),Wm=nl("animationstart"),Ym=nl("transitionend"),Km=new Map,Rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Km.set(e,t),Ir(t,[e])}for(var Ql=0;Ql<Rf.length;Ql++){var Gl=Rf[Ql],iw=Gl.toLowerCase(),aw=Gl[0].toUpperCase()+Gl.slice(1);tr(iw,"on"+aw)}tr(Hm,"onAnimationEnd");tr(Um,"onAnimationIteration");tr(Wm,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Ym,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Lf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ix(r,t,void 0,e),e.currentTarget=null}function Xm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lf(o,s,u),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lf(o,s,u),i=l}}}if(ms)throw e=Bu,ms=!1,Bu=null,e}function be(e,t){var n=t[Zu];n===void 0&&(n=t[Zu]=new Set);var r=e+"__bubble";n.has(r)||(Qm(t,e,2,!1),n.add(r))}function Zl(e,t,n){var r=0;t&&(r|=4),Qm(n,e,r,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){if(!e[ba]){e[ba]=!0,nm.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||Zl(n,!1,e),Zl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,Zl("selectionchange",!1,t))}}function Qm(e,t,n,r){switch(Om(t)){case 1:var o=Sx;break;case 4:o=Ex;break;default:o=Jc}n=o.bind(null,t,n,e),o=void 0,!$u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Jl(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=yr(s),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}vm(function(){var u=i,c=Xc(n),f=[];e:{var d=Km.get(e);if(d!==void 0){var h=ed,v=e;switch(e){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":h=jx;break;case"focusin":v="focus",h=Wl;break;case"focusout":v="blur",h=Wl;break;case"beforeblur":case"afterblur":h=Wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$x;break;case Hm:case Um:case Wm:h=bx;break;case Ym:h=Vx;break;case"scroll":h=Cx;break;case"wheel":h=Ux;break;case"copy":case"cut":case"paste":h=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kf}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,p;g!==null;){p=g;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,m!==null&&(w=Si(g,m),w!=null&&y.push(bi(g,w,p)))),x)break;g=g.return}0<y.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==zu&&(v=n.relatedTarget||n.fromElement)&&(yr(v)||v[En]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?yr(v):null,v!==null&&(x=Ar(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Ef,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=kf,w="onPointerLeave",m="onPointerEnter",g="pointer"),x=h==null?d:to(h),p=v==null?d:to(v),d=new y(w,g+"leave",h,n,c),d.target=x,d.relatedTarget=p,w=null,yr(c)===u&&(y=new y(m,g+"enter",v,n,c),y.target=p,y.relatedTarget=x,w=y),x=w,h&&v)t:{for(y=h,m=v,g=0,p=y;p;p=Kr(p))g++;for(p=0,w=m;w;w=Kr(w))p++;for(;0<g-p;)y=Kr(y),g--;for(;0<p-g;)m=Kr(m),p--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Kr(y),m=Kr(m)}y=null}else y=null;h!==null&&If(f,d,h,y,!1),v!==null&&x!==null&&If(f,x,v,y,!0)}}e:{if(d=u?to(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=Zx;else if(Mf(d))if(zm)k=tw;else{k=qx;var M=Jx}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=ew);if(k&&(k=k(e,u))){jm(f,k,n,c);break e}M&&M(e,d,u),e==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&Ru(d,"number",d.value)}switch(M=u?to(u):window,e){case"focusin":(Mf(M)||M.contentEditable==="true")&&(qr=M,Wu=u,fi=null);break;case"focusout":fi=Wu=qr=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,Of(f,n,c);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":Of(f,n,c)}var S;if(nd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Jr?Im(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Lm&&n.locale!=="ko"&&(Jr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Jr&&(S=Rm()):(Bn=c,qc="value"in Bn?Bn.value:Bn.textContent,Jr=!0)),M=ws(u,N),0<M.length&&(N=new Cf(N,e,null,n,c),f.push({event:N,listeners:M}),S?N.data=S:(S=Am(n),S!==null&&(N.data=S)))),(S=Yx?Kx(e,n):Xx(e,n))&&(u=ws(u,"onBeforeInput"),0<u.length&&(c=new Cf("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Xm(f,t)})}function bi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Si(e,n),i!=null&&r.unshift(bi(e,i,o)),i=Si(e,t),i!=null&&r.push(bi(e,i,o))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function If(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,o?(l=Si(n,i),l!=null&&a.unshift(bi(n,l,s))):o||(l=Si(n,i),l!=null&&a.push(bi(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var lw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Af(e){return(typeof e=="string"?e:""+e).replace(lw,`
`).replace(uw,"")}function Pa(e,t,n){if(t=Af(t),Af(e)!==t&&n)throw Error(Y(425))}function Ss(){}var Ku=null,Xu=null;function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(fw)}:Gu;function fw(e){setTimeout(function(){throw e})}function ql(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ki(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ki(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Jt="__reactFiber$"+jo,Pi="__reactProps$"+jo,En="__reactContainer$"+jo,Zu="__reactEvents$"+jo,hw="__reactListeners$"+jo,pw="__reactHandles$"+jo;function yr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zf(e);e!==null;){if(n=e[Jt])return n;e=zf(e)}return t}e=n,n=e.parentNode}return null}function ea(e){return e=e[Jt]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function rl(e){return e[Pi]||null}var Ju=[],no=-1;function nr(e){return{current:e}}function Pe(e){0>no||(e.current=Ju[no],Ju[no]=null,no--)}function Ne(e,t){no++,Ju[no]=e.current,e.current=t}var qn={},tt=nr(qn),dt=nr(!1),Nr=qn;function wo(e,t){var n=e.type.contextTypes;if(!n)return qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ft(e){return e=e.childContextTypes,e!=null}function Es(){Pe(dt),Pe(tt)}function Ff(e,t,n){if(tt.current!==qn)throw Error(Y(168));Ne(tt,t),Ne(dt,n)}function Gm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Y(108,Jv(e)||"Unknown",o));return Ae({},n,r)}function Cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,Nr=tt.current,Ne(tt,e),Ne(dt,dt.current),!0}function $f(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Gm(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,Pe(dt),Pe(tt),Ne(tt,e)):Pe(dt),Ne(dt,n)}var pn=null,ol=!1,eu=!1;function Zm(e){pn===null?pn=[e]:pn.push(e)}function mw(e){ol=!0,Zm(e)}function rr(){if(!eu&&pn!==null){eu=!0;var e=0,t=ke;try{var n=pn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,ol=!1}catch(o){throw pn!==null&&(pn=pn.slice(e+1)),Em(Qc,rr),o}finally{ke=t,eu=!1}}return null}var ro=[],oo=0,ks=null,_s=0,_t=[],Nt=0,Mr=null,mn=1,gn="";function fr(e,t){ro[oo++]=_s,ro[oo++]=ks,ks=e,_s=t}function Jm(e,t,n){_t[Nt++]=mn,_t[Nt++]=gn,_t[Nt++]=Mr,Mr=e;var r=mn;e=gn;var o=32-Vt(r)-1;r&=~(1<<o),n+=1;var i=32-Vt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,mn=1<<32-Vt(t)+o|n<<o|r,gn=i+e}else mn=1<<i|n<<o|r,gn=e}function od(e){e.return!==null&&(fr(e,1),Jm(e,1,0))}function id(e){for(;e===ks;)ks=ro[--oo],ro[oo]=null,_s=ro[--oo],ro[oo]=null;for(;e===Mr;)Mr=_t[--Nt],_t[Nt]=null,gn=_t[--Nt],_t[Nt]=null,mn=_t[--Nt],_t[Nt]=null}var vt=null,yt=null,Oe=!1,Ft=null;function qm(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:mn,overflow:gn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,yt=null,!0):!1;default:return!1}}function qu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ec(e){if(Oe){var t=yt;if(t){var n=t;if(!Bf(e,t)){if(qu(e))throw Error(Y(418));t=Kn(n.nextSibling);var r=vt;t&&Bf(e,t)?qm(r,n):(e.flags=e.flags&-4097|2,Oe=!1,vt=e)}}else{if(qu(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Oe=!1,vt=e}}}function Vf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Da(e){if(e!==vt)return!1;if(!Oe)return Vf(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qu(e.type,e.memoizedProps)),t&&(t=yt)){if(qu(e))throw eg(),Error(Y(418));for(;t;)qm(e,t),t=Kn(t.nextSibling)}if(Vf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Kn(e.stateNode.nextSibling):null;return!0}function eg(){for(var e=yt;e;)e=Kn(e.nextSibling)}function So(){yt=vt=null,Oe=!1}function ad(e){Ft===null?Ft=[e]:Ft.push(e)}var gw=Nn.ReactCurrentBatchConfig;function Ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Ta(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hf(e){var t=e._init;return t(e._payload)}function tg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function o(m,g){return m=Zn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,g,p,w){return g===null||g.tag!==6?(g=su(p,m.mode,w),g.return=m,g):(g=o(g,p),g.return=m,g)}function l(m,g,p,w){var k=p.type;return k===Zr?c(m,g,p.props.children,w,p.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===In&&Hf(k)===g.type)?(w=o(g,p.props),w.ref=Ko(m,g,p),w.return=m,w):(w=is(p.type,p.key,p.props,null,m.mode,w),w.ref=Ko(m,g,p),w.return=m,w)}function u(m,g,p,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=lu(p,m.mode,w),g.return=m,g):(g=o(g,p.children||[]),g.return=m,g)}function c(m,g,p,w,k){return g===null||g.tag!==7?(g=Cr(p,m.mode,w,k),g.return=m,g):(g=o(g,p),g.return=m,g)}function f(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=su(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wa:return p=is(g.type,g.key,g.props,null,m.mode,p),p.ref=Ko(m,null,g),p.return=m,p;case Gr:return g=lu(g,m.mode,p),g.return=m,g;case In:var w=g._init;return f(m,w(g._payload),p)}if(ni(g)||Vo(g))return g=Cr(g,m.mode,p,null),g.return=m,g;Ta(m,g)}return null}function d(m,g,p,w){var k=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:s(m,g,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wa:return p.key===k?l(m,g,p,w):null;case Gr:return p.key===k?u(m,g,p,w):null;case In:return k=p._init,d(m,g,k(p._payload),w)}if(ni(p)||Vo(p))return k!==null?null:c(m,g,p,w,null);Ta(m,p)}return null}function h(m,g,p,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(p)||null,s(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wa:return m=m.get(w.key===null?p:w.key)||null,l(g,m,w,k);case Gr:return m=m.get(w.key===null?p:w.key)||null,u(g,m,w,k);case In:var M=w._init;return h(m,g,p,M(w._payload),k)}if(ni(w)||Vo(w))return m=m.get(p)||null,c(g,m,w,k,null);Ta(g,w)}return null}function v(m,g,p,w){for(var k=null,M=null,S=g,N=g=0,L=null;S!==null&&N<p.length;N++){S.index>N?(L=S,S=null):L=S.sibling;var j=d(m,S,p[N],w);if(j===null){S===null&&(S=L);break}e&&S&&j.alternate===null&&t(m,S),g=i(j,g,N),M===null?k=j:M.sibling=j,M=j,S=L}if(N===p.length)return n(m,S),Oe&&fr(m,N),k;if(S===null){for(;N<p.length;N++)S=f(m,p[N],w),S!==null&&(g=i(S,g,N),M===null?k=S:M.sibling=S,M=S);return Oe&&fr(m,N),k}for(S=r(m,S);N<p.length;N++)L=h(S,m,N,p[N],w),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?N:L.key),g=i(L,g,N),M===null?k=L:M.sibling=L,M=L);return e&&S.forEach(function(H){return t(m,H)}),Oe&&fr(m,N),k}function y(m,g,p,w){var k=Vo(p);if(typeof k!="function")throw Error(Y(150));if(p=k.call(p),p==null)throw Error(Y(151));for(var M=k=null,S=g,N=g=0,L=null,j=p.next();S!==null&&!j.done;N++,j=p.next()){S.index>N?(L=S,S=null):L=S.sibling;var H=d(m,S,j.value,w);if(H===null){S===null&&(S=L);break}e&&S&&H.alternate===null&&t(m,S),g=i(H,g,N),M===null?k=H:M.sibling=H,M=H,S=L}if(j.done)return n(m,S),Oe&&fr(m,N),k;if(S===null){for(;!j.done;N++,j=p.next())j=f(m,j.value,w),j!==null&&(g=i(j,g,N),M===null?k=j:M.sibling=j,M=j);return Oe&&fr(m,N),k}for(S=r(m,S);!j.done;N++,j=p.next())j=h(S,m,N,j.value,w),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?N:j.key),g=i(j,g,N),M===null?k=j:M.sibling=j,M=j);return e&&S.forEach(function(z){return t(m,z)}),Oe&&fr(m,N),k}function x(m,g,p,w){if(typeof p=="object"&&p!==null&&p.type===Zr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case wa:e:{for(var k=p.key,M=g;M!==null;){if(M.key===k){if(k=p.type,k===Zr){if(M.tag===7){n(m,M.sibling),g=o(M,p.props.children),g.return=m,m=g;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===In&&Hf(k)===M.type){n(m,M.sibling),g=o(M,p.props),g.ref=Ko(m,M,p),g.return=m,m=g;break e}n(m,M);break}else t(m,M);M=M.sibling}p.type===Zr?(g=Cr(p.props.children,m.mode,w,p.key),g.return=m,m=g):(w=is(p.type,p.key,p.props,null,m.mode,w),w.ref=Ko(m,g,p),w.return=m,m=w)}return a(m);case Gr:e:{for(M=p.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=o(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=lu(p,m.mode,w),g.return=m,m=g}return a(m);case In:return M=p._init,x(m,g,M(p._payload),w)}if(ni(p))return v(m,g,p,w);if(Vo(p))return y(m,g,p,w);Ta(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=o(g,p),g.return=m,m=g):(n(m,g),g=su(p,m.mode,w),g.return=m,m=g),a(m)):n(m,g)}return x}var Eo=tg(!0),ng=tg(!1),Ns=nr(null),Ms=null,io=null,sd=null;function ld(){sd=io=Ms=null}function ud(e){var t=Ns.current;Pe(Ns),e._currentValue=t}function tc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mo(e,t){Ms=e,sd=io=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(sd!==e)if(e={context:e,memoizedValue:t,next:null},io===null){if(Ms===null)throw Error(Y(308));io=e,Ms.dependencies={lanes:0,firstContext:e}}else io=io.next=e;return t}var vr=null;function cd(e){vr===null?vr=[e]:vr.push(e)}function rg(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,cd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Cn(e,n)}return o=r.interleaved,o===null?(t.next=t,cd(r)):(t.next=o.next,o.next=t),r.interleaved=t,Cn(e,n)}function qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gc(e,n)}}function Uf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bs(e,t,n,r){var o=e.updateQueue;An=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=o.baseState;a=0,c=u=l=null,s=i;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,y=s;switch(d=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Ae({},f,d);break e;case 2:An=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Pr|=a,e.lanes=a,e.memoizedState=f}}function Wf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Y(191,o));o.call(r)}}}var ta={},nn=nr(ta),Di=nr(ta),Ti=nr(ta);function xr(e){if(e===ta)throw Error(Y(174));return e}function fd(e,t){switch(Ne(Ti,t),Ne(Di,e),Ne(nn,ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iu(t,e)}Pe(nn),Ne(nn,t)}function Co(){Pe(nn),Pe(Di),Pe(Ti)}function ig(e){xr(Ti.current);var t=xr(nn.current),n=Iu(t,e.type);t!==n&&(Ne(Di,e),Ne(nn,n))}function hd(e){Di.current===e&&(Pe(nn),Pe(Di))}var Le=nr(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tu=[];function pd(){for(var e=0;e<tu.length;e++)tu[e]._workInProgressVersionPrimary=null;tu.length=0}var es=Nn.ReactCurrentDispatcher,nu=Nn.ReactCurrentBatchConfig,br=0,Ie=null,We=null,Ke=null,Ds=!1,hi=!1,Oi=0,yw=0;function Je(){throw Error(Y(321))}function md(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function gd(e,t,n,r,o,i){if(br=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?Sw:Ew,e=n(r,o),hi){i=0;do{if(hi=!1,Oi=0,25<=i)throw Error(Y(301));i+=1,Ke=We=null,t.updateQueue=null,es.current=Cw,e=n(r,o)}while(hi)}if(es.current=Ts,t=We!==null&&We.next!==null,br=0,Ke=We=Ie=null,Ds=!1,t)throw Error(Y(300));return e}function yd(){var e=Oi!==0;return Oi=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Dt(){if(We===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Ie.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(Y(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ri(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=Dt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=We,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,u=i;do{var c=u.lane;if((br&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Ie.lanes|=c,Pr|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=s,Ut(r,t.memoizedState)||(ut=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ie.lanes|=i,Pr|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ou(e){var t=Dt(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Ut(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ag(){}function sg(e,t){var n=Ie,r=Dt(),o=t(),i=!Ut(r.memoizedState,o);if(i&&(r.memoizedState=o,ut=!0),r=r.queue,vd(cg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Li(9,ug.bind(null,n,r,o,t),void 0,null),Xe===null)throw Error(Y(349));br&30||lg(n,t,o)}return o}function lg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ug(e,t,n,r){t.value=n,t.getSnapshot=r,dg(t)&&fg(e)}function cg(e,t,n){return n(function(){dg(t)&&fg(e)})}function dg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function fg(e){var t=Cn(e,1);t!==null&&Ht(t,e,1,-1)}function Yf(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=ww.bind(null,Ie,e),[t.memoizedState,e]}function Li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hg(){return Dt().memoizedState}function ts(e,t,n,r){var o=Gt();Ie.flags|=e,o.memoizedState=Li(1|t,n,void 0,r===void 0?null:r)}function il(e,t,n,r){var o=Dt();r=r===void 0?null:r;var i=void 0;if(We!==null){var a=We.memoizedState;if(i=a.destroy,r!==null&&md(r,a.deps)){o.memoizedState=Li(t,n,i,r);return}}Ie.flags|=e,o.memoizedState=Li(1|t,n,i,r)}function Kf(e,t){return ts(8390656,8,e,t)}function vd(e,t){return il(2048,8,e,t)}function pg(e,t){return il(4,2,e,t)}function mg(e,t){return il(4,4,e,t)}function gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yg(e,t,n){return n=n!=null?n.concat([e]):null,il(4,4,gg.bind(null,t,e),n)}function xd(){}function vg(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&md(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xg(e,t){var n=Dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&md(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wg(e,t,n){return br&21?(Ut(n,t)||(n=_m(),Ie.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n)}function vw(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=nu.transition;nu.transition={};try{e(!1),t()}finally{ke=n,nu.transition=r}}function Sg(){return Dt().memoizedState}function xw(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Eg(e))Cg(t,n);else if(n=rg(e,t,n,r),n!==null){var o=ot();Ht(n,e,r,o),kg(n,t,r)}}function ww(e,t,n){var r=Gn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eg(e))Cg(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Ut(s,a)){var l=t.interleaved;l===null?(o.next=o,cd(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=rg(e,t,o,r),n!==null&&(o=ot(),Ht(n,e,r,o),kg(n,t,r))}}function Eg(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Cg(e,t){hi=Ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gc(e,n)}}var Ts={readContext:Pt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Sw={readContext:Pt,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Kf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,gg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xw.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Yf,useDebugValue:xd,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Yf(!1),t=e[0];return e=vw.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,o=Gt();if(Oe){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Xe===null)throw Error(Y(349));br&30||lg(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Kf(cg.bind(null,r,i,e),[e]),r.flags|=2048,Li(9,ug.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Xe.identifierPrefix;if(Oe){var n=gn,r=mn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ew={readContext:Pt,useCallback:vg,useContext:Pt,useEffect:vd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:xg,useReducer:ru,useRef:hg,useState:function(){return ru(Ri)},useDebugValue:xd,useDeferredValue:function(e){var t=Dt();return wg(t,We.memoizedState,e)},useTransition:function(){var e=ru(Ri)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:sg,useId:Sg,unstable_isNewReconciler:!1},Cw={readContext:Pt,useCallback:vg,useContext:Pt,useEffect:vd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:xg,useReducer:ou,useRef:hg,useState:function(){return ou(Ri)},useDebugValue:xd,useDeferredValue:function(e){var t=Dt();return We===null?t.memoizedState=e:wg(t,We.memoizedState,e)},useTransition:function(){var e=ou(Ri)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:sg,useId:Sg,unstable_isNewReconciler:!1};function It(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),o=Gn(e),i=vn(r,o);i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,o),t!==null&&(Ht(t,e,o,r),qa(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),o=Gn(e),i=vn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,o),t!==null&&(Ht(t,e,o,r),qa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Gn(e),o=vn(n,r);o.tag=2,t!=null&&(o.callback=t),t=Xn(e,o,r),t!==null&&(Ht(t,e,r,n),qa(t,e,r))}};function Xf(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ni(n,r)||!Ni(o,i):!0}function _g(e,t,n){var r=!1,o=qn,i=t.contextType;return typeof i=="object"&&i!==null?i=Pt(i):(o=ft(t)?Nr:tt.current,r=t.contextTypes,i=(r=r!=null)?wo(e,o):qn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function rc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},dd(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Pt(i):(i=ft(t)?Nr:tt.current,o.context=wo(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nc(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&al.enqueueReplaceState(o,o.state,null),bs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ko(e,t){try{var n="",r=t;do n+=Zv(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function iu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kw=typeof WeakMap=="function"?WeakMap:Map;function Ng(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,pc=r),oc(e,t)},n}function Mg(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){oc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oc(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Gf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zw.bind(null,e,t,n),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var _w=Nn.ReactCurrentOwner,ut=!1;function rt(e,t,n,r){t.child=e===null?ng(t,null,n,r):Eo(t,e.child,n,r)}function qf(e,t,n,r,o){n=n.render;var i=t.ref;return mo(t,o),r=gd(e,t,n,r,i,o),n=yd(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kn(e,t,o)):(Oe&&n&&od(t),t.flags|=1,rt(e,t,r,o),t.child)}function eh(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Md(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,bg(e,t,i,r,o)):(e=is(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ni,n(a,r)&&e.ref===t.ref)return kn(e,t,o)}return t.flags|=1,e=Zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function bg(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ni(i,r)&&e.ref===t.ref)if(ut=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,kn(e,t,o)}return ic(e,t,n,r,o)}function Pg(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(so,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(so,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(so,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ne(so,pt),pt|=r;return rt(e,t,o,n),t.child}function Dg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ic(e,t,n,r,o){var i=ft(n)?Nr:tt.current;return i=wo(t,i),mo(t,o),n=gd(e,t,n,r,i,o),r=yd(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kn(e,t,o)):(Oe&&r&&od(t),t.flags|=1,rt(e,t,n,o),t.child)}function th(e,t,n,r,o){if(ft(n)){var i=!0;Cs(t)}else i=!1;if(mo(t,o),t.stateNode===null)ns(e,t),_g(t,n,r),rc(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ft(n)?Nr:tt.current,u=wo(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Qf(t,a,r,u),An=!1;var d=t.memoizedState;a.state=d,bs(t,r,a,o),l=t.memoizedState,s!==r||d!==l||dt.current||An?(typeof c=="function"&&(nc(t,n,c,r),l=t.memoizedState),(s=An||Xf(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,og(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:It(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pt(l):(l=ft(n)?Nr:tt.current,l=wo(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&Qf(t,a,r,l),An=!1,d=t.memoizedState,a.state=d,bs(t,r,a,o);var v=t.memoizedState;s!==f||d!==v||dt.current||An?(typeof h=="function"&&(nc(t,n,h,r),v=t.memoizedState),(u=An||Xf(t,n,u,r,d,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ac(e,t,n,r,i,o)}function ac(e,t,n,r,o,i){Dg(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&$f(t,n,!1),kn(e,t,i);r=t.stateNode,_w.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Eo(t,e.child,null,i),t.child=Eo(t,null,s,i)):rt(e,t,s,i),t.memoizedState=r.state,o&&$f(t,n,!0),t.child}function Tg(e){var t=e.stateNode;t.pendingContext?Ff(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ff(e,t.context,!1),fd(e,t.containerInfo)}function nh(e,t,n,r,o){return So(),ad(o),t.flags|=256,rt(e,t,n,r),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,n){var r=t.pendingProps,o=Le.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ne(Le,o&1),e===null)return ec(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ul(a,r,0,null),e=Cr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lc(n),t.memoizedState=sc,e):wd(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return Nw(e,t,a,r,s,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Zn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=Zn(s,i):(i=Cr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?lc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=sc,r}return i=e.child,e=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wd(e,t){return t=ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&ad(r),Eo(t,e.child,null,n),e=wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nw(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=iu(Error(Y(422))),Oa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ul({mode:"visible",children:r.children},o,0,null),i=Cr(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Eo(t,e.child,null,a),t.child.memoizedState=lc(a),t.memoizedState=sc,i);if(!(t.mode&1))return Oa(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Y(419)),r=iu(i,r,void 0),Oa(e,t,a,r)}if(s=(a&e.childLanes)!==0,ut||s){if(r=Xe,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Cn(e,o),Ht(r,e,o,-1))}return Nd(),r=iu(Error(Y(421))),Oa(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Fw.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,yt=Kn(o.nextSibling),vt=t,Oe=!0,Ft=null,e!==null&&(_t[Nt++]=mn,_t[Nt++]=gn,_t[Nt++]=Mr,mn=e.id,gn=e.overflow,Mr=t),t=wd(t,r.children),t.flags|=4096,t)}function rh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tc(e.return,t,n)}function au(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Rg(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(rt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,n,t);else if(e.tag===19)rh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ps(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),au(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ps(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}au(t,!0,n,null,i);break;case"together":au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mw(e,t,n){switch(t.tag){case 3:Tg(t),So();break;case 5:ig(t);break;case 1:ft(t.type)&&Cs(t);break;case 4:fd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ne(Ns,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?Og(e,t,n):(Ne(Le,Le.current&1),e=kn(e,t,n),e!==null?e.sibling:null);Ne(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rg(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Pg(e,t,n)}return kn(e,t,n)}var Lg,uc,Ig,Ag;Lg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};Ig=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,xr(nn.current);var i=null;switch(n){case"input":o=Tu(e,o),r=Tu(e,r),i=[];break;case"select":o=Ae({},o,{value:void 0}),r=Ae({},r,{value:void 0}),i=[];break;case"textarea":o=Lu(e,o),r=Lu(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ss)}Au(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ag=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bw(e,t,n){var r=t.pendingProps;switch(id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ft(t.type)&&Es(),qe(t),null;case 3:return r=t.stateNode,Co(),Pe(dt),Pe(tt),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(yc(Ft),Ft=null))),uc(e,t),qe(t),null;case 5:hd(t);var o=xr(Ti.current);if(n=t.type,e!==null&&t.stateNode!=null)Ig(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return qe(t),null}if(e=xr(nn.current),Da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jt]=t,r[Pi]=i,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(o=0;o<oi.length;o++)be(oi[o],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":ff(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":pf(r,i),be("invalid",r)}Au(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Pa(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Pa(r.textContent,s,e),o=["children",""+s]):xi.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&be("scroll",r)}switch(n){case"input":Sa(r),hf(r,i,!0);break;case"textarea":Sa(r),mf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ss)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Jt]=t,e[Pi]=r,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(a=ju(n,r),n){case"dialog":be("cancel",e),be("close",e),o=r;break;case"iframe":case"object":case"embed":be("load",e),o=r;break;case"video":case"audio":for(o=0;o<oi.length;o++)be(oi[o],e);o=r;break;case"source":be("error",e),o=r;break;case"img":case"image":case"link":be("error",e),be("load",e),o=r;break;case"details":be("toggle",e),o=r;break;case"input":ff(e,r),o=Tu(e,r),be("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ae({},r,{value:void 0}),be("invalid",e);break;case"textarea":pf(e,r),o=Lu(e,r),be("invalid",e);break;default:o=r}Au(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?hm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wi(e,l):typeof l=="number"&&wi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&be("scroll",e):l!=null&&Uc(e,i,l,a))}switch(n){case"input":Sa(e),hf(e,r,!1);break;case"textarea":Sa(e),mf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?co(e,!!r.multiple,i,!1):r.defaultValue!=null&&co(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Ag(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=xr(Ti.current),xr(nn.current),Da(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(i=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Pa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return qe(t),null;case 13:if(Pe(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&yt!==null&&t.mode&1&&!(t.flags&128))eg(),So(),t.flags|=98560,i=!1;else if(i=Da(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Jt]=t}else So(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Ft!==null&&(yc(Ft),Ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ye===0&&(Ye=3):Nd())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Co(),uc(e,t),e===null&&Mi(t.stateNode.containerInfo),qe(t),null;case 10:return ud(t.type._context),qe(t),null;case 17:return ft(t.type)&&Es(),qe(t),null;case 19:if(Pe(Le),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Xo(i,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ps(e),a!==null){for(t.flags|=128,Xo(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>_o&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ps(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Oe)return qe(t),null}else 2*$e()-i.renderingStartTime>_o&&n!==1073741824&&(t.flags|=128,r=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=Le.current,Ne(Le,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return _d(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function Pw(e,t){switch(id(t),t.tag){case 1:return ft(t.type)&&Es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Co(),Pe(dt),Pe(tt),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hd(t),null;case 13:if(Pe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));So()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Le),null;case 4:return Co(),null;case 10:return ud(t.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var Ra=!1,et=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,te=null;function ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function cc(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var oh=!1;function Tw(e,t){if(Ku=vs,e=Bm(),rd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(s=a+o),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===o&&(s=a),d===i&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xu={focusedElem:e,selectionRange:n},vs=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:It(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(w){Fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=oh,oh=!1,v}function pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&cc(t,n,i)}o=o.next}while(o!==r)}}function sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jg(e){var t=e.alternate;t!==null&&(e.alternate=null,jg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Pi],delete t[Zu],delete t[hw],delete t[pw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zg(e){return e.tag===5||e.tag===3||e.tag===4}function ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(r!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}function hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}var Qe=null,At=!1;function Tn(e,t,n){for(n=n.child;n!==null;)Fg(e,t,n),n=n.sibling}function Fg(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(qs,n)}catch{}switch(n.tag){case 5:et||ao(n,t);case 6:var r=Qe,o=At;Qe=null,Tn(e,t,n),Qe=r,At=o,Qe!==null&&(At?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(At?(e=Qe,n=n.stateNode,e.nodeType===8?ql(e.parentNode,n):e.nodeType===1&&ql(e,n),ki(e)):ql(Qe,n.stateNode));break;case 4:r=Qe,o=At,Qe=n.stateNode.containerInfo,At=!0,Tn(e,t,n),Qe=r,At=o;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cc(n,t,a),o=o.next}while(o!==r)}Tn(e,t,n);break;case 1:if(!et&&(ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Fe(n,t,s)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Tn(e,t,n),et=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dw),t.forEach(function(r){var o=$w.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qe=s.stateNode,At=!1;break e;case 3:Qe=s.stateNode.containerInfo,At=!0;break e;case 4:Qe=s.stateNode.containerInfo,At=!0;break e}s=s.return}if(Qe===null)throw Error(Y(160));Fg(i,a,o),Qe=null,At=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){Fe(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$g(t,e),t=t.sibling}function $g(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Qt(e),r&4){try{pi(3,e,e.return),sl(3,e)}catch(y){Fe(e,e.return,y)}try{pi(5,e,e.return)}catch(y){Fe(e,e.return,y)}}break;case 1:Lt(t,e),Qt(e),r&512&&n!==null&&ao(n,n.return);break;case 5:if(Lt(t,e),Qt(e),r&512&&n!==null&&ao(n,n.return),e.flags&32){var o=e.stateNode;try{wi(o,"")}catch(y){Fe(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&lm(o,i),ju(s,a);var u=ju(s,i);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?hm(o,f):c==="dangerouslySetInnerHTML"?dm(o,f):c==="children"?wi(o,f):Uc(o,c,f,u)}switch(s){case"input":Ou(o,i);break;case"textarea":um(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?co(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?co(o,!!i.multiple,i.defaultValue,!0):co(o,!!i.multiple,i.multiple?[]:"",!1))}o[Pi]=i}catch(y){Fe(e,e.return,y)}}break;case 6:if(Lt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(Y(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Fe(e,e.return,y)}}break;case 3:if(Lt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(y){Fe(e,e.return,y)}break;case 4:Lt(t,e),Qt(e);break;case 13:Lt(t,e),Qt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Cd=$e())),r&4&&ah(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||c,Lt(t,e),et=u):Lt(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(f=te=c;te!==null;){switch(d=te,h=d.child,d.tag){case 0:case 11:case 14:case 15:pi(4,d,d.return);break;case 1:ao(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Fe(r,n,y)}}break;case 5:ao(d,d.return);break;case 22:if(d.memoizedState!==null){lh(f);continue}}h!==null?(h.return=d,te=h):lh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=fm("display",a))}catch(y){Fe(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Fe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Qt(e),r&4&&ah(e);break;case 21:break;default:Lt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zg(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(wi(o,""),r.flags&=-33);var i=ih(e);hc(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ih(e);fc(e,s,a);break;default:throw Error(Y(161))}}catch(l){Fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ow(e,t,n){te=e,Bg(e)}function Bg(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var o=te,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||Ra;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||et;s=Ra;var u=et;if(Ra=a,(et=l)&&!u)for(te=o;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?uh(o):l!==null?(l.return=a,te=l):uh(o);for(;i!==null;)te=i,Bg(i),i=i.sibling;te=o,Ra=s,et=u}sh(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,te=i):sh(e)}}function sh(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:It(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wf(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wf(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ki(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}et||t.flags&512&&dc(t)}catch(d){Fe(t,t.return,d)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function lh(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function uh(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Fe(t,o,l)}}var i=t.return;try{dc(t)}catch(l){Fe(t,i,l)}break;case 5:var a=t.return;try{dc(t)}catch(l){Fe(t,a,l)}}}catch(l){Fe(t,t.return,l)}if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}var Rw=Math.ceil,Os=Nn.ReactCurrentDispatcher,Sd=Nn.ReactCurrentOwner,bt=Nn.ReactCurrentBatchConfig,Se=0,Xe=null,Ve=null,Ge=0,pt=0,so=nr(0),Ye=0,Ii=null,Pr=0,ll=0,Ed=0,mi=null,lt=null,Cd=0,_o=1/0,hn=null,Rs=!1,pc=null,Qn=null,La=!1,Vn=null,Ls=0,gi=0,mc=null,rs=-1,os=0;function ot(){return Se&6?$e():rs!==-1?rs:rs=$e()}function Gn(e){return e.mode&1?Se&2&&Ge!==0?Ge&-Ge:gw.transition!==null?(os===0&&(os=_m()),os):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Om(e.type)),e):1}function Ht(e,t,n,r){if(50<gi)throw gi=0,mc=null,Error(Y(185));Ji(e,n,r),(!(Se&2)||e!==Xe)&&(e===Xe&&(!(Se&2)&&(ll|=n),Ye===4&&Fn(e,Ge)),ht(e,r),n===1&&Se===0&&!(t.mode&1)&&(_o=$e()+500,ol&&rr()))}function ht(e,t){var n=e.callbackNode;gx(e,t);var r=ys(e,e===Xe?Ge:0);if(r===0)n!==null&&vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vf(n),t===1)e.tag===0?mw(ch.bind(null,e)):Zm(ch.bind(null,e)),dw(function(){!(Se&6)&&rr()}),n=null;else{switch(Nm(r)){case 1:n=Qc;break;case 4:n=Cm;break;case 16:n=gs;break;case 536870912:n=km;break;default:n=gs}n=Qg(n,Vg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vg(e,t){if(rs=-1,os=0,Se&6)throw Error(Y(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var r=ys(e,e===Xe?Ge:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Is(e,r);else{t=r;var o=Se;Se|=2;var i=Ug();(Xe!==e||Ge!==t)&&(hn=null,_o=$e()+500,Er(e,t));do try{Aw();break}catch(s){Hg(e,s)}while(!0);ld(),Os.current=i,Se=o,Ve!==null?t=0:(Xe=null,Ge=0,t=Ye)}if(t!==0){if(t===2&&(o=Vu(e),o!==0&&(r=o,t=gc(e,o))),t===1)throw n=Ii,Er(e,0),Fn(e,r),ht(e,$e()),n;if(t===6)Fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Lw(o)&&(t=Is(e,r),t===2&&(i=Vu(e),i!==0&&(r=i,t=gc(e,i))),t===1))throw n=Ii,Er(e,0),Fn(e,r),ht(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:hr(e,lt,hn);break;case 3:if(Fn(e,r),(r&130023424)===r&&(t=Cd+500-$e(),10<t)){if(ys(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Gu(hr.bind(null,e,lt,hn),t);break}hr(e,lt,hn);break;case 4:if(Fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-Vt(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rw(r/1960))-r,10<r){e.timeoutHandle=Gu(hr.bind(null,e,lt,hn),r);break}hr(e,lt,hn);break;case 5:hr(e,lt,hn);break;default:throw Error(Y(329))}}}return ht(e,$e()),e.callbackNode===n?Vg.bind(null,e):null}function gc(e,t){var n=mi;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Is(e,t),e!==2&&(t=lt,lt=n,t!==null&&yc(t)),e}function yc(e){lt===null?lt=e:lt.push.apply(lt,e)}function Lw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ut(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~Ed,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function ch(e){if(Se&6)throw Error(Y(327));go();var t=ys(e,0);if(!(t&1))return ht(e,$e()),null;var n=Is(e,t);if(e.tag!==0&&n===2){var r=Vu(e);r!==0&&(t=r,n=gc(e,r))}if(n===1)throw n=Ii,Er(e,0),Fn(e,t),ht(e,$e()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,lt,hn),ht(e,$e()),null}function kd(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(_o=$e()+500,ol&&rr())}}function Dr(e){Vn!==null&&Vn.tag===0&&!(Se&6)&&go();var t=Se;Se|=1;var n=bt.transition,r=ke;try{if(bt.transition=null,ke=1,e)return e()}finally{ke=r,bt.transition=n,Se=t,!(Se&6)&&rr()}}function _d(){pt=so.current,Pe(so)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cw(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Es();break;case 3:Co(),Pe(dt),Pe(tt),pd();break;case 5:hd(r);break;case 4:Co();break;case 13:Pe(Le);break;case 19:Pe(Le);break;case 10:ud(r.type._context);break;case 22:case 23:_d()}n=n.return}if(Xe=e,Ve=e=Zn(e.current,null),Ge=pt=t,Ye=0,Ii=null,Ed=ll=Pr=0,lt=mi=null,vr!==null){for(t=0;t<vr.length;t++)if(n=vr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}vr=null}return e}function Hg(e,t){do{var n=Ve;try{if(ld(),es.current=Ts,Ds){for(var r=Ie.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ds=!1}if(br=0,Ke=We=Ie=null,hi=!1,Oi=0,Sd.current=null,n===null||n.return===null){Ye=1,Ii=t,Ve=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=Ge,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Zf(a);if(h!==null){h.flags&=-257,Jf(h,a,s,i,t),h.mode&1&&Gf(i,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Gf(i,u,t),Nd();break e}l=Error(Y(426))}}else if(Oe&&s.mode&1){var x=Zf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Jf(x,a,s,i,t),ad(ko(l,s));break e}}i=l=ko(l,s),Ye!==4&&(Ye=2),mi===null?mi=[i]:mi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ng(i,l,t);Uf(i,m);break e;case 1:s=l;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Qn===null||!Qn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Mg(i,s,t);Uf(i,w);break e}}i=i.return}while(i!==null)}Yg(n)}catch(k){t=k,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Ug(){var e=Os.current;return Os.current=Ts,e===null?Ts:e}function Nd(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Xe===null||!(Pr&268435455)&&!(ll&268435455)||Fn(Xe,Ge)}function Is(e,t){var n=Se;Se|=2;var r=Ug();(Xe!==e||Ge!==t)&&(hn=null,Er(e,t));do try{Iw();break}catch(o){Hg(e,o)}while(!0);if(ld(),Se=n,Os.current=r,Ve!==null)throw Error(Y(261));return Xe=null,Ge=0,Ye}function Iw(){for(;Ve!==null;)Wg(Ve)}function Aw(){for(;Ve!==null&&!sx();)Wg(Ve)}function Wg(e){var t=Xg(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Yg(e):Ve=t,Sd.current=null}function Yg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Pw(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,Ve=null;return}}else if(n=bw(n,t,pt),n!==null){Ve=n;return}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);Ye===0&&(Ye=5)}function hr(e,t,n){var r=ke,o=bt.transition;try{bt.transition=null,ke=1,jw(e,t,n,r)}finally{bt.transition=o,ke=r}return null}function jw(e,t,n,r){do go();while(Vn!==null);if(Se&6)throw Error(Y(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yx(e,i),e===Xe&&(Ve=Xe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,Qg(gs,function(){return go(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var a=ke;ke=1;var s=Se;Se|=4,Sd.current=null,Tw(e,n),$g(n,e),rw(Xu),vs=!!Ku,Xu=Ku=null,e.current=n,Ow(n),lx(),Se=s,ke=a,bt.transition=i}else e.current=n;if(La&&(La=!1,Vn=e,Ls=o),i=e.pendingLanes,i===0&&(Qn=null),dx(n.stateNode),ht(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Rs)throw Rs=!1,e=pc,pc=null,e;return Ls&1&&e.tag!==0&&go(),i=e.pendingLanes,i&1?e===mc?gi++:(gi=0,mc=e):gi=0,rr(),null}function go(){if(Vn!==null){var e=Nm(Ls),t=bt.transition,n=ke;try{if(bt.transition=null,ke=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,Ls=0,Se&6)throw Error(Y(331));var o=Se;for(Se|=4,te=e.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:pi(8,c,i)}var f=c.child;if(f!==null)f.return=c,te=f;else for(;te!==null;){c=te;var d=c.sibling,h=c.return;if(jg(c),c===u){te=null;break}if(d!==null){d.return=h,te=d;break}te=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,te=m;break e}te=i.return}}var g=e.current;for(te=g;te!==null;){a=te;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,te=p;else e:for(a=g;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:sl(9,s)}}catch(k){Fe(s,s.return,k)}if(s===a){te=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break e}te=s.return}}if(Se=o,rr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(qs,e)}catch{}r=!0}return r}finally{ke=n,bt.transition=t}}return!1}function dh(e,t,n){t=ko(n,t),t=Ng(e,t,1),e=Xn(e,t,1),t=ot(),e!==null&&(Ji(e,1,t),ht(e,t))}function Fe(e,t,n){if(e.tag===3)dh(e,e,n);else for(;t!==null;){if(t.tag===3){dh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=ko(n,e),e=Mg(t,e,1),t=Xn(t,e,1),e=ot(),t!==null&&(Ji(t,1,e),ht(t,e));break}}t=t.return}}function zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(Ge&n)===n&&(Ye===4||Ye===3&&(Ge&130023424)===Ge&&500>$e()-Cd?Er(e,0):Ed|=n),ht(e,t)}function Kg(e,t){t===0&&(e.mode&1?(t=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):t=1);var n=ot();e=Cn(e,t),e!==null&&(Ji(e,t,n),ht(e,n))}function Fw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kg(e,n)}function $w(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Kg(e,n)}var Xg;Xg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ut=!1,Mw(e,t,n);ut=!!(e.flags&131072)}else ut=!1,Oe&&t.flags&1048576&&Jm(t,_s,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var o=wo(t,tt.current);mo(t,n),o=gd(null,t,r,e,o,n);var i=yd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(r)?(i=!0,Cs(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,dd(t),o.updater=al,t.stateNode=o,o._reactInternals=t,rc(t,r,e,n),t=ac(null,t,r,!0,i,n)):(t.tag=0,Oe&&i&&od(t),rt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Vw(r),e=It(r,e),o){case 0:t=ic(null,t,r,e,n);break e;case 1:t=th(null,t,r,e,n);break e;case 11:t=qf(null,t,r,e,n);break e;case 14:t=eh(null,t,r,It(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),ic(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),th(e,t,r,o,n);case 3:e:{if(Tg(t),e===null)throw Error(Y(387));r=t.pendingProps,i=t.memoizedState,o=i.element,og(e,t),bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=ko(Error(Y(423)),t),t=nh(e,t,r,n,o);break e}else if(r!==o){o=ko(Error(Y(424)),t),t=nh(e,t,r,n,o);break e}else for(yt=Kn(t.stateNode.containerInfo.firstChild),vt=t,Oe=!0,Ft=null,n=ng(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===o){t=kn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return ig(t),e===null&&ec(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,Qu(r,o)?a=null:i!==null&&Qu(r,i)&&(t.flags|=32),Dg(e,t),rt(e,t,a,n),t.child;case 6:return e===null&&ec(t),null;case 13:return Og(e,t,n);case 4:return fd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Eo(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),qf(e,t,r,o,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Ne(Ns,r._currentValue),r._currentValue=a,i!==null)if(Ut(i.value,a)){if(i.children===o.children&&!dt.current){t=kn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=vn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tc(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),tc(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}rt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,mo(t,n),o=Pt(o),r=r(o),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,o=It(r,t.pendingProps),o=It(r.type,o),eh(e,t,r,o,n);case 15:return bg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:It(r,o),ns(e,t),t.tag=1,ft(r)?(e=!0,Cs(t)):e=!1,mo(t,n),_g(t,r,o),rc(t,r,o,n),ac(null,t,r,!0,e,n);case 19:return Rg(e,t,n);case 22:return Pg(e,t,n)}throw Error(Y(156,t.tag))};function Qg(e,t){return Em(e,t)}function Bw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new Bw(e,t,n,r)}function Md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vw(e){if(typeof e=="function")return Md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Kc)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function is(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")Md(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Zr:return Cr(n.children,o,i,t);case Wc:a=8,o|=8;break;case Mu:return e=Mt(12,n,t,o|2),e.elementType=Mu,e.lanes=i,e;case bu:return e=Mt(13,n,t,o),e.elementType=bu,e.lanes=i,e;case Pu:return e=Mt(19,n,t,o),e.elementType=Pu,e.lanes=i,e;case im:return ul(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rm:a=10;break e;case om:a=9;break e;case Yc:a=11;break e;case Kc:a=14;break e;case In:a=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Mt(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Cr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function ul(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=im,e.lanes=n,e.stateNode={isHidden:!1},e}function su(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function lu(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bd(e,t,n,r,o,i,a,s,l){return e=new Hw(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Mt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(i),e}function Uw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gg(e){if(!e)return qn;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(ft(n))return Gm(e,n,t)}return t}function Zg(e,t,n,r,o,i,a,s,l){return e=bd(n,r,!0,e,o,i,a,s,l),e.context=Gg(null),n=e.current,r=ot(),o=Gn(n),i=vn(r,o),i.callback=t??null,Xn(n,i,o),e.current.lanes=o,Ji(e,o,r),ht(e,r),e}function cl(e,t,n,r){var o=t.current,i=ot(),a=Gn(o);return n=Gg(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(o,t,a),e!==null&&(Ht(e,o,a,i),qa(e,o,a)),a}function As(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pd(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function Ww(){return null}var Jg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dd(e){this._internalRoot=e}dl.prototype.render=Dd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));cl(e,t,null,null)};dl.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){cl(null,e,null,null)}),t[En]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&Tm(e)}};function Td(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hh(){}function Yw(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=As(a);i.call(u)}}var a=Zg(t,r,e,0,null,!1,!1,"",hh);return e._reactRootContainer=a,e[En]=a.current,Mi(e.nodeType===8?e.parentNode:e),Dr(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var u=As(l);s.call(u)}}var l=bd(e,0,!1,null,null,!1,!1,"",hh);return e._reactRootContainer=l,e[En]=l.current,Mi(e.nodeType===8?e.parentNode:e),Dr(function(){cl(t,l,n,r)}),l}function hl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=As(a);s.call(l)}}cl(t,a,e,o)}else a=Yw(n,t,e,o,r);return As(a)}Mm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ri(t.pendingLanes);n!==0&&(Gc(t,n|1),ht(t,$e()),!(Se&6)&&(_o=$e()+500,rr()))}break;case 13:Dr(function(){var r=Cn(e,1);if(r!==null){var o=ot();Ht(r,e,1,o)}}),Pd(e,1)}};Zc=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=ot();Ht(t,e,134217728,n)}Pd(e,134217728)}};bm=function(e){if(e.tag===13){var t=Gn(e),n=Cn(e,t);if(n!==null){var r=ot();Ht(n,e,t,r)}Pd(e,t)}};Pm=function(){return ke};Dm=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};Fu=function(e,t,n){switch(t){case"input":if(Ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=rl(r);if(!o)throw Error(Y(90));sm(r),Ou(r,o)}}}break;case"textarea":um(e,n);break;case"select":t=n.value,t!=null&&co(e,!!n.multiple,t,!1)}};gm=kd;ym=Dr;var Kw={usingClientEntryPoint:!1,Events:[ea,to,rl,pm,mm,kd]},Qo={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xw={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wm(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||Ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{qs=Ia.inject(Xw),tn=Ia}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kw;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(t))throw Error(Y(200));return Uw(e,t,null,n)};St.createRoot=function(e,t){if(!Td(e))throw Error(Y(299));var n=!1,r="",o=Jg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,!1,r,o),e[En]=t.current,Mi(e.nodeType===8?e.parentNode:e),new Dd(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=wm(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Dr(e)};St.hydrate=function(e,t,n){if(!fl(t))throw Error(Y(200));return hl(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Td(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=Jg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Zg(t,null,e,1,n??null,o,!1,i,a),e[En]=t.current,Mi(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new dl(t)};St.render=function(e,t,n){if(!fl(t))throw Error(Y(200));return hl(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!fl(e))throw Error(Y(40));return e._reactRootContainer?(Dr(function(){hl(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};St.unstable_batchedUpdates=kd;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fl(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return hl(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qg)}catch(e){console.error(e)}}qg(),qp.exports=St;var Od=qp.exports;const Qw=jc(Od),Gw=Bp({__proto__:null,default:Qw},[Od]);var ey,ph=Od;ey=ph.createRoot,ph.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}var Be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Be||(Be={}));const mh="popstate";function Zw(e){e===void 0&&(e={});function t(r,o){let{pathname:i,search:a,hash:s}=r.location;return Ai("",{pathname:i,search:a,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Tr(o)}return qw(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function No(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jw(){return Math.random().toString(36).substr(2,8)}function gh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ai(e,t,n,r){return n===void 0&&(n=null),Te({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?or(t):t,{state:n,key:t&&t.key||r||Jw()})}function Tr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function or(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qw(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=Be.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Te({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=Be.Pop;let x=c(),m=x==null?null:x-u;u=x,l&&l({action:s,location:y.location,delta:m})}function d(x,m){s=Be.Push;let g=Ai(y.location,x,m);u=c()+1;let p=gh(g,u),w=y.createHref(g);try{a.pushState(p,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(w)}i&&l&&l({action:s,location:y.location,delta:1})}function h(x,m){s=Be.Replace;let g=Ai(y.location,x,m);u=c();let p=gh(g,u),w=y.createHref(g);a.replaceState(p,"",w),i&&l&&l({action:s,location:y.location,delta:0})}function v(x){let m=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof x=="string"?x:Tr(x);return g=g.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return s},get location(){return e(o,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(mh,f),l=x,()=>{o.removeEventListener(mh,f),l=null}},createHref(x){return t(o,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:h,go(x){return a.go(x)}};return y}var Ce;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ce||(Ce={}));const e1=new Set(["lazy","caseSensitive","path","id","index","children"]);function t1(e){return e.index===!0}function js(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let a=[...n,String(i)],s=typeof o.id=="string"?o.id:a.join("-");if(ge(o.index!==!0||!o.children,"Cannot specify children on an index route"),ge(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),t1(o)){let l=Te({},o,t(o),{id:s});return r[s]=l,l}else{let l=Te({},o,t(o),{id:s,children:void 0});return r[s]=l,o.children&&(l.children=js(o.children,t,a,r)),l}})}function mr(e,t,n){return n===void 0&&(n="/"),as(e,t,n,!1)}function as(e,t,n,r){let o=typeof t=="string"?or(t):t,i=zo(o.pathname||"/",n);if(i==null)return null;let a=ty(e);r1(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=p1(i);s=f1(a[l],u,r)}return s}function n1(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function ty(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xn([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ty(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:c1(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,a);else for(let l of ny(i.path))o(i,a,l)}),t}function ny(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=ny(r.join("/")),s=[];return s.push(...a.map(l=>l===""?i:[i,l].join("/"))),o&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function r1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o1=/^:[\w-]+$/,i1=3,a1=2,s1=1,l1=10,u1=-2,yh=e=>e==="*";function c1(e,t){let n=e.split("/"),r=n.length;return n.some(yh)&&(r+=u1),t&&(r+=a1),n.filter(o=>!yh(o)).reduce((o,i)=>o+(o1.test(i)?i1:i===""?s1:l1),r)}function d1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function f1(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=vh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(o,f.params),a.push({params:o,pathname:xn([i,f.pathname]),pathnameBase:y1(xn([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=xn([i,f.pathnameBase]))}return a}function vh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=h1(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let y=s[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function h1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),No(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function p1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return No(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function m1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?or(e):e;return{pathname:n?n.startsWith("/")?n:g1(n,t):t,search:v1(r),hash:x1(o)}}function g1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function uu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ry(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rd(e,t){let n=ry(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ld(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=or(e):(o=Te({},e),ge(!o.pathname||!o.pathname.includes("?"),uu("?","pathname","search",o)),ge(!o.pathname||!o.pathname.includes("#"),uu("#","pathname","hash",o)),ge(!o.search||!o.search.includes("#"),uu("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=m1(o,s),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const xn=e=>e.join("/").replace(/\/\/+/g,"/"),y1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class zs{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ji(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oy=["post","put","patch","delete"],w1=new Set(oy),S1=["get",...oy],E1=new Set(S1),C1=new Set([301,302,303,307,308]),k1=new Set([307,308]),cu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Go={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Id=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N1=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),iy="remix-router-transitions";function M1(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ge(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let D=e.detectErrorBoundary;o=A=>({hasErrorBoundary:D(A)})}else o=N1;let i={},a=js(e.routes,o,void 0,i),s,l=e.basename||"/",u=e.dataStrategy||T1,c=e.patchRoutesOnNavigation,f=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,h=new Set,v=null,y=null,x=null,m=e.hydrationData!=null,g=mr(a,e.history.location,l),p=!1,w=null;if(g==null&&!c){let D=st(404,{pathname:e.history.location.pathname}),{matches:A,route:V}=Ph(a);g=A,w={[V.id]:D}}g&&!e.hydrationData&&Hr(g,a,e.history.location.pathname).active&&(g=null);let k;if(g)if(g.some(D=>D.route.lazy))k=!1;else if(!g.some(D=>D.route.loader))k=!0;else if(f.v7_partialHydration){let D=e.hydrationData?e.hydrationData.loaderData:null,A=e.hydrationData?e.hydrationData.errors:null;if(A){let V=g.findIndex(W=>A[W.route.id]!==void 0);k=g.slice(0,V+1).every(W=>!xc(W.route,D,A))}else k=g.every(V=>!xc(V.route,D,A))}else k=e.hydrationData!=null;else if(k=!1,g=[],f.v7_partialHydration){let D=Hr(null,a,e.history.location.pathname);D.active&&D.matches&&(p=!0,g=D.matches)}let M,S={historyAction:e.history.action,location:e.history.location,matches:g,initialized:k,navigation:cu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},N=Be.Pop,L=!1,j,H=!1,z=new Map,B=null,C=!1,T=!1,O=[],R=new Set,P=new Map,b=0,I=-1,F=new Map,U=new Set,K=new Map,X=new Map,q=new Set,re=new Map,G=new Map,$;function Z(){if(d=e.history.listen(D=>{let{action:A,location:V,delta:W}=D;if($){$(),$=void 0;return}No(G.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=ha({currentLocation:S.location,nextLocation:V,historyAction:A});if(Q&&W!=null){let se=new Promise(de=>{$=de});e.history.go(W*-1),Vr(Q,{state:"blocked",location:V,proceed(){Vr(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),se.then(()=>e.history.go(W))},reset(){let de=new Map(S.blockers);de.set(Q,Go),J({blockers:de})}});return}return ye(A,V)}),n){W1(t,z);let D=()=>Y1(t,z);t.addEventListener("pagehide",D),B=()=>t.removeEventListener("pagehide",D)}return S.initialized||ye(Be.Pop,S.location,{initialHydration:!0}),M}function ce(){d&&d(),B&&B(),h.clear(),j&&j.abort(),S.fetchers.forEach((D,A)=>Br(A)),S.blockers.forEach((D,A)=>fa(A))}function fe(D){return h.add(D),()=>h.delete(D)}function J(D,A){A===void 0&&(A={}),S=Te({},S,D);let V=[],W=[];f.v7_fetcherPersist&&S.fetchers.forEach((Q,se)=>{Q.state==="idle"&&(q.has(se)?W.push(se):V.push(se))}),q.forEach(Q=>{!S.fetchers.has(Q)&&!P.has(Q)&&W.push(Q)}),[...h].forEach(Q=>Q(S,{deletedFetchers:W,viewTransitionOpts:A.viewTransitionOpts,flushSync:A.flushSync===!0})),f.v7_fetcherPersist?(V.forEach(Q=>S.fetchers.delete(Q)),W.forEach(Q=>Br(Q))):W.forEach(Q=>q.delete(Q))}function ie(D,A,V){var W,Q;let{flushSync:se}=V===void 0?{}:V,de=S.actionData!=null&&S.navigation.formMethod!=null&&jt(S.navigation.formMethod)&&S.navigation.state==="loading"&&((W=D.state)==null?void 0:W._isRedirect)!==!0,ne;A.actionData?Object.keys(A.actionData).length>0?ne=A.actionData:ne=null:de?ne=S.actionData:ne=null;let oe=A.loaderData?Mh(S.loaderData,A.loaderData,A.matches||[],A.errors):S.loaderData,ee=S.blockers;ee.size>0&&(ee=new Map(ee),ee.forEach((pe,Ue)=>ee.set(Ue,Go)));let ae=L===!0||S.navigation.formMethod!=null&&jt(S.navigation.formMethod)&&((Q=D.state)==null?void 0:Q._isRedirect)!==!0;s&&(a=s,s=void 0),C||N===Be.Pop||(N===Be.Push?e.history.push(D,D.state):N===Be.Replace&&e.history.replace(D,D.state));let he;if(N===Be.Pop){let pe=z.get(S.location.pathname);pe&&pe.has(D.pathname)?he={currentLocation:S.location,nextLocation:D}:z.has(D.pathname)&&(he={currentLocation:D,nextLocation:S.location})}else if(H){let pe=z.get(S.location.pathname);pe?pe.add(D.pathname):(pe=new Set([D.pathname]),z.set(S.location.pathname,pe)),he={currentLocation:S.location,nextLocation:D}}J(Te({},A,{actionData:ne,loaderData:oe,historyAction:N,location:D,initialized:!0,navigation:cu,revalidation:"idle",restoreScrollPosition:ga(D,A.matches||S.matches),preventScrollReset:ae,blockers:ee}),{viewTransitionOpts:he,flushSync:se===!0}),N=Be.Pop,L=!1,H=!1,C=!1,T=!1,O=[]}async function ue(D,A){if(typeof D=="number"){e.history.go(D);return}let V=vc(S.location,S.matches,l,f.v7_prependBasename,D,f.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:W,submission:Q,error:se}=xh(f.v7_normalizeFormMethod,!1,V,A),de=S.location,ne=Ai(S.location,W,A&&A.state);ne=Te({},ne,e.history.encodeLocation(ne));let oe=A&&A.replace!=null?A.replace:void 0,ee=Be.Push;oe===!0?ee=Be.Replace:oe===!1||Q!=null&&jt(Q.formMethod)&&Q.formAction===S.location.pathname+S.location.search&&(ee=Be.Replace);let ae=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,he=(A&&A.flushSync)===!0,pe=ha({currentLocation:de,nextLocation:ne,historyAction:ee});if(pe){Vr(pe,{state:"blocked",location:ne,proceed(){Vr(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),ue(D,A)},reset(){let Ue=new Map(S.blockers);Ue.set(pe,Go),J({blockers:Ue})}});return}return await ye(ee,ne,{submission:Q,pendingError:se,preventScrollReset:ae,replace:A&&A.replace,enableViewTransition:A&&A.viewTransition,flushSync:he})}function Ee(){if(cn(),J({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){ye(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}ye(N||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:H===!0})}}async function ye(D,A,V){j&&j.abort(),j=null,N=D,C=(V&&V.startUninterruptedRevalidation)===!0,ma(S.location,S.matches),L=(V&&V.preventScrollReset)===!0,H=(V&&V.enableViewTransition)===!0;let W=s||a,Q=V&&V.overrideNavigation,se=V!=null&&V.initialHydration&&S.matches&&S.matches.length>0&&!p?S.matches:mr(W,A,l),de=(V&&V.flushSync)===!0;if(se&&S.initialized&&!T&&j1(S.location,A)&&!(V&&V.submission&&jt(V.submission.formMethod))){ie(A,{matches:se},{flushSync:de});return}let ne=Hr(se,W,A.pathname);if(ne.active&&ne.matches&&(se=ne.matches),!se){let{error:_e,notFoundMatches:we,route:De}=Fo(A.pathname);ie(A,{matches:we,loaderData:{},errors:{[De.id]:_e}},{flushSync:de});return}j=new AbortController;let oe=Xr(e.history,A,j.signal,V&&V.submission),ee;if(V&&V.pendingError)ee=[gr(se).route.id,{type:Ce.error,error:V.pendingError}];else if(V&&V.submission&&jt(V.submission.formMethod)){let _e=await nt(oe,A,V.submission,se,ne.active,{replace:V.replace,flushSync:de});if(_e.shortCircuited)return;if(_e.pendingActionResult){let[we,De]=_e.pendingActionResult;if(mt(De)&&ji(De.error)&&De.error.status===404){j=null,ie(A,{matches:_e.matches,loaderData:{},errors:{[we]:De.error}});return}}se=_e.matches||se,ee=_e.pendingActionResult,Q=du(A,V.submission),de=!1,ne.active=!1,oe=Xr(e.history,oe.url,oe.signal)}let{shortCircuited:ae,matches:he,loaderData:pe,errors:Ue}=await Yt(oe,A,se,ne.active,Q,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,de,ee);ae||(j=null,ie(A,Te({matches:he||se},bh(ee),{loaderData:pe,errors:Ue})))}async function nt(D,A,V,W,Q,se){se===void 0&&(se={}),cn();let de=H1(A,V);if(J({navigation:de},{flushSync:se.flushSync===!0}),Q){let ee=await Ur(W,A.pathname,D.signal);if(ee.type==="aborted")return{shortCircuited:!0};if(ee.type==="error"){let ae=gr(ee.partialMatches).route.id;return{matches:ee.partialMatches,pendingActionResult:[ae,{type:Ce.error,error:ee.error}]}}else if(ee.matches)W=ee.matches;else{let{notFoundMatches:ae,error:he,route:pe}=Fo(A.pathname);return{matches:ae,pendingActionResult:[pe.id,{type:Ce.error,error:he}]}}}let ne,oe=ii(W,A);if(!oe.route.action&&!oe.route.lazy)ne={type:Ce.error,error:st(405,{method:D.method,pathname:A.pathname,routeId:oe.route.id})};else if(ne=(await Kt("action",S,D,[oe],W,null))[oe.route.id],D.signal.aborted)return{shortCircuited:!0};if(wr(ne)){let ee;return se&&se.replace!=null?ee=se.replace:ee=kh(ne.response.headers.get("Location"),new URL(D.url),l)===S.location.pathname+S.location.search,await Tt(D,ne,!0,{submission:V,replace:ee}),{shortCircuited:!0}}if(Hn(ne))throw st(400,{type:"defer-action"});if(mt(ne)){let ee=gr(W,oe.route.id);return(se&&se.replace)!==!0&&(N=Be.Push),{matches:W,pendingActionResult:[ee.route.id,ne]}}return{matches:W,pendingActionResult:[oe.route.id,ne]}}async function Yt(D,A,V,W,Q,se,de,ne,oe,ee,ae){let he=Q||du(A,se),pe=se||de||Th(he),Ue=!C&&(!f.v7_partialHydration||!oe);if(W){if(Ue){let Me=ln(ae);J(Te({navigation:he},Me!==void 0?{actionData:Me}:{}),{flushSync:ee})}let ve=await Ur(V,A.pathname,D.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let Me=gr(ve.partialMatches).route.id;return{matches:ve.partialMatches,loaderData:{},errors:{[Me]:ve.error}}}else if(ve.matches)V=ve.matches;else{let{error:Me,notFoundMatches:Pn,route:dr}=Fo(A.pathname);return{matches:Pn,loaderData:{},errors:{[dr.id]:Me}}}}let _e=s||a,[we,De]=Sh(e.history,S,V,pe,A,f.v7_partialHydration&&oe===!0,f.v7_skipActionErrorRevalidation,T,O,R,q,K,U,_e,l,ae);if($o(ve=>!(V&&V.some(Me=>Me.route.id===ve))||we&&we.some(Me=>Me.route.id===ve)),I=++b,we.length===0&&De.length===0){let ve=ca();return ie(A,Te({matches:V,loaderData:{},errors:ae&&mt(ae[1])?{[ae[0]]:ae[1].error}:null},bh(ae),ve?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(Ue){let ve={};if(!W){ve.navigation=he;let Me=ln(ae);Me!==void 0&&(ve.actionData=Me)}De.length>0&&(ve.fetchers=ir(De)),J(ve,{flushSync:ee})}De.forEach(ve=>{Xt(ve.key),ve.controller&&P.set(ve.key,ve.controller)});let bn=()=>De.forEach(ve=>Xt(ve.key));j&&j.signal.addEventListener("abort",bn);let{loaderResults:ur,fetcherResults:Ct}=await un(S,V,we,De,D);if(D.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",bn),De.forEach(ve=>P.delete(ve.key));let kt=Aa(ur);if(kt)return await Tt(D,kt.result,!0,{replace:ne}),{shortCircuited:!0};if(kt=Aa(Ct),kt)return U.add(kt.key),await Tt(D,kt.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:Bo,errors:cr}=Nh(S,V,ur,ae,De,Ct,re);re.forEach((ve,Me)=>{ve.subscribe(Pn=>{(Pn||ve.done)&&re.delete(Me)})}),f.v7_partialHydration&&oe&&S.errors&&(cr=Te({},S.errors,cr));let dn=ca(),Wr=da(I),Yr=dn||Wr||De.length>0;return Te({matches:V,loaderData:Bo,errors:cr},Yr?{fetchers:new Map(S.fetchers)}:{})}function ln(D){if(D&&!mt(D[1]))return{[D[0]]:D[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function ir(D){return D.forEach(A=>{let V=S.fetchers.get(A.key),W=Zo(void 0,V?V.data:void 0);S.fetchers.set(A.key,W)}),new Map(S.fetchers)}function ar(D,A,V,W){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Xt(D);let Q=(W&&W.flushSync)===!0,se=s||a,de=vc(S.location,S.matches,l,f.v7_prependBasename,V,f.v7_relativeSplatPath,A,W==null?void 0:W.relative),ne=mr(se,de,l),oe=Hr(ne,se,de);if(oe.active&&oe.matches&&(ne=oe.matches),!ne){Rt(D,A,st(404,{pathname:de}),{flushSync:Q});return}let{path:ee,submission:ae,error:he}=xh(f.v7_normalizeFormMethod,!0,de,W);if(he){Rt(D,A,he,{flushSync:Q});return}let pe=ii(ne,ee),Ue=(W&&W.preventScrollReset)===!0;if(ae&&jt(ae.formMethod)){sr(D,A,ee,pe,ne,oe.active,Q,Ue,ae);return}K.set(D,{routeId:A,path:ee}),lr(D,A,ee,pe,ne,oe.active,Q,Ue,ae)}async function sr(D,A,V,W,Q,se,de,ne,oe){cn(),K.delete(D);function ee(ze){if(!ze.route.action&&!ze.route.lazy){let Dn=st(405,{method:oe.formMethod,pathname:V,routeId:A});return Rt(D,A,Dn,{flushSync:de}),!0}return!1}if(!se&&ee(W))return;let ae=S.fetchers.get(D);Ot(D,U1(oe,ae),{flushSync:de});let he=new AbortController,pe=Xr(e.history,V,he.signal,oe);if(se){let ze=await Ur(Q,new URL(pe.url).pathname,pe.signal,D);if(ze.type==="aborted")return;if(ze.type==="error"){Rt(D,A,ze.error,{flushSync:de});return}else if(ze.matches){if(Q=ze.matches,W=ii(Q,V),ee(W))return}else{Rt(D,A,st(404,{pathname:V}),{flushSync:de});return}}P.set(D,he);let Ue=b,we=(await Kt("action",S,pe,[W],Q,D))[W.route.id];if(pe.signal.aborted){P.get(D)===he&&P.delete(D);return}if(f.v7_fetcherPersist&&q.has(D)){if(wr(we)||mt(we)){Ot(D,Ln(void 0));return}}else{if(wr(we))if(P.delete(D),I>Ue){Ot(D,Ln(void 0));return}else return U.add(D),Ot(D,Zo(oe)),Tt(pe,we,!1,{fetcherSubmission:oe,preventScrollReset:ne});if(mt(we)){Rt(D,A,we.error);return}}if(Hn(we))throw st(400,{type:"defer-action"});let De=S.navigation.location||S.location,bn=Xr(e.history,De,he.signal),ur=s||a,Ct=S.navigation.state!=="idle"?mr(ur,S.navigation.location,l):S.matches;ge(Ct,"Didn't find any matches after fetcher action");let kt=++b;F.set(D,kt);let Bo=Zo(oe,we.data);S.fetchers.set(D,Bo);let[cr,dn]=Sh(e.history,S,Ct,oe,De,!1,f.v7_skipActionErrorRevalidation,T,O,R,q,K,U,ur,l,[W.route.id,we]);dn.filter(ze=>ze.key!==D).forEach(ze=>{let Dn=ze.key,ya=S.fetchers.get(Dn),Il=Zo(void 0,ya?ya.data:void 0);S.fetchers.set(Dn,Il),Xt(Dn),ze.controller&&P.set(Dn,ze.controller)}),J({fetchers:new Map(S.fetchers)});let Wr=()=>dn.forEach(ze=>Xt(ze.key));he.signal.addEventListener("abort",Wr);let{loaderResults:Yr,fetcherResults:ve}=await un(S,Ct,cr,dn,bn);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Wr),F.delete(D),P.delete(D),dn.forEach(ze=>P.delete(ze.key));let Me=Aa(Yr);if(Me)return Tt(bn,Me.result,!1,{preventScrollReset:ne});if(Me=Aa(ve),Me)return U.add(Me.key),Tt(bn,Me.result,!1,{preventScrollReset:ne});let{loaderData:Pn,errors:dr}=Nh(S,Ct,Yr,void 0,dn,ve,re);if(S.fetchers.has(D)){let ze=Ln(we.data);S.fetchers.set(D,ze)}da(kt),S.navigation.state==="loading"&&kt>I?(ge(N,"Expected pending action"),j&&j.abort(),ie(S.navigation.location,{matches:Ct,loaderData:Pn,errors:dr,fetchers:new Map(S.fetchers)})):(J({errors:dr,loaderData:Mh(S.loaderData,Pn,Ct,dr),fetchers:new Map(S.fetchers)}),T=!1)}async function lr(D,A,V,W,Q,se,de,ne,oe){let ee=S.fetchers.get(D);Ot(D,Zo(oe,ee?ee.data:void 0),{flushSync:de});let ae=new AbortController,he=Xr(e.history,V,ae.signal);if(se){let we=await Ur(Q,new URL(he.url).pathname,he.signal,D);if(we.type==="aborted")return;if(we.type==="error"){Rt(D,A,we.error,{flushSync:de});return}else if(we.matches)Q=we.matches,W=ii(Q,V);else{Rt(D,A,st(404,{pathname:V}),{flushSync:de});return}}P.set(D,ae);let pe=b,_e=(await Kt("loader",S,he,[W],Q,D))[W.route.id];if(Hn(_e)&&(_e=await Ad(_e,he.signal,!0)||_e),P.get(D)===ae&&P.delete(D),!he.signal.aborted){if(q.has(D)){Ot(D,Ln(void 0));return}if(wr(_e))if(I>pe){Ot(D,Ln(void 0));return}else{U.add(D),await Tt(he,_e,!1,{preventScrollReset:ne});return}if(mt(_e)){Rt(D,A,_e.error);return}ge(!Hn(_e),"Unhandled fetcher deferred data"),Ot(D,Ln(_e.data))}}async function Tt(D,A,V,W){let{submission:Q,fetcherSubmission:se,preventScrollReset:de,replace:ne}=W===void 0?{}:W;A.response.headers.has("X-Remix-Revalidate")&&(T=!0);let oe=A.response.headers.get("Location");ge(oe,"Expected a Location header on the redirect Response"),oe=kh(oe,new URL(D.url),l);let ee=Ai(S.location,oe,{_isRedirect:!0});if(n){let we=!1;if(A.response.headers.has("X-Remix-Reload-Document"))we=!0;else if(Id.test(oe)){const De=e.history.createURL(oe);we=De.origin!==t.location.origin||zo(De.pathname,l)==null}if(we){ne?t.location.replace(oe):t.location.assign(oe);return}}j=null;let ae=ne===!0||A.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:he,formAction:pe,formEncType:Ue}=S.navigation;!Q&&!se&&he&&pe&&Ue&&(Q=Th(S.navigation));let _e=Q||se;if(k1.has(A.response.status)&&_e&&jt(_e.formMethod))await ye(ae,ee,{submission:Te({},_e,{formAction:oe}),preventScrollReset:de||L,enableViewTransition:V?H:void 0});else{let we=du(ee,Q);await ye(ae,ee,{overrideNavigation:we,fetcherSubmission:se,preventScrollReset:de||L,enableViewTransition:V?H:void 0})}}async function Kt(D,A,V,W,Q,se){let de,ne={};try{de=await O1(u,D,A,V,W,Q,se,i,o)}catch(oe){return W.forEach(ee=>{ne[ee.route.id]={type:Ce.error,error:oe}}),ne}for(let[oe,ee]of Object.entries(de))if(z1(ee)){let ae=ee.result;ne[oe]={type:Ce.redirect,response:I1(ae,V,oe,Q,l,f.v7_relativeSplatPath)}}else ne[oe]=await L1(ee);return ne}async function un(D,A,V,W,Q){let se=D.matches,de=Kt("loader",D,Q,V,A,null),ne=Promise.all(W.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let pe=(await Kt("loader",D,Xr(e.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:pe}}else return Promise.resolve({[ae.key]:{type:Ce.error,error:st(404,{pathname:ae.path})}})})),oe=await de,ee=(await ne).reduce((ae,he)=>Object.assign(ae,he),{});return await Promise.all([B1(A,oe,Q.signal,se,D.loaderData),V1(A,ee,W)]),{loaderResults:oe,fetcherResults:ee}}function cn(){T=!0,O.push(...$o()),K.forEach((D,A)=>{P.has(A)&&R.add(A),Xt(A)})}function Ot(D,A,V){V===void 0&&(V={}),S.fetchers.set(D,A),J({fetchers:new Map(S.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Rt(D,A,V,W){W===void 0&&(W={});let Q=gr(S.matches,A);Br(D),J({errors:{[Q.route.id]:V},fetchers:new Map(S.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function $r(D){return X.set(D,(X.get(D)||0)+1),q.has(D)&&q.delete(D),S.fetchers.get(D)||_1}function Br(D){let A=S.fetchers.get(D);P.has(D)&&!(A&&A.state==="loading"&&F.has(D))&&Xt(D),K.delete(D),F.delete(D),U.delete(D),f.v7_fetcherPersist&&q.delete(D),R.delete(D),S.fetchers.delete(D)}function Dl(D){let A=(X.get(D)||0)-1;A<=0?(X.delete(D),q.add(D),f.v7_fetcherPersist||Br(D)):X.set(D,A),J({fetchers:new Map(S.fetchers)})}function Xt(D){let A=P.get(D);A&&(A.abort(),P.delete(D))}function ua(D){for(let A of D){let V=$r(A),W=Ln(V.data);S.fetchers.set(A,W)}}function ca(){let D=[],A=!1;for(let V of U){let W=S.fetchers.get(V);ge(W,"Expected fetcher: "+V),W.state==="loading"&&(U.delete(V),D.push(V),A=!0)}return ua(D),A}function da(D){let A=[];for(let[V,W]of F)if(W<D){let Q=S.fetchers.get(V);ge(Q,"Expected fetcher: "+V),Q.state==="loading"&&(Xt(V),F.delete(V),A.push(V))}return ua(A),A.length>0}function Tl(D,A){let V=S.blockers.get(D)||Go;return G.get(D)!==A&&G.set(D,A),V}function fa(D){S.blockers.delete(D),G.delete(D)}function Vr(D,A){let V=S.blockers.get(D)||Go;ge(V.state==="unblocked"&&A.state==="blocked"||V.state==="blocked"&&A.state==="blocked"||V.state==="blocked"&&A.state==="proceeding"||V.state==="blocked"&&A.state==="unblocked"||V.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+A.state);let W=new Map(S.blockers);W.set(D,A),J({blockers:W})}function ha(D){let{currentLocation:A,nextLocation:V,historyAction:W}=D;if(G.size===0)return;G.size>1&&No(!1,"A router only supports one blocker at a time");let Q=Array.from(G.entries()),[se,de]=Q[Q.length-1],ne=S.blockers.get(se);if(!(ne&&ne.state==="proceeding")&&de({currentLocation:A,nextLocation:V,historyAction:W}))return se}function Fo(D){let A=st(404,{pathname:D}),V=s||a,{matches:W,route:Q}=Ph(V);return $o(),{notFoundMatches:W,route:Q,error:A}}function $o(D){let A=[];return re.forEach((V,W)=>{(!D||D(W))&&(V.cancel(),A.push(W),re.delete(W))}),A}function Ol(D,A,V){if(v=D,x=A,y=V||null,!m&&S.navigation===cu){m=!0;let W=ga(S.location,S.matches);W!=null&&J({restoreScrollPosition:W})}return()=>{v=null,x=null,y=null}}function pa(D,A){return y&&y(D,A.map(W=>n1(W,S.loaderData)))||D.key}function ma(D,A){if(v&&x){let V=pa(D,A);v[V]=x()}}function ga(D,A){if(v){let V=pa(D,A),W=v[V];if(typeof W=="number")return W}return null}function Hr(D,A,V){if(c)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:as(A,V,l,!0)}}else return{active:!0,matches:as(A,V,l,!0)||[]};return{active:!1,matches:null}}async function Ur(D,A,V,W){if(!c)return{type:"success",matches:D};let Q=D;for(;;){let se=s==null,de=s||a,ne=i;try{await c({signal:V,path:A,matches:Q,fetcherKey:W,patch:(ae,he)=>{V.aborted||Ch(ae,he,de,ne,o)}})}catch(ae){return{type:"error",error:ae,partialMatches:Q}}finally{se&&!V.aborted&&(a=[...a])}if(V.aborted)return{type:"aborted"};let oe=mr(de,A,l);if(oe)return{type:"success",matches:oe};let ee=as(de,A,l,!0);if(!ee||Q.length===ee.length&&Q.every((ae,he)=>ae.route.id===ee[he].route.id))return{type:"success",matches:null};Q=ee}}function Rl(D){i={},s=js(D,o,void 0,i)}function Ll(D,A){let V=s==null;Ch(D,A,s||a,i,o),V&&(a=[...a],J({}))}return M={get basename(){return l},get future(){return f},get state(){return S},get routes(){return a},get window(){return t},initialize:Z,subscribe:fe,enableScrollRestoration:Ol,navigate:ue,fetch:ar,revalidate:Ee,createHref:D=>e.history.createHref(D),encodeLocation:D=>e.history.encodeLocation(D),getFetcher:$r,deleteFetcher:Dl,dispose:ce,getBlocker:Tl,deleteBlocker:fa,patchRoutes:Ll,_internalFetchControllers:P,_internalActiveDeferreds:re,_internalSetRoutes:Rl},M}function b1(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function vc(e,t,n,r,o,i,a,s){let l,u;if(a){l=[];for(let f of t)if(l.push(f),f.route.id===a){u=f;break}}else l=t,u=t[t.length-1];let c=Ld(o||".",Rd(l,i),zo(e.pathname,n)||e.pathname,s==="path");if(o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&u){let f=jd(c.search);if(u.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();c.search=v?"?"+v:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:xn([n,c.pathname])),Tr(c)}function xh(e,t,n,r){if(!r||!b1(r))return{path:n};if(r.formMethod&&!$1(r.formMethod))return{path:n,error:st(405,{method:r.formMethod})};let o=()=>({path:n,error:st(400,{type:"invalid-body"})}),i=r.formMethod||"get",a=e?i.toUpperCase():i.toLowerCase(),s=ly(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!jt(a))return o();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,v)=>{let[y,x]=v;return""+h+y+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!jt(a))return o();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=wc(r.formData),u=r.formData;else if(r.body instanceof FormData)l=wc(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=_h(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=_h(l)}catch{return o()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(jt(c.formMethod))return{path:n,submission:c};let f=or(n);return t&&f.search&&jd(f.search)&&l.append("index",""),f.search="?"+l,{path:Tr(f),submission:c}}function wh(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(o=>o.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Sh(e,t,n,r,o,i,a,s,l,u,c,f,d,h,v,y){let x=y?mt(y[1])?y[1].error:y[1].data:void 0,m=e.createURL(t.location),g=e.createURL(o),p=n;i&&t.errors?p=wh(n,Object.keys(t.errors)[0],!0):y&&mt(y[1])&&(p=wh(n,y[0]));let w=y?y[1].statusCode:void 0,k=a&&w&&w>=400,M=p.filter((N,L)=>{let{route:j}=N;if(j.lazy)return!0;if(j.loader==null)return!1;if(i)return xc(j,t.loaderData,t.errors);if(P1(t.loaderData,t.matches[L],N)||l.some(B=>B===N.route.id))return!0;let H=t.matches[L],z=N;return Eh(N,Te({currentUrl:m,currentParams:H.params,nextUrl:g,nextParams:z.params},r,{actionResult:x,actionStatus:w,defaultShouldRevalidate:k?!1:s||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||ay(H,z)}))}),S=[];return f.forEach((N,L)=>{if(i||!n.some(C=>C.route.id===N.routeId)||c.has(L))return;let j=mr(h,N.path,v);if(!j){S.push({key:L,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let H=t.fetchers.get(L),z=ii(j,N.path),B=!1;d.has(L)?B=!1:u.has(L)?(u.delete(L),B=!0):H&&H.state!=="idle"&&H.data===void 0?B=s:B=Eh(z,Te({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:w,defaultShouldRevalidate:k?!1:s})),B&&S.push({key:L,routeId:N.routeId,path:N.path,matches:j,match:z,controller:new AbortController})}),[M,S]}function xc(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,o=n!=null&&n[e.id]!==void 0;return!r&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!o}function P1(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function ay(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Eh(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Ch(e,t,n,r,o){var i;let a;if(e){let u=r[e];ge(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),a=u.children}else a=n;let s=t.filter(u=>!a.some(c=>sy(u,c))),l=js(s,o,[e||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],r);a.push(...l)}function sy(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var o;return(o=t.children)==null?void 0:o.some(i=>sy(n,i))}):!1}async function D1(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];ge(o,"No route found in manifest");let i={};for(let a in r){let l=o[a]!==void 0&&a!=="hasErrorBoundary";No(!l,'Route "'+o.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!e1.has(a)&&(i[a]=r[a])}Object.assign(o,i),Object.assign(o,Te({},t(o),{lazy:void 0}))}async function T1(e){let{matches:t}=e,n=t.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,i,a)=>Object.assign(o,{[n[a].route.id]:i}),{})}async function O1(e,t,n,r,o,i,a,s,l,u){let c=i.map(h=>h.route.lazy?D1(h.route,l,s):void 0),f=i.map((h,v)=>{let y=c[v],x=o.some(g=>g.route.id===h.route.id);return Te({},h,{shouldLoad:x,resolve:async g=>(g&&r.method==="GET"&&(h.route.lazy||h.route.loader)&&(x=!0),x?R1(t,r,h,y,g,u):Promise.resolve({type:Ce.data,result:void 0}))})}),d=await e({matches:f,request:r,params:i[0].params,fetcherKey:a,context:u});try{await Promise.all(c)}catch{}return d}async function R1(e,t,n,r,o,i){let a,s,l=u=>{let c,f=new Promise((v,y)=>c=y);s=()=>c(),t.signal.addEventListener("abort",s);let d=v=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:i},...v!==void 0?[v]:[]),h=(async()=>{try{return{type:"data",result:await(o?o(y=>d(y)):d())}}catch(v){return{type:"error",result:v}}})();return Promise.race([h,f])};try{let u=n.route[e];if(r)if(u){let c,[f]=await Promise.all([l(u).catch(d=>{c=d}),r]);if(c!==void 0)throw c;a=f}else if(await r,u=n.route[e],u)a=await l(u);else if(e==="action"){let c=new URL(t.url),f=c.pathname+c.search;throw st(405,{method:t.method,pathname:f,routeId:n.route.id})}else return{type:Ce.data,result:void 0};else if(u)a=await l(u);else{let c=new URL(t.url),f=c.pathname+c.search;throw st(404,{pathname:f})}ge(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ce.error,result:u}}finally{s&&t.signal.removeEventListener("abort",s)}return a}async function L1(e){let{result:t,type:n}=e;if(uy(t)){let f;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?f=null:f=await t.json():f=await t.text()}catch(d){return{type:Ce.error,error:d}}return n===Ce.error?{type:Ce.error,error:new zs(t.status,t.statusText,f),statusCode:t.status,headers:t.headers}:{type:Ce.data,data:f,statusCode:t.status,headers:t.headers}}if(n===Ce.error){if(Dh(t)){var r,o;if(t.data instanceof Error){var i,a;return{type:Ce.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:Ce.error,error:new zs(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:ji(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:Ce.error,error:t,statusCode:ji(t)?t.status:void 0}}if(F1(t)){var s,l;return{type:Ce.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Dh(t)){var u,c;return{type:Ce.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:Ce.data,data:t}}function I1(e,t,n,r,o,i){let a=e.headers.get("Location");if(ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Id.test(a)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=vc(new URL(t.url),s,o,!0,a,i),e.headers.set("Location",a)}return e}function kh(e,t,n){if(Id.test(e)){let r=e,o=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=zo(o.pathname,n)!=null;if(o.origin===t.origin&&i)return o.pathname+o.search+o.hash}return e}function Xr(e,t,n,r){let o=e.createURL(ly(t)).toString(),i={signal:n};if(r&&jt(r.formMethod)){let{formMethod:a,formEncType:s}=r;i.method=a.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=wc(r.formData):i.body=r.formData}return new Request(o,i)}function wc(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function _h(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function A1(e,t,n,r,o){let i={},a=null,s,l=!1,u={},c=n&&mt(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let d=f.route.id,h=t[d];if(ge(!wr(h),"Cannot handle redirect results in processLoaderData"),mt(h)){let v=h.error;c!==void 0&&(v=c,c=void 0),a=a||{};{let y=gr(e,d);a[y.route.id]==null&&(a[y.route.id]=v)}i[d]=void 0,l||(l=!0,s=ji(h.error)?h.error.status:500),h.headers&&(u[d]=h.headers)}else Hn(h)?(r.set(d,h.deferredData),i[d]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(u[d]=h.headers)):(i[d]=h.data,h.statusCode&&h.statusCode!==200&&!l&&(s=h.statusCode),h.headers&&(u[d]=h.headers))}),c!==void 0&&n&&(a={[n[0]]:c},i[n[0]]=void 0),{loaderData:i,errors:a,statusCode:s||200,loaderHeaders:u}}function Nh(e,t,n,r,o,i,a){let{loaderData:s,errors:l}=A1(t,n,r,a);return o.forEach(u=>{let{key:c,match:f,controller:d}=u,h=i[c];if(ge(h,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(mt(h)){let v=gr(e.matches,f==null?void 0:f.route.id);l&&l[v.route.id]||(l=Te({},l,{[v.route.id]:h.error})),e.fetchers.delete(c)}else if(wr(h))ge(!1,"Unhandled fetcher revalidation redirect");else if(Hn(h))ge(!1,"Unhandled fetcher deferred data");else{let v=Ln(h.data);e.fetchers.set(c,v)}}),{loaderData:s,errors:l}}function Mh(e,t,n,r){let o=Te({},t);for(let i of n){let a=i.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(o[a]=t[a]):e[a]!==void 0&&i.route.loader&&(o[a]=e[a]),r&&r.hasOwnProperty(a))break}return o}function bh(e){return e?mt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function gr(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Ph(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function st(e,t){let{pathname:n,routeId:r,method:o,type:i,message:a}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):e===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",l='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new zs(e||500,s,new Error(l),!0)}function Aa(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,o]=t[n];if(wr(o))return{key:r,result:o}}}function ly(e){let t=typeof e=="string"?or(e):e;return Tr(Te({},t,{hash:""}))}function j1(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function z1(e){return uy(e.result)&&C1.has(e.result.status)}function Hn(e){return e.type===Ce.deferred}function mt(e){return e.type===Ce.error}function wr(e){return(e&&e.type)===Ce.redirect}function Dh(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function F1(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function uy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function $1(e){return E1.has(e.toLowerCase())}function jt(e){return w1.has(e.toLowerCase())}async function B1(e,t,n,r,o){let i=Object.entries(t);for(let a=0;a<i.length;a++){let[s,l]=i[a],u=e.find(d=>(d==null?void 0:d.route.id)===s);if(!u)continue;let c=r.find(d=>d.route.id===u.route.id),f=c!=null&&!ay(c,u)&&(o&&o[u.route.id])!==void 0;Hn(l)&&f&&await Ad(l,n,!1).then(d=>{d&&(t[s]=d)})}}async function V1(e,t,n){for(let r=0;r<n.length;r++){let{key:o,routeId:i,controller:a}=n[r],s=t[o];e.find(u=>(u==null?void 0:u.route.id)===i)&&Hn(s)&&(ge(a,"Expected an AbortController for revalidating fetcher deferred result"),await Ad(s,a.signal,!0).then(u=>{u&&(t[o]=u)}))}}async function Ad(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ce.data,data:e.deferredData.unwrappedData}}catch(o){return{type:Ce.error,error:o}}return{type:Ce.data,data:e.deferredData.data}}}function jd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function ii(e,t){let n=typeof t=="string"?or(t).search:t.search;if(e[e.length-1].route.index&&jd(n||""))return e[e.length-1];let r=ry(e);return r[r.length-1]}function Th(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function du(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function H1(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Zo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function U1(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ln(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function W1(e,t){try{let n=e.sessionStorage.getItem(iy);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function Y1(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(iy,JSON.stringify(n))}catch(r){No(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}const pl=_.createContext(null),cy=_.createContext(null),jr=_.createContext(null),zd=_.createContext(null),zr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),dy=_.createContext(null);function K1(e,t){let{relative:n}=t===void 0?{}:t;na()||ge(!1);let{basename:r,navigator:o}=_.useContext(jr),{hash:i,pathname:a,search:s}=hy(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:xn([r,a])),o.createHref({pathname:l,search:s,hash:i})}function na(){return _.useContext(zd)!=null}function ml(){return na()||ge(!1),_.useContext(zd).location}function fy(e){_.useContext(jr).static||_.useLayoutEffect(e)}function X1(){let{isDataRoute:e}=_.useContext(zr);return e?aS():Q1()}function Q1(){na()||ge(!1);let e=_.useContext(pl),{basename:t,future:n,navigator:r}=_.useContext(jr),{matches:o}=_.useContext(zr),{pathname:i}=ml(),a=JSON.stringify(Rd(o,n.v7_relativeSplatPath)),s=_.useRef(!1);return fy(()=>{s.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Ld(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,a,i,e])}function hy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(jr),{matches:o}=_.useContext(zr),{pathname:i}=ml(),a=JSON.stringify(Rd(o,r.v7_relativeSplatPath));return _.useMemo(()=>Ld(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function G1(e,t,n,r){na()||ge(!1);let{navigator:o}=_.useContext(jr),{matches:i}=_.useContext(zr),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ml(),c;c=u;let f=c.pathname||"/",d=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=mr(e,{pathname:d});return tS(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:xn([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:xn([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function Z1(){let e=iS(),t=ji(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,null)}const J1=_.createElement(Z1,null);class q1 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(zr.Provider,{value:this.props.routeContext},_.createElement(dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eS(e){let{routeContext:t,match:n,children:r}=e,o=_.useContext(pl);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(zr.Provider,{value:t},r)}function tS(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(o=n)==null?void 0:o.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||ge(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let h,v=!1,y=null,x=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||J1,l&&(u<0&&d===0?(sS("route-fallback"),v=!0,x=null):u===d&&(v=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,d+1)),g=()=>{let p;return h?p=y:v?p=x:f.route.Component?p=_.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=c,_.createElement(eS,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:p})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?_.createElement(q1,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var py=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(py||{}),my=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(my||{});function nS(e){let t=_.useContext(pl);return t||ge(!1),t}function rS(e){let t=_.useContext(cy);return t||ge(!1),t}function oS(e){let t=_.useContext(zr);return t||ge(!1),t}function gy(e){let t=oS(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function iS(){var e;let t=_.useContext(dy),n=rS(my.UseRouteError),r=gy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aS(){let{router:e}=nS(py.UseNavigateStable),t=gy(),n=_.useRef(!1);return fy(()=>{n.current=!0}),_.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Fs({fromRouteId:t},i)))},[e,t])}const Oh={};function sS(e,t,n){Oh[e]||(Oh[e]=!0)}function lS(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function uS(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Be.Pop,navigator:i,static:a=!1,future:s}=e;na()&&ge(!1);let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,future:Fs({v7_relativeSplatPath:!1},s)}),[l,s,i,a]);typeof r=="string"&&(r=or(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:v="default"}=r,y=_.useMemo(()=>{let x=zo(c,l);return x==null?null:{location:{pathname:x,search:f,hash:d,state:h,key:v},navigationType:o}},[l,c,f,d,h,v,o]);return y==null?null:_.createElement(jr.Provider,{value:u},_.createElement(zd.Provider,{children:n,value:y}))}new Promise(()=>{});function cS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:_.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:_.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:_.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zi.apply(this,arguments)}function dS(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function fS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hS(e,t){return e.button===0&&(!t||t==="_self")&&!fS(e)}const pS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mS="6";try{window.__reactRouterVersion=mS}catch{}function gS(e,t){return M1({basename:void 0,future:zi({},void 0,{v7_prependBasename:!0}),history:Zw({window:void 0}),hydrationData:yS(),routes:e,mapRouteProperties:cS,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function yS(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zi({},t,{errors:vS(t.errors)})),t}function vS(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new zs(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let a=new i(o.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const xS=_.createContext({isTransitioning:!1}),wS=_.createContext(new Map),SS="startTransition",Rh=zv[SS],ES="flushSync",Lh=Gw[ES];function CS(e){Rh?Rh(e):e()}function Jo(e){Lh?Lh(e):e()}class kS{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function _S(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=_.useState(n.state),[a,s]=_.useState(),[l,u]=_.useState({isTransitioning:!1}),[c,f]=_.useState(),[d,h]=_.useState(),[v,y]=_.useState(),x=_.useRef(new Map),{v7_startTransition:m}=r||{},g=_.useCallback(N=>{m?CS(N):N()},[m]),p=_.useCallback((N,L)=>{let{deletedFetchers:j,flushSync:H,viewTransitionOpts:z}=L;N.fetchers.forEach((C,T)=>{C.data!==void 0&&x.current.set(T,C.data)}),j.forEach(C=>x.current.delete(C));let B=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!z||B){H?Jo(()=>i(N)):g(()=>i(N));return}if(H){Jo(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let C=n.window.document.startViewTransition(()=>{Jo(()=>i(N))});C.finished.finally(()=>{Jo(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})})}),Jo(()=>h(C));return}d?(c&&c.resolve(),d.skipTransition(),y({state:N,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(s(N),u({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,d,c,x,g]);_.useLayoutEffect(()=>n.subscribe(p),[n,p]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new kS)},[l]),_.useEffect(()=>{if(c&&a&&n.window){let N=a,L=c.promise,j=n.window.document.startViewTransition(async()=>{g(()=>i(N)),await L});j.finished.finally(()=>{f(void 0),h(void 0),s(void 0),u({isTransitioning:!1})}),h(j)}},[g,a,c,n.window]),_.useEffect(()=>{c&&a&&o.location.key===a.location.key&&c.resolve()},[c,d,o.location,a]),_.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),_.useEffect(()=>{},[]);let w=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,L,j)=>n.navigate(N,{state:L,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(N,L,j)=>n.navigate(N,{replace:!0,state:L,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),k=n.basename||"/",M=_.useMemo(()=>({router:n,navigator:w,static:!1,basename:k}),[n,w,k]),S=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>lS(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(pl.Provider,{value:M},_.createElement(cy.Provider,{value:o},_.createElement(wS.Provider,{value:x.current},_.createElement(xS.Provider,{value:l},_.createElement(uS,{basename:k,location:o.location,navigationType:o.historyAction,navigator:w,future:S},o.initialized||n.future.v7_partialHydration?_.createElement(NS,{routes:n.routes,future:n.future,state:o}):t))))),null)}const NS=_.memo(MS);function MS(e){let{routes:t,future:n,state:r}=e;return G1(t,void 0,r,n)}const bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=_.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=t,d=dS(t,pS),{basename:h}=_.useContext(jr),v,y=!1;if(typeof u=="string"&&PS.test(u)&&(v=u,bS))try{let p=new URL(window.location.href),w=u.startsWith("//")?new URL(p.protocol+u):new URL(u),k=zo(w.pathname,h);w.origin===p.origin&&k!=null?u=k+w.search+w.hash:y=!0}catch{}let x=K1(u,{relative:o}),m=TS(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:o,viewTransition:f});function g(p){r&&r(p),p.defaultPrevented||m(p)}return _.createElement("a",zi({},d,{href:v||x,onClick:y||i?r:g,ref:n,target:l}))});var Ih;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ih||(Ih={}));var Ah;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ah||(Ah={}));function TS(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:s}=t===void 0?{}:t,l=X1(),u=ml(),c=hy(e,{relative:a});return _.useCallback(f=>{if(hS(f,n)){f.preventDefault();let d=r!==void 0?r:Tr(u)===Tr(c);l(e,{replace:d,state:o,preventScrollReset:i,relative:a,viewTransition:s})}},[u,l,c,r,o,n,e,i,a,s])}const OS={},jh=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(v=>v(t,h))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(OS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,l);return l},yy=e=>e?jh(e):jh;var vy={exports:{}},xy={},wy={exports:{}},Sy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=_;function RS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LS=typeof Object.is=="function"?Object.is:RS,IS=Mo.useState,AS=Mo.useEffect,jS=Mo.useLayoutEffect,zS=Mo.useDebugValue;function FS(e,t){var n=t(),r=IS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return jS(function(){o.value=n,o.getSnapshot=t,fu(o)&&i({inst:o})},[e,n,t]),AS(function(){return fu(o)&&i({inst:o}),e(function(){fu(o)&&i({inst:o})})},[e]),zS(n),n}function fu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!LS(e,n)}catch{return!0}}function $S(e,t){return t()}var BS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$S:FS;Sy.useSyncExternalStore=Mo.useSyncExternalStore!==void 0?Mo.useSyncExternalStore:BS;wy.exports=Sy;var VS=wy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=_,HS=VS;function US(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WS=typeof Object.is=="function"?Object.is:US,YS=HS.useSyncExternalStore,KS=gl.useRef,XS=gl.useEffect,QS=gl.useMemo,GS=gl.useDebugValue;xy.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=KS(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=QS(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),o!==void 0&&a.hasValue){var v=a.value;if(o(v,h))return f=v}return f=h}if(v=f,WS(c,h))return v;var y=r(h);return o!==void 0&&o(v,y)?(c=h,v):(c=h,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,o]);var s=YS(e,i[0],i[1]);return XS(function(){a.hasValue=!0,a.value=s},[s]),GS(s),s};vy.exports=xy;var ZS=vy.exports;const Ey=jc(ZS),Cy={},{useDebugValue:JS}=Js,{useSyncExternalStoreWithSelector:qS}=Ey;let zh=!1;const eE=e=>e;function tE(e,t=eE,n){(Cy?"production":void 0)!=="production"&&n&&!zh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),zh=!0);const r=qS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return JS(r),r}const nE=e=>{(Cy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?yy(e):e,n=(r,o)=>tE(t,r,o);return Object.assign(n,t),n},ky=e=>nE,ss={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Sc=new Map,ja=e=>{const t=Sc.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},rE=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=Sc.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Sc.set(n.name,o),{type:"tracked",store:e,...o}},oE=(e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let u;try{u=(i??(ss?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(ss?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,o);const{connection:c,...f}=rE(s,u,l);let d=!0;o.setState=(y,x,m)=>{const g=n(y,x);if(!d)return g;const p=m===void 0?{type:a||"anonymous"}:typeof m=="string"?{type:m}:m;return s===void 0?(c==null||c.send(p,r()),g):(c==null||c.send({...p,type:`${s}/${p.type}`},{...ja(l.name),[s]:o.getState()}),g)};const h=(...y)=>{const x=d;d=!1,n(...y),d=x},v=e(o.setState,r,o);if(f.type==="untracked"?c==null||c.init(v):(f.stores[f.store]=o,c==null||c.init(Object.fromEntries(Object.entries(f.stores).map(([y,x])=>[y,y===f.store?v:x.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let y=!1;const x=o.dispatch;o.dispatch=(...m)=>{(ss?"production":void 0)!=="production"&&m[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),x(...m)}}return c.subscribe(y=>{var x;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return hu(y.payload,m=>{if(m.type==="__setState"){if(s===void 0){h(m.state);return}Object.keys(m.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=m.state[s];if(g==null)return;JSON.stringify(o.getState())!==JSON.stringify(g)&&h(g);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(m)});case"DISPATCH":switch(y.payload.type){case"RESET":return h(v),s===void 0?c==null?void 0:c.init(o.getState()):c==null?void 0:c.init(ja(l.name));case"COMMIT":if(s===void 0){c==null||c.init(o.getState());return}return c==null?void 0:c.init(ja(l.name));case"ROLLBACK":return hu(y.state,m=>{if(s===void 0){h(m),c==null||c.init(o.getState());return}h(m[s]),c==null||c.init(ja(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return hu(y.state,m=>{if(s===void 0){h(m);return}JSON.stringify(o.getState())!==JSON.stringify(m[s])&&h(m[s])});case"IMPORT_STATE":{const{nextLiftedState:m}=y.payload,g=(x=m.computedStates.slice(-1)[0])==null?void 0:x.state;if(!g)return;h(s===void 0?g:g[s]),c==null||c.send(null,m);return}case"PAUSE_RECORDING":return d=!d}return}}),v},_y=oE,hu=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function iE(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),s=(i=n.getItem(o))!=null?i:null;return s instanceof Promise?s.then(a):a(s)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const Fi=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Fi(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fi(r)(n)}}}},aE=(e,t)=>(n,r,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,m)=>({...m,...x}),...t},a=!1;const s=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,o);const c=Fi(i.serialize),f=()=>{const x=i.partialize({...r()});let m;const g=c({state:x,version:i.version}).then(p=>u.setItem(i.name,p)).catch(p=>{m=p});if(m)throw m;return g},d=o.setState;o.setState=(x,m)=>{d(x,m),f()};const h=e((...x)=>{n(...x),f()},r,o);let v;const y=()=>{var x;if(!u)return;a=!1,s.forEach(g=>g(r()));const m=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Fi(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var p;return v=i.merge(g,(p=r())!=null?p:h),n(v,!0),f()}).then(()=>{m==null||m(v,void 0),a=!0,l.forEach(g=>g(v))}).catch(g=>{m==null||m(void 0,g)})};return o.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},y(),v||h},sE=(e,t)=>(n,r,o)=>{let i={storage:iE(()=>localStorage),partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...t},a=!1;const s=new Set,l=new Set;let u=i.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,o);const c=()=>{const y=i.partialize({...r()});return u.setItem(i.name,{state:y,version:i.version})},f=o.setState;o.setState=(y,x)=>{f(y,x),c()};const d=e((...y)=>{n(...y),c()},r,o);o.getInitialState=()=>d;let h;const v=()=>{var y,x;if(!u)return;a=!1,s.forEach(g=>{var p;return g((p=r())!=null?p:d)});const m=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(y=r())!=null?y:d))||void 0;return Fi(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var p;const[w,k]=g;if(h=i.merge(k,(p=r())!=null?p:d),n(h,!0),w)return c()}).then(()=>{m==null||m(h,void 0),h=r(),a=!0,l.forEach(g=>g(h))}).catch(g=>{m==null||m(void 0,g)})};return o.persist={setOptions:y=>{i={...i,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:y=>(s.add(y),()=>{s.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||v(),h||d},lE=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ss?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),aE(e,t)):sE(e,t),uE=lE,cE=[{name:"2dehands",category:"Other"},{name:"2ememain",category:"Other"},{name:"6Sense",category:"Other"},{name:"ActiGraph CentrePoint",category:"Other"},{name:"Active Campaign",category:"Other"},{name:"Ad Butler",category:"Other"},{name:"Adobe Experience Manager",category:"Other"},{name:"Adobe User Management",category:"Other"},{name:"Adyen",category:"Other"},{name:"Affinity CRM",category:"CRM"},{name:"Aftership",category:"Other"},{name:"Agile CRM",category:"Other"},{name:"Aircall",category:"Other"},{name:"Airtable",category:"Other"},{name:"Amazon Ads",category:"Marketing & Advertising"},{name:"Amazon Redshift",category:"Databases"},{name:"Amazon S3",category:"File Systems"},{name:"Amazon Seller Partner API",category:"E-Commerce"},{name:"Amplitude",category:"Other"},{name:"Ansible",category:"Other"},{name:"Anthropic AI",category:"LLMs"},{name:"Anvyl",category:"Other"},{name:"Apache ActiveMQ",category:"Other"},{name:"Apache Airflow",category:"Other"},{name:"Apify",category:"Other"},{name:"AppFollow",category:"Other"},{name:"Apprl",category:"Other"},{name:"Arts Vision",category:"Other"},{name:"Asana",category:"Other"},{name:"AT Internet",category:"Other"},{name:"ATS Anywhere",category:"Other"},{name:"Avaza",category:"Other"},{name:"Aventri",category:"Other"},{name:"AWS Athena",category:"Databases"},{name:"AWS CloudWatch",category:"Other"},{name:"AWS Kinesis Firehose",category:"Streaming"},{name:"Azure AI Studio",category:"LLMs"},{name:"Azure Blob Storage",category:"File Systems"},{name:"Azure Data Lake",category:"File Systems"},{name:"Azure Devops",category:"Other"},{name:"Azure Synapse",category:"Databases"},{name:"Bamboo HR",category:"Other"},{name:"Basis DSP",category:"Marketing & Advertising"},{name:"Bazaarvoice",category:"Other"},{name:"Beekeeper",category:"Other"},{name:"Beslist.nl",category:"Other"},{name:"Better Proposals",category:"Other"},{name:"Better Uptime",category:"Other"},{name:"Bexio",category:"Other"},{name:"Big Commerce Graph API",category:"E-Commerce"},{name:"Big Commerce Store Management",category:"E-Commerce"},{name:"Bill",category:"Other"},{name:"Bitbucket Server",category:"Other"},{name:"Blink",category:"Other"},{name:"Bloomerang",category:"Other"},{name:"Bloomreach",category:"Other"},{name:"Box",category:"File Systems"},{name:"Braze",category:"Marketing & Advertising"},{name:"Brex",category:"Other"},{name:"Browserstack",category:"Other"},{name:"Bugherd",category:"Other"},{name:"Button",category:"Other"},{name:"Campaigner",category:"Marketing & Advertising"},{name:"Capsule",category:"CRM"},{name:"Certify",category:"Other"},{name:"Chargeback",category:"Other"},{name:"Chargebee",category:"Other"},{name:"Choozle",category:"Other"},{name:"CircleCI",category:"Other"},{name:"Clever",category:"Other"},{name:"Clever District",category:"Other"},{name:"Clickwise",category:"Other"},{name:"Clockify",category:"Other"},{name:"Cognism",category:"Other"},{name:"Collibra",category:"Data as a Service"},{name:"Confluence",category:"Other"},{name:"Confluent Kafka",category:"Streaming"},{name:"Convert Kit",category:"Other"},{name:"Convey",category:"Other"},{name:"Copper",category:"Other"},{name:"Corsano",category:"Other"},{name:"Coupa",category:"Other"},{name:"Criteo",category:"Marketing & Advertising"},{name:"Crunchbase",category:"Data as a Service"},{name:"Crunchbase Pro",category:"Data as a Service"},{name:"Cue",category:"Other"},{name:"data.world",category:"Data as a Service"},{name:"Databricks",category:"Other"},{name:"Datadog",category:"Other"},{name:"dbt",category:"Other"},{name:"Delighted",category:"Other"},{name:"Delta Lake",category:"File Systems"},{name:"Delta Lake on AWS S3",category:"File Systems"},{name:"Delta Lake on Azure Blob",category:"File Systems"},{name:"Delta Lake on Azure Data Lake",category:"File Systems"},{name:"Discord",category:"Other"},{name:"Dixa",category:"Other"},{name:"Docker",category:"Other"},{name:"Domo",category:"Other"},{name:"Dropbox",category:"File Systems"},{name:"DynamoDB",category:"Other"},{name:"Elasticsearch",category:"Databases"},{name:"ELT Script Runner",category:"Other"},{name:"Email Destination",category:"Other"},{name:"Email Source",category:"Other"},{name:"Emma",category:"Other"},{name:"Everhour",category:"Other"},{name:"Expensify",category:"Other"},{name:"Extole",category:"Other"},{name:"FDA",category:"Data as a Service"},{name:"File Upload",category:"Other"},{name:"Fingerbank",category:"Cybersecurity"},{name:"Firebase",category:"Other"},{name:"Firebolt",category:"Other"},{name:"Fivetran",category:"Other"},{name:"Fixer",category:"Other"},{name:"Foursquare",category:"Other"},{name:"Freshsales",category:"CRM"},{name:"Freshservice",category:"Other"},{name:"Front",category:"Other"},{name:"FTP, SFTP, FTPS",category:"File Systems"},{name:"Fulcrum",category:"Other"},{name:"FullContact",category:"Other"},{name:"Gainsight CS",category:"CRM"},{name:"Gem",category:"Other"},{name:"Github",category:"Other"},{name:"Glean",category:"Other"},{name:"Go Daddy",category:"Other"},{name:"Google Ads",category:"Marketing & Advertising"},{name:"Google AlloyDB",category:"Databases"},{name:"Google Analytics",category:"Marketing & Advertising"},{name:"Google BigQuery",category:"Databases"},{name:"Google BigQuery API",category:"Databases"},{name:"Google Cloud Spanner",category:"Databases"},{name:"Google Cloud SQL MySQL",category:"Databases"},{name:"Google Cloud SQL PostgreSQL",category:"Databases"},{name:"Google Cloud Storage",category:"File Systems"},{name:"Google CloudSQL SQLServer",category:"Databases"},{name:"Google Drive",category:"File Systems"},{name:"Google Gemini",category:"LLMs"},{name:"Google Gmail Postmaster",category:"Other"},{name:"Google Merchant Center",category:"Other"},{name:"Google Pub Sub",category:"Streaming"},{name:"Google Search Ads 360",category:"Marketing & Advertising"},{name:"Grade us",category:"Other"},{name:"GraphQL API",category:"Generic APIs"},{name:"Greenhouse",category:"Other"},{name:"Grok by xAI",category:"LLMs"},{name:"Harvest",category:"Other"},{name:"HelloSign",category:"Other"},{name:"Heureka",category:"Other"},{name:"HiBob",category:"Other"},{name:"Hightouch",category:"Data as a Service"},{name:"Hive",category:"Databases"},{name:"Hive HR",category:"Databases"},{name:"Hootsuite",category:"Other"},{name:"Hotjar",category:"Other"},{name:"Hotmart",category:"Other"},{name:"Hubspot",category:"CRM"},{name:"IBM AS400",category:"Other"},{name:"IBM Db2",category:"Databases"},{name:"Iceberg on S3",category:"File Systems"},{name:"iLevel",category:"Other"},{name:"Instagram",category:"Other"},{name:"Intuit Quickbooks",category:"Other"},{name:"Jampp",category:"Other"},{name:"JazzHR",category:"Other"},{name:"JIRA",category:"Other"},{name:"JMS",category:"Streaming"},{name:"Kafka",category:"Streaming"},{name:"Kapost",category:"Other"},{name:"Kargo",category:"Other"},{name:"Keap",category:"CRM"},{name:"Kibo",category:"Other"},{name:"Kissmetrics",category:"Other"},{name:"Klaviyo",category:"Marketing & Advertising"},{name:"KnowBe4 (KMSAT)",category:"Other"},{name:"Lattice",category:"Other"},{name:"LaunchDarkly",category:"Other"},{name:"Leadfeader",category:"Other"},{name:"Leapfin",category:"Other"},{name:"Leapsome",category:"Other"},{name:"Lemlist",category:"Other"},{name:"Lessonly / Seismic Learning",category:"Other"},{name:"LinkedIn Ads",category:"Marketing & Advertising"},{name:"LinkedIn Marketing",category:"Marketing & Advertising"},{name:"Locker",category:"Other"},{name:"Loggly",category:"Other"},{name:"LogicGate",category:"Other"},{name:"Lokalise",category:"Other"},{name:"Looker",category:"Data as a Service"},{name:"Lookup Tables",category:"Other"},{name:"Magento",category:"E-Commerce"},{name:"Mailboxlayer",category:"File Systems"},{name:"Mailchimp",category:"Marketing & Advertising"},{name:"ManagerPlus",category:"Other"},{name:"Manhattan",category:"Other"},{name:"Marketo",category:"Marketing & Advertising"},{name:"Maropost",category:"Other"},{name:"Medallia",category:"Other"},{name:"Meta / Facebook Ads",category:"Marketing & Advertising"},{name:"Meta / Facebook Pages",category:"Marketing & Advertising"},{name:"Microsoft Bing Ads",category:"Marketing & Advertising"},{name:"Microsoft Dynamics 365",category:"Other"},{name:"Microsoft Office 365",category:"Other"},{name:"Microsoft Office 365 Management",category:"Other"},{name:"Microsoft SQLServer",category:"Databases"},{name:"Microsoft Text Translator",category:"Other"},{name:"Milvus",category:"Databases"},{name:"MinIO",category:"Other"},{name:"Mirakl",category:"E-Commerce"},{name:"Mistral AI",category:"LLMs"},{name:"Mixpanel",category:"Other"},{name:"Mode",category:"Other"},{name:"Monday",category:"Other"},{name:"MongoDB",category:"Other"},{name:"Moz",category:"Other"},{name:"MySQL",category:"Databases"},{name:"Namely",category:"Other"},{name:"Netskope",category:"Cybersecurity"},{name:"New Relic",category:"Other"},{name:"News API",category:"Data as a Service"},{name:"Nexla Monitoring APIs",category:"Other"},{name:"Nielsen Digital Ad Ratings",category:"Other"},{name:"Notion Api",category:"Other"},{name:"NVIDIA AI",category:"LLMs"},{name:"Odoo ERP",category:"Other"},{name:"On24",category:"Other"},{name:"Open AI",category:"LLMs"},{name:"OpenAir",category:"Other"},{name:"OpenRouter",category:"Other"},{name:"OpenWeather",category:"Data as a Service"},{name:"Opsgenie",category:"Other"},{name:"Optimizely",category:"Other"},{name:"Oracle Autonomous Database",category:"Databases"},{name:"Oracle Database",category:"Databases"},{name:"Oracle Financials UCM",category:"Databases"},{name:"Oracle Netsuite APIs",category:"Databases"},{name:"Oracle Netsuite JDBC",category:"Databases"},{name:"Oracle PBCS",category:"Databases"},{name:"Oura Ring",category:"Other"},{name:"Outbrain Amplify",category:"Other"},{name:"Outbrain Engage",category:"Other"},{name:"Outreach",category:"Other"},{name:"Panaya",category:"Other"},{name:"Panda Doc",category:"Other"},{name:"Pandas",category:"Other"},{name:"Paymo",category:"Other"},{name:"Paypal",category:"Other"},{name:"Peakon",category:"Other"},{name:"Pendo",category:"Other"},{name:"Perplexity AI",category:"LLMs"},{name:"Personio",category:"Other"},{name:"Pinecone",category:"Vector Databases"},{name:"Pinterest",category:"Other"},{name:"Pipedrive",category:"File Systems"},{name:"Playtix",category:"Other"},{name:"Polygon",category:"Other"},{name:"Porta Billing",category:"Other"},{name:"PostgreSQL",category:"Databases"},{name:"Postscript",category:"Other"},{name:"Productboard",category:"Other"},{name:"Project 44",category:"Other"},{name:"Proofpoint",category:"Cybersecurity"},{name:"Pulsedive",category:"Other"},{name:"Qdrant",category:"Databases"},{name:"Qualtrics",category:"Other"},{name:"Quip",category:"Other"},{name:"Razorpay",category:"Other"},{name:"Reltio",category:"Data as a Service"},{name:"ReSci",category:"Other"},{name:"Rest API",category:"Generic APIs"},{name:"Retool",category:"Other"},{name:"Rocket Fuel",category:"Other"},{name:"Sailthru",category:"Other"},{name:"Salesforce",category:"CRM"},{name:"Salesforce B2B Commerce Cloud",category:"CRM"},{name:"Salesforce B2C Commerce Cloud",category:"CRM"},{name:"Salesforce Marketing Cloud",category:"CRM"},{name:"SAP",category:"Other"},{name:"SAP HANA JDBC",category:"Databases"},{name:"Scalyr / Dataset",category:"Other"},{name:"Sendgrid",category:"Marketing & Advertising"},{name:"Sendpulse",category:"Other"},{name:"ServiceNow",category:"Other"},{name:"Sharepoint",category:"File Systems"},{name:"ShipBob",category:"Other"},{name:"ShipStation",category:"Other"},{name:"Shopify",category:"E-Commerce"},{name:"Similar Web",category:"Other"},{name:"Skilljar",category:"Other"},{name:"SkyScanner",category:"E-Commerce"},{name:"Slack",category:"Other"},{name:"SmartRecruiters",category:"Other"},{name:"Snapchat Ads",category:"Marketing & Advertising"},{name:"Snowflake",category:"Databases"},{name:"Snowflake Clean Room",category:"Databases"},{name:"SOAP API",category:"Generic APIs"},{name:"Sonarqube",category:"Other"},{name:"SplashThat",category:"Other"},{name:"Splunk",category:"Other"},{name:"Splunk SignalFX",category:"Other"},{name:"SpotDraft",category:"Other"},{name:"StarRez",category:"Other"},{name:"Stripe",category:"Other"},{name:"SurveyMonkey",category:"Other"},{name:"Sybase",category:"Databases"},{name:"Tableau",category:"Other"},{name:"TalkDesk",category:"Other"},{name:"Teamtailor",category:"Other"},{name:"Teradata",category:"Databases"},{name:"The TradeDesk",category:"Marketing & Advertising"},{name:"Tibco EMS",category:"Streaming"},{name:"Ticketmaster",category:"E-Commerce"},{name:"Together AI",category:"LLMs"},{name:"Toggl",category:"Other"},{name:"Totango",category:"CRM"},{name:"Transport For London (TFL)",category:"Other"},{name:"Trello",category:"Other"},{name:"Trip Advisor",category:"Other"},{name:"Tune Network",category:"Other"},{name:"Typeform",category:"Other"},{name:"UpPromote",category:"Other"},{name:"Upshop",category:"Other"},{name:"Usajobs",category:"Data as a Service"},{name:"Vespa",category:"Databases"},{name:"VinSolutions",category:"Other"},{name:"VirusTotal",category:"Cybersecurity"},{name:"Walmart",category:"E-Commerce"},{name:"Weaviate",category:"Databases"},{name:"Webdam",category:"Other"},{name:"WebDAV",category:"File Systems"},{name:"Webex",category:"Other"},{name:"Webhook",category:"Generic APIs"},{name:"Whoop",category:"Other"},{name:"Wicket",category:"Other"},{name:"Wolfram Alpha",category:"Other"},{name:"Workday Reporting",category:"Other"},{name:"Workday Web Services",category:"Other"},{name:"Wufoo Online Forms",category:"Other"},{name:"X (Twitter)",category:"Other"},{name:"Xero",category:"Other"},{name:"YouTube",category:"Other"},{name:"Zendesk Support",category:"CRM"},{name:"Zillow",category:"Other"},{name:"Zoho",category:"CRM"},{name:"Zoom",category:"Other"},{name:"Zscaler",category:"Cybersecurity"},{name:"Zuora Billing",category:"Other"},{name:"Zuora Revenue",category:"Other"}],dE={connectors:cE},fE=new Set(["Google BigQuery","Snowflake","PostgreSQL","MySQL","Microsoft SQLServer","Oracle Database","Teradata","MongoDB","DynamoDB","Elasticsearch","Sybase","IBM Db2","Google AlloyDB"]),hE=new Set(["Amazon S3","Google Cloud Storage","Azure Blob Storage","Dropbox","Box","WebDAV","Sharepoint","Google Drive","FTP, SFTP, FTPS"]),pE=new Set(["Kafka","Google Pub Sub","AWS Kinesis Firehose","JMS","Tibco EMS"]),mE=new Set(["Salesforce","Zoho","Pipedrive","Copper","Hubspot","Freshsales","Zendesk Support","Capsule","Affinity CRM"]),gE=new Set(["Shopify","Magento","Big Commerce Graph API","Big Commerce Store Management","Salesforce B2B Commerce Cloud","Salesforce B2C Commerce Cloud","Mirakl","Walmart"]),yE=new Set(["Google Ads","Facebook Ads","LinkedIn Ads","Snapchat Ads","Criteo","The TradeDesk","Amazon Ads"]),vE=new Set(["Pinecone","Weaviate","Qdrant","Vespa","Milvus"]),xE=new Set(["Open AI","Anthropic AI","Google Gemini","Mistral AI","Together AI","Grok by xAI","Perplexity AI","NVIDIA AI","Azure AI Studio"]),wE=new Set(["data.world","Crunchbase","Crunchbase Pro","OpenWeather","News API","FDA","Collibra","Hightouch","Reltio","Usajobs","Looker"]),SE=new Set(["VirusTotal","Zscaler","Netskope","Proofpoint","Fingerbank"]);function EE(e){return fE.has(e)||/SQL|DB2|Db2|Sybase|AlloyDB|BigQuery/.test(e)?"Databases":hE.has(e)||/(S3|Storage|Drive|Dropbox|Box|WebDAV|Sharepoint|FTP)/i.test(e)?"File Systems":pE.has(e)||/(Kafka|Pub Sub|Kinesis|JMS|EMS)/i.test(e)?"Streaming":mE.has(e)||/(Salesforce|Hubspot|Zoho|Zendesk|Capsule|Pipedrive|Freshsales)/i.test(e)?"CRM":gE.has(e)||/(Shopify|Magento|Big Commerce|Commerce Cloud|Mirakl|Walmart)/i.test(e)?"E-Commerce":yE.has(e)||/(Ads|Advertising|DSP|SA 360|Search Ads)/i.test(e)?"Marketing & Advertising":vE.has(e)?"Vector Databases":xE.has(e)?"LLMs":wE.has(e)?"Data as a Service":SE.has(e)||/(Security|Cyber|Zscaler|Netskope)/i.test(e)?"Cybersecurity":/REST|GraphQL|SOAP|Webhook/i.test(e)?"Generic APIs":"Other"}function CE(e){switch(e){case"Databases":return{roles:{source:!0,destination:!0},mandatory:["host/account","user","password or key","database/schema"],optional:["warehouse","role","ssl"]};case"File Systems":return{roles:{source:!0,destination:!0},mandatory:["endpoint/bucket","auth"],optional:["region","path/prefix"]};case"Streaming":return{roles:{source:!0,destination:!0},mandatory:["broker/endpoint","topic/stream","auth"],optional:["tls/sasl"]};case"CRM":return{roles:{source:!0,destination:!0},mandatory:["baseUrl/loginUrl","clientId","clientSecret","user","token/password"],optional:["instance"]};case"E-Commerce":return{roles:{source:!0,destination:!0},mandatory:["storeDomain","apiKey/token"],optional:["apiVersion"]};case"Marketing & Advertising":return{roles:{source:!0,destination:!0},mandatory:["accessToken/apiKey","accountId"],optional:["clientId","clientSecret"]};case"Vector Databases":return{roles:{source:!0,destination:!0},mandatory:["endpoint/host","apiKey","index/collection"],optional:[]};case"LLMs":return{roles:{source:!1,destination:!0},mandatory:["apiKey","model"],optional:["endpoint"]};case"Data as a Service":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl","accountId"]};case"Cybersecurity":return{roles:{source:!0,destination:!1},mandatory:["apiKey"],optional:["baseUrl"]};case"Generic APIs":return{roles:{source:!0,destination:!0},mandatory:["baseUrl","auth"],optional:["headers","params"]};default:return{roles:{source:!0,destination:!0},mandatory:["baseUrl or host","auth"],optional:[]}}}function kE(){const e=dE.connectors,t={};return e.forEach(({name:n,category:r})=>{const o=r||EE(n),i=CE(o);t[n]={name:n,category:o,roles:i.roles,credentials:{mandatory:i.mandatory,optional:i.optional}}}),t}const jn=kE(),_E="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",NE="https://openrouter.ai/api/v1/chat/completions",ME=`You are an AI assistant that helps users build data integration flows. Your job is to parse user messages and extract:

1. Source system (where data comes from)
2. Transform operations (how to process data) 
3. Destination system (where data goes)
4. Credentials needed for each system
5. Follow-up questions to gather missing information

IMPORTANT RULES:
1. Only identify systems that are explicitly mentioned by the user
2. Don't assume default transforms - only set transform when explicitly mentioned
3. Ask follow-up questions for missing information
4. Be conversational and helpful
5. Focus on one missing piece at a time
6. Use the connector catalog to validate system names
7. Extract any credentials mentioned (API keys, URLs, usernames, etc.)
8. Only set transform when explicitly mentioned - do NOT assume default transforms

EXAMPLES:
- "Connect Shopify to BigQuery"  source: "Shopify", destination: "Google BigQuery", transform: null, ask for credentials
- "Sync Salesforce contacts to Mailchimp"  source: "Salesforce", destination: "Mailchimp", transform: null
- "Get PostgreSQL users and transform them, then send to webhook"  source: "PostgreSQL", destination: "Webhook", transform: "Map & Validate"

Respond with JSON in this exact format:
{
  "source": "system name or null",
  "transform": "transform type or null", 
  "destination": "system name or null",
  "credentials": {},
  "followUpQuestion": "What specific question to ask next"
}`;async function bE(e,t=[]){var n,r,o;try{const i=[{role:"system",content:ME},...t.map((c,f)=>({role:f%2===0?"user":"assistant",content:c})),{role:"user",content:e}],a=await fetch(NE,{method:"POST",headers:{Authorization:`Bearer ${_E}`,"Content-Type":"application/json","HTTP-Referer":"https://nexla-data-flow.com","X-Title":"Nexla Data Flow Architect"},body:JSON.stringify({model:"openai/gpt-4o-mini",messages:i,temperature:.3,max_tokens:500})});if(!a.ok)throw new Error(`OpenRouter API error: ${a.status} ${a.statusText}`);const l=(o=(r=(n=(await a.json()).choices)==null?void 0:n[0])==null?void 0:r.message)==null?void 0:o.content;if(!l)throw new Error("No content in OpenRouter response");let u;try{const c=l.match(/\{[\s\S]*\}/);if(c)u=JSON.parse(c[0]);else throw new Error("No JSON found in response")}catch{return console.warn("JSON parsing failed, using fallback regex parsing"),Fh(l)}return{success:!0,data:{source:u.source||null,transform:u.transform||null,destination:u.destination||null,credentials:u.credentials||{},followUpQuestion:u.followUpQuestion||null}}}catch(i){return console.error("OpenRouter service error:",i),Fh(e)}}function Fh(e){const t=[/(?:from|connect|sync|get.*from|extract.*from)\s+(\w+)/i,/(\w+)\s+(?:to|into|)/i],n=[/(?:to|into|send.*to|load.*into|)\s+(\w+)/i,/(?:from|connect|sync)\s+\w+\s+(?:to|into)\s+(\w+)/i];let r=null,o=null;for(const a of t){const s=e.match(a);if(s&&s[1]){const l=s[1].toLowerCase(),u=Object.keys(jn).find(c=>c.toLowerCase().includes(l)||l.includes(c.toLowerCase()));if(u){r=u;break}}}for(const a of n){const s=e.match(a);if(s&&s[1]){const l=s[1].toLowerCase(),u=Object.keys(jn).find(c=>c.toLowerCase().includes(l)||l.includes(c.toLowerCase()));if(u){o=u;break}}}let i="I can help you set up this data flow. ";return!r&&!o?i+="What systems would you like to connect?":r?o?i+="What credentials do you have for these systems?":i+="Where should we send the data?":i+="What system should we get the data from?",{success:!0,data:{source:r,transform:null,destination:o,credentials:{},followUpQuestion:i}}}const pu={source:{},destination:{},transform:{},transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},mu={nodes:{source:{name:"Dummy Source",credentials:{username:"",password:""}},destination:{name:"Dummy Destination",credentials:{apiKey:"",serverPrefix:""}},transform:{name:"Dummy Transform",credentials:{}}}},yl=ky()(_y(uE((e,t)=>({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:{...pu,transformByType:{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}},flowConfiguration:mu,setSelectedSource:n=>e({selectedSource:n},!1,"setSelectedSource"),setSelectedDestination:n=>e({selectedDestination:n},!1,"setSelectedDestination"),setSelectedTransform:n=>e({selectedTransform:n},!1,"setSelectedTransform"),updateNodeValues:n=>e(r=>({nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...n.source},destination:{...r.nodeValues.destination,...n.destination},transform:{...r.nodeValues.transform,...n.transform}}}),!1,"updateNodeValues"),updateSourceValues:n=>e(r=>({nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...n}}}),!1,"updateSourceValues"),updateDestinationValues:n=>e(r=>({nodeValues:{...r.nodeValues,destination:{...r.nodeValues.destination,...n}}}),!1,"updateDestinationValues"),updateTransformValues:n=>e(r=>({nodeValues:{...r.nodeValues,transform:{...r.nodeValues.transform,...n}}}),!1,"updateTransformValues"),updateTransformValuesByType:(n,r)=>e(o=>{const i=o.nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}};return{nodeValues:{...o.nodeValues,transformByType:{...i,[n]:{...i[n]||{},...r}}}}},!1,"updateTransformValuesByType"),getTransformValuesByType:n=>(t().nodeValues.transformByType||{"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}})[n]||{},resetToDefaults:()=>e({selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:pu},!1,"resetToDefaults"),loadConfiguration:n=>{var o,i,a;const r=t();e({selectedSource:n.selectedSource??r.selectedSource,selectedDestination:n.selectedDestination??r.selectedDestination,selectedTransform:n.selectedTransform??r.selectedTransform,nodeValues:{...r.nodeValues,source:{...r.nodeValues.source,...(o=n.nodeValues)==null?void 0:o.source},destination:{...r.nodeValues.destination,...(i=n.nodeValues)==null?void 0:i.destination},transform:{...r.nodeValues.transform,...(a=n.nodeValues)==null?void 0:a.transform}}},!1,"loadConfiguration")},loadFlowConfiguration:n=>{e(r=>({flowConfiguration:n,selectedSource:n.nodes.source.name,selectedDestination:n.nodes.destination.name,selectedTransform:n.nodes.transform.name,nodeValues:{...r.nodeValues,source:n.nodes.source.credentials,destination:n.nodes.destination.credentials,transform:n.nodes.transform.credentials}}),!1,"loadFlowConfiguration")},updateNodeConfiguration:(n,r,o)=>{e(i=>({flowConfiguration:{...i.flowConfiguration,nodes:{...i.flowConfiguration.nodes,[n]:{name:r,credentials:o}}},[`selected${n.charAt(0).toUpperCase()+n.slice(1)}`]:r,nodeValues:{...i.nodeValues,[n]:o}}),!1,"updateNodeConfiguration")},resetToDefaultConfiguration:()=>{e({flowConfiguration:mu,selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:pu},!1,"resetToDefaultConfiguration")},getFlowConfigurationJSON:()=>{const n=t();return JSON.stringify(n.flowConfiguration,null,2)}}),{name:"canvas-store",partialize:e=>({selectedSource:e.selectedSource,selectedDestination:e.selectedDestination,selectedTransform:e.selectedTransform,nodeValues:e.nodeValues,flowConfiguration:e.flowConfiguration}),migrate:e=>{const t=e;return t&&t.nodeValues&&!t.nodeValues.transformByType&&(t.nodeValues.transformByType={"Dummy Transform":{},"Map & Validate":{},Cleanse:{},"Enrich & Map":{}}),t&&!t.flowConfiguration&&(t.flowConfiguration=mu),t},version:1}),{name:"CanvasStore"})),$i=ky()(_y((e,t)=>({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],input:"",conversationHistory:[],setInput:n=>e({input:n}),aiThinking:!1,highlightId:null,send:()=>{const{input:n,messages:r}=t();if(!n.trim())return;const o=crypto.randomUUID(),i=crypto.randomUUID(),a={id:o,type:"user",content:n.trim(),status:"sent",createdAt:Date.now()},s={id:i,type:"ai",content:"",status:"thinking",createdAt:Date.now()};e({messages:[...r,a,s],input:"",aiThinking:!0,highlightId:o}),setTimeout(()=>e({highlightId:null}),900),setTimeout(()=>{const l="Got it. I will start a draft flow: [Source]  [Transform]  [Destination].";e(u=>({messages:u.messages.map(c=>c.id===i?{...c,content:l,status:"sent"}:c),aiThinking:!1}))},600)},sendWithCanvasUpdate:async()=>{const{input:n,messages:r,conversationHistory:o}=t();if(!n.trim())return;const i=crypto.randomUUID(),a=crypto.randomUUID(),s={id:i,type:"user",content:n.trim(),status:"sent",createdAt:Date.now()},l={id:a,type:"ai",content:"",status:"thinking",createdAt:Date.now()};e({messages:[...r,s,l],input:"",aiThinking:!0,highlightId:i}),setTimeout(()=>e({highlightId:null}),900);try{const u=await bE(n.trim(),o);if(u.success&&u.data){const c=yl.getState();u.data.source&&u.data.transform&&u.data.destination?(c.loadConfiguration({selectedSource:u.data.source,selectedTransform:u.data.transform,selectedDestination:u.data.destination}),u.data.credentials&&Object.entries(u.data.credentials).forEach(([h,v])=>{(h==="source"||h==="transform"||h==="destination")&&c.updateNodeConfiguration(h,h,v)})):(u.data.source&&c.loadConfiguration({selectedSource:u.data.source}),u.data.destination&&c.loadConfiguration({selectedDestination:u.data.destination}),u.data.transform&&c.loadConfiguration({selectedTransform:u.data.transform}));const f=[...o,n.trim()],d=u.data.followUpQuestion||"Great! I've updated your flow. What would you like to configure next?";e(h=>({messages:h.messages.map(v=>v.id===a?{...v,content:d,status:"sent"}:v),aiThinking:!1,conversationHistory:f}))}else throw new Error(u.error||"Failed to parse flow")}catch(u){console.error("Error in sendWithCanvasUpdate:",u);const c="I'm having trouble understanding that. Could you please rephrase your request?";e(f=>({messages:f.messages.map(d=>d.id===a?{...d,content:c,status:"sent"}:d),aiThinking:!1}))}},clearMessages:()=>e({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],conversationHistory:[],highlightId:null})}),{name:"chat-store"})),PE=()=>{if(typeof window>"u")return;const e=localStorage.getItem("prefillPrompt");e&&(console.log(" Processing prefill from landing:",e),$i.setState({messages:[{id:"m1",type:"ai",content:"Welcome! I can help you build data integration flows. What systems would you like to connect?",status:"sent",createdAt:Date.now()}],input:e,conversationHistory:[],highlightId:null,aiThinking:!1}),setTimeout(()=>{const t=$i.getState();console.log(" Executing prefill timeout for:",e),t.sendWithCanvasUpdate()},100),localStorage.removeItem("prefillPrompt"))};function Ny({className:e="",copyrightText:t=" 2025 Nexla. All rights reserved.",...n}){return E.jsx("footer",{className:`bg-blue-600 text-white py-3 px-4 text-center text-sm min-h-[50px] flex items-center justify-center ${e}`,role:"contentinfo","aria-label":"Site footer",...n,children:t})}function DE(){const[e,t]=_.useState("");_.useEffect(()=>{console.log(" Clearing Zustand stores on landing page"),$i.getState().clearMessages(),$i.setState({input:"",aiThinking:!1,highlightId:null}),yl.getState().resetToDefaultConfiguration(),localStorage.removeItem("prefillPrompt"),console.log(" All stores cleared")},[]);const n=()=>{e.trim()&&localStorage.setItem("prefillPrompt",e.trim())};return E.jsxs("div",{className:"min-h-screen flex flex-col",children:[E.jsx("div",{className:"bg-gradient-to-b from-violet-700 to-blue-500 text-white pb-24",children:E.jsxs("div",{className:"container-narrow py-10 text-center",children:[E.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-white/95 text-blue-600 grid place-items-center font-bold text-xl",children:"N"}),E.jsx("h1",{className:"mt-4 text-4xl font-bold",children:"Nexla"}),E.jsx("p",{className:"mt-2 text-lg text-blue-100",children:"AIPowered Orchestration for Your Data Flows"})]})}),E.jsxs("div",{className:"-mt-14 container-narrow flex-1",children:[E.jsx("div",{className:"mx-auto max-w-3xl rounded-2xl bg-white shadow-xl p-6",children:E.jsxs("div",{className:"flex gap-3",children:[E.jsx("input",{"data-testid":"landing-input",className:"flex-1 rounded-lg border border-slate-300 bg-slate-50 px-4 py-3",placeholder:"e.g., Connect Shopify orders to Snowflake",value:e,onChange:r=>t(r.target.value)}),E.jsx(DS,{to:"/chat","data-testid":"landing-submit",className:"rounded-lg bg-violet-600 text-white px-6 py-3 font-semibold hover:bg-violet-500","aria-label":"Start",onClick:n,children:"Start"})]})}),E.jsx("div",{className:"text-center mt-10 text-slate-500 text-sm",children:"OR TRY ONE OF THESE EXAMPLES"}),E.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:["Connect Shopify to BigQuery","Sync Salesforce contacts to Mailchimp","Get PostgreSQL users and send to a webhook","Analyze Stripe payments in Google Sheets"].map(r=>E.jsx("button",{onClick:()=>{localStorage.setItem("prefillPrompt",r),window.location.href="/chat"},className:"rounded-xl border bg-white p-4 text-left shadow-sm hover:shadow-md",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-7 h-7 rounded-full bg-amber-200 grid place-items-center text-amber-600",children:""}),E.jsx("div",{className:"text-slate-800",children:r})]})},r))})]}),E.jsx(Ny,{className:"mt-auto"})]})}/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),My=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...s},l)=>_.createElement("svg",{ref:l,...OE,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:My("lucide",o),...s},[...a.map(([u,c])=>_.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=(e,t)=>{const n=_.forwardRef(({className:r,...o},i)=>_.createElement(RE,{ref:i,iconNode:t,className:My(`lucide-${TE(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Fr("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Fr("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Fr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Fr("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Fr("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=Fr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Fr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function $E({type:e,content:t,status:n,createdAt:r,highlight:o}){const i=e==="user",a=i?FE:by,s=r?new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return E.jsx("div",{className:`${i?"ml-auto max-w-[90%]":"max-w-[80%]"} w-full ${o?"ring-2 ring-violet-300 rounded-2xl transition-[box-shadow] duration-700":""}`,children:E.jsxs("div",{className:`rounded-2xl px-4 py-3 shadow-sm border ${i?"bg-violet-600 text-white border-violet-600":"bg-white border-slate-200"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsx(a,{size:16,className:i?"text-white/80":"text-slate-500"}),E.jsx("div",{className:i?"text-white/80":"text-slate-600",children:i?"You":"NexBot"}),s&&E.jsxs("div",{className:i?"text-white/60":"text-slate-400",children:[" ",s]}),E.jsxs("div",{className:"ml-auto inline-flex items-center gap-1",children:[n==="thinking"&&E.jsx(AE,{size:14,className:i?"animate-spin text-white/80":"animate-spin text-slate-400"}),n==="sent"&&E.jsx(LE,{size:14,className:i?"text-white/80":"text-slate-400"}),n==="error"&&E.jsx(IE,{size:14,className:"text-red-500"})]})]}),E.jsx("div",{className:`mt-1 whitespace-pre-wrap ${i?"":"text-slate-900"}`,children:n==="thinking"?E.jsxs("span",{className:"inline-flex items-center gap-1",children:[E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.2s]`}),E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce [animation-delay:-0.1s]`}),E.jsx("span",{className:`h-2 w-2 rounded-full ${i?"bg-white/70":"bg-slate-400"} animate-bounce`})]}):t})]})})}function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var BE={value:()=>{}};function vl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ls(n)}function ls(e){this._=e}function VE(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ls.prototype=vl.prototype={constructor:ls,on:function(e,t){var n=this._,r=VE(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=HE(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=$h(n[o],e.name,t);else if(t==null)for(o in n)n[o]=$h(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ls(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function HE(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function $h(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=BE,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ec="http://www.w3.org/1999/xhtml";const Bh={svg:"http://www.w3.org/2000/svg",xhtml:Ec,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Bh.hasOwnProperty(t)?{space:Bh[t],local:e}:e}function UE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ec&&t.documentElement.namespaceURI===Ec?t.createElement(e):t.createElementNS(n,e)}}function WE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Py(e){var t=xl(e);return(t.local?WE:UE)(t)}function YE(){}function Fd(e){return e==null?YE:function(){return this.querySelector(e)}}function KE(e){typeof e!="function"&&(e=Fd(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=new Array(a),l,u,c=0;c<a;++c)(l=i[c])&&(u=e.call(l,l.__data__,c,i))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new wt(r,this._parents)}function XE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QE(){return[]}function Dy(e){return e==null?QE:function(){return this.querySelectorAll(e)}}function GE(e){return function(){return XE(e.apply(this,arguments))}}function ZE(e){typeof e=="function"?e=GE(e):e=Dy(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),o.push(l));return new wt(r,o)}function Ty(e){return function(){return this.matches(e)}}function Oy(e){return function(t){return t.matches(e)}}var JE=Array.prototype.find;function qE(e){return function(){return JE.call(this.children,e)}}function eC(){return this.firstElementChild}function tC(e){return this.select(e==null?eC:qE(typeof e=="function"?e:Oy(e)))}var nC=Array.prototype.filter;function rC(){return Array.from(this.children)}function oC(e){return function(){return nC.call(this.children,e)}}function iC(e){return this.selectAll(e==null?rC:oC(typeof e=="function"?e:Oy(e)))}function aC(e){typeof e!="function"&&(e=Ty(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new wt(r,this._parents)}function Ry(e){return new Array(e.length)}function sC(){return new wt(this._enter||this._groups.map(Ry),this._parents)}function $s(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$s.prototype={constructor:$s,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function lC(e){return function(){return e}}function uC(e,t,n,r,o,i){for(var a=0,s,l=t.length,u=i.length;a<u;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new $s(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function cC(e,t,n,r,o,i,a){var s,l,u=new Map,c=t.length,f=i.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?o[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,i[s],s,i)+"",(l=u.get(h))?(r[s]=l,l.__data__=i[s],u.delete(h)):n[s]=new $s(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(o[s]=l)}function dC(e){return e.__data__}function fC(e,t){if(!arguments.length)return Array.from(this,dC);var n=t?cC:uC,r=this._parents,o=this._groups;typeof e!="function"&&(e=lC(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],d=f.length,h=hC(e.call(c,c&&c.__data__,u,r)),v=h.length,y=s[u]=new Array(v),x=a[u]=new Array(v),m=l[u]=new Array(d);n(c,f,y,x,m,h,t);for(var g=0,p=0,w,k;g<v;++g)if(w=y[g]){for(g>=p&&(p=g+1);!(k=x[p])&&++p<v;);w._next=k||null}}return a=new wt(a,r),a._enter=s,a._exit=l,a}function hC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pC(){return new wt(this._exit||this._groups.map(Ry),this._parents)}function mC(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function gC(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,v=0;v<f;++v)(h=u[v]||c[v])&&(d[v]=h);for(;l<o;++l)s[l]=n[l];return new wt(s,this._parents)}function yC(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function vC(e){e||(e=xC);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,l=o[i]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new wt(o,this._parents).order()}function xC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function SC(){return Array.from(this)}function EC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function CC(){let e=0;for(const t of this)++e;return e}function kC(){return!this.node()}function _C(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function NC(e){return function(){this.removeAttribute(e)}}function MC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bC(e,t){return function(){this.setAttribute(e,t)}}function PC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function TC(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function OC(e,t){var n=xl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?MC:NC:typeof t=="function"?n.local?TC:DC:n.local?PC:bC)(n,t))}function Ly(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RC(e){return function(){this.style.removeProperty(e)}}function LC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function IC(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function AC(e,t,n){return arguments.length>1?this.each((t==null?RC:typeof t=="function"?IC:LC)(e,t,n??"")):bo(this.node(),e)}function bo(e,t){return e.style.getPropertyValue(t)||Ly(e).getComputedStyle(e,null).getPropertyValue(t)}function jC(e){return function(){delete this[e]}}function zC(e,t){return function(){this[e]=t}}function FC(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $C(e,t){return arguments.length>1?this.each((t==null?jC:typeof t=="function"?FC:zC)(e,t)):this.node()[e]}function Iy(e){return e.trim().split(/^|\s+/)}function $d(e){return e.classList||new Ay(e)}function Ay(e){this._node=e,this._names=Iy(e.getAttribute("class")||"")}Ay.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jy(e,t){for(var n=$d(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function zy(e,t){for(var n=$d(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function BC(e){return function(){jy(this,e)}}function VC(e){return function(){zy(this,e)}}function HC(e,t){return function(){(t.apply(this,arguments)?jy:zy)(this,e)}}function UC(e,t){var n=Iy(e+"");if(arguments.length<2){for(var r=$d(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?HC:t?BC:VC)(n,t))}function WC(){this.textContent=""}function YC(e){return function(){this.textContent=e}}function KC(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function XC(e){return arguments.length?this.each(e==null?WC:(typeof e=="function"?KC:YC)(e)):this.node().textContent}function QC(){this.innerHTML=""}function GC(e){return function(){this.innerHTML=e}}function ZC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function JC(e){return arguments.length?this.each(e==null?QC:(typeof e=="function"?ZC:GC)(e)):this.node().innerHTML}function qC(){this.nextSibling&&this.parentNode.appendChild(this)}function ek(){return this.each(qC)}function tk(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nk(){return this.each(tk)}function rk(e){var t=typeof e=="function"?e:Py(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ok(){return null}function ik(e,t){var n=typeof e=="function"?e:Py(e),r=t==null?ok:typeof t=="function"?t:Fd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ak(){var e=this.parentNode;e&&e.removeChild(this)}function sk(){return this.each(ak)}function lk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uk(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ck(e){return this.select(e?uk:lk)}function dk(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fk(e){return function(t){e.call(this,t,this.__data__)}}function hk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pk(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function mk(e,t,n){return function(){var r=this.__on,o,i=fk(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function gk(e,t,n){var r=hk(e+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(o=0,c=s[l];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?mk:pk,o=0;o<i;++o)this.each(s(r[o],t,n));return this}function Fy(e,t,n){var r=Ly(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function yk(e,t){return function(){return Fy(this,e,t)}}function vk(e,t){return function(){return Fy(this,e,t.apply(this,arguments))}}function xk(e,t){return this.each((typeof t=="function"?vk:yk)(e,t))}function*wk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var $y=[null];function wt(e,t){this._groups=e,this._parents=t}function ra(){return new wt([[document.documentElement]],$y)}function Sk(){return this}wt.prototype=ra.prototype={constructor:wt,select:KE,selectAll:ZE,selectChild:tC,selectChildren:iC,filter:aC,data:fC,enter:sC,exit:pC,join:mC,merge:gC,selection:Sk,order:yC,sort:vC,call:wC,nodes:SC,node:EC,size:CC,empty:kC,each:_C,attr:OC,style:AC,property:$C,classed:UC,text:XC,html:JC,raise:ek,lower:nk,append:rk,insert:ik,remove:sk,clone:ck,datum:dk,on:gk,dispatch:xk,[Symbol.iterator]:wk};function gt(e){return typeof e=="string"?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],$y)}function Ek(e){let t;for(;t=e.sourceEvent;)e=t;return e}function zt(e,t){if(e=Ek(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ck={passive:!1},Bi={capture:!0,passive:!1};function gu(e){e.stopImmediatePropagation()}function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function By(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",yo,Bi);"onselectstart"in t?n.on("selectstart.drag",yo,Bi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vy(e,t){var n=e.document.documentElement,r=gt(e).on("dragstart.drag",null);t&&(r.on("click.drag",yo,Bi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const za=e=>()=>e;function Cc(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Cc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function kk(e){return!e.ctrlKey&&!e.button}function _k(){return this.parentNode}function Nk(e,t){return t??{x:e.x,y:e.y}}function Mk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hy(){var e=kk,t=_k,n=Nk,r=Mk,o={},i=vl("start","drag","end"),a=0,s,l,u,c,f=0;function d(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",x).on("touchmove.drag",m,Ck).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,k){if(!(c||!e.call(this,w,k))){var M=p(this,t.call(this,w,k),w,k,"mouse");M&&(gt(w.view).on("mousemove.drag",v,Bi).on("mouseup.drag",y,Bi),By(w.view),gu(w),u=!1,s=w.clientX,l=w.clientY,M("start",w))}}function v(w){if(yo(w),!u){var k=w.clientX-s,M=w.clientY-l;u=k*k+M*M>f}o.mouse("drag",w)}function y(w){gt(w.view).on("mousemove.drag mouseup.drag",null),Vy(w.view,u),yo(w),o.mouse("end",w)}function x(w,k){if(e.call(this,w,k)){var M=w.changedTouches,S=t.call(this,w,k),N=M.length,L,j;for(L=0;L<N;++L)(j=p(this,S,w,k,M[L].identifier,M[L]))&&(gu(w),j("start",w,M[L]))}}function m(w){var k=w.changedTouches,M=k.length,S,N;for(S=0;S<M;++S)(N=o[k[S].identifier])&&(yo(w),N("drag",w,k[S]))}function g(w){var k=w.changedTouches,M=k.length,S,N;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<M;++S)(N=o[k[S].identifier])&&(gu(w),N("end",w,k[S]))}function p(w,k,M,S,N,L){var j=i.copy(),H=zt(L||M,k),z,B,C;if((C=n.call(w,new Cc("beforestart",{sourceEvent:M,target:d,identifier:N,active:a,x:H[0],y:H[1],dx:0,dy:0,dispatch:j}),S))!=null)return z=C.x-H[0]||0,B=C.y-H[1]||0,function T(O,R,P){var b=H,I;switch(O){case"start":o[N]=T,I=a++;break;case"end":delete o[N],--a;case"drag":H=zt(P||R,k),I=a;break}j.call(O,w,new Cc(O,{sourceEvent:R,subject:C,target:d,identifier:N,active:I,x:H[0]+z,y:H[1]+B,dx:H[0]-b[0],dy:H[1]-b[1],dispatch:j}),S)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:za(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:za(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:za(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:za(!!w),d):r},d.on=function(){var w=i.on.apply(i,arguments);return w===i?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function Bd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oa(){}var Vi=.7,Bs=1/Vi,vo="\\s*([+-]?\\d+)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bk=/^#([0-9a-f]{3,8})$/,Pk=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),Dk=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),Tk=new RegExp(`^rgba\\(${vo},${vo},${vo},${Hi}\\)$`),Ok=new RegExp(`^rgba\\(${rn},${rn},${rn},${Hi}\\)$`),Rk=new RegExp(`^hsl\\(${Hi},${rn},${rn}\\)$`),Lk=new RegExp(`^hsla\\(${Hi},${rn},${rn},${Hi}\\)$`),Vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bd(oa,Or,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hh,formatHex:Hh,formatHex8:Ik,formatHsl:Ak,formatRgb:Uh,toString:Uh});function Hh(){return this.rgb().formatHex()}function Ik(){return this.rgb().formatHex8()}function Ak(){return Wy(this).formatHsl()}function Uh(){return this.rgb().formatRgb()}function Or(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wh(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pk.exec(e))?new ct(t[1],t[2],t[3],1):(t=Dk.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tk.exec(e))?Fa(t[1],t[2],t[3],t[4]):(t=Ok.exec(e))?Fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rk.exec(e))?Xh(t[1],t[2]/100,t[3]/100,1):(t=Lk.exec(e))?Xh(t[1],t[2]/100,t[3]/100,t[4]):Vh.hasOwnProperty(e)?Wh(Vh[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Wh(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function Fa(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function jk(e){return e instanceof oa||(e=Or(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function kc(e,t,n,r){return arguments.length===1?jk(e):new ct(e,t,n,r??1)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bd(ct,kc,Uy(oa,{brighter(e){return e=e==null?Bs:Math.pow(Bs,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vi:Math.pow(Vi,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(kr(this.r),kr(this.g),kr(this.b),Vs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yh,formatHex:Yh,formatHex8:zk,formatRgb:Kh,toString:Kh}));function Yh(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}`}function zk(){return`#${Sr(this.r)}${Sr(this.g)}${Sr(this.b)}${Sr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kh(){const e=Vs(this.opacity);return`${e===1?"rgb(":"rgba("}${kr(this.r)}, ${kr(this.g)}, ${kr(this.b)}${e===1?")":`, ${e})`}`}function Vs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sr(e){return e=kr(e),(e<16?"0":"")+e.toString(16)}function Xh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $t(e,t,n,r)}function Wy(e){if(e instanceof $t)return new $t(e.h,e.s,e.l,e.opacity);if(e instanceof oa||(e=Or(e)),!e)return new $t;if(e instanceof $t)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(t===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new $t(a,s,l,e.opacity)}function Fk(e,t,n,r){return arguments.length===1?Wy(e):new $t(e,t,n,r??1)}function $t(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bd($t,Fk,Uy(oa,{brighter(e){return e=e==null?Bs:Math.pow(Bs,e),new $t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vi:Math.pow(Vi,e),new $t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ct(yu(e>=240?e-240:e+120,o,r),yu(e,o,r),yu(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new $t(Qh(this.h),$a(this.s),$a(this.l),Vs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vs(this.opacity);return`${e===1?"hsl(":"hsla("}${Qh(this.h)}, ${$a(this.s)*100}%, ${$a(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qh(e){return e=(e||0)%360,e<0?e+360:e}function $a(e){return Math.max(0,Math.min(1,e||0))}function yu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vd=e=>()=>e;function $k(e,t){return function(n){return e+n*t}}function Bk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Vk(e){return(e=+e)==1?Yy:function(t,n){return n-t?Bk(t,n,e):Vd(isNaN(t)?n:t)}}function Yy(e,t){var n=t-e;return n?$k(e,n):Vd(isNaN(e)?t:e)}const Hs=function e(t){var n=Vk(t);function r(o,i){var a=n((o=kc(o)).r,(i=kc(i)).r),s=n(o.g,i.g),l=n(o.b,i.b),u=Yy(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=s(c),o.b=l(c),o.opacity=u(c),o+""}}return r.gamma=e,r}(1);function Hk(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Uk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wk(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=yi(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function Yk(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Kk(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=yi(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var _c=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vu=new RegExp(_c.source,"g");function Xk(e){return function(){return e}}function Qk(e){return function(t){return e(t)+""}}function Ky(e,t){var n=_c.lastIndex=vu.lastIndex=0,r,o,i,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=_c.exec(e))&&(o=vu.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,l.push({i:a,x:Zt(r,o)})),n=vu.lastIndex;return n<t.length&&(i=t.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Qk(l[0].x):Xk(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function yi(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vd(t):(n==="number"?Zt:n==="string"?(r=Or(t))?(t=r,Hs):Ky:t instanceof Or?Hs:t instanceof Date?Yk:Uk(t)?Hk:Array.isArray(t)?Wk:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Kk:Zt)(e,t)}var Gh=180/Math.PI,Nc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xy(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Gh,skewX:Math.atan(l)*Gh,scaleX:a,scaleY:s}}var Ba;function Gk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Nc:Xy(t.a,t.b,t.c,t.d,t.e,t.f)}function Zk(e){return e==null||(Ba||(Ba=document.createElementNS("http://www.w3.org/2000/svg","g")),Ba.setAttribute("transform",e),!(e=Ba.transform.baseVal.consolidate()))?Nc:(e=e.matrix,Xy(e.a,e.b,e.c,e.d,e.e,e.f))}function Qy(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,f,d,h,v){if(u!==f||c!==d){var y=h.push("translate(",null,t,null,n);v.push({i:y-4,x:Zt(u,f)},{i:y-2,x:Zt(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Zt(u,c)})):c&&f.push(o(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Zt(u,c)}):c&&f.push(o(f)+"skewX("+c+r)}function l(u,c,f,d,h,v){if(u!==f||c!==d){var y=h.push(o(h)+"scale(",null,",",null,")");v.push({i:y-4,x:Zt(u,f)},{i:y-2,x:Zt(c,d)})}else(f!==1||d!==1)&&h.push(o(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),i(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var v=-1,y=d.length,x;++v<y;)f[(x=d[v]).i]=x.x(h);return f.join("")}}}var Jk=Qy(Gk,"px, ","px)","deg)"),qk=Qy(Zk,", ",")",")"),e_=1e-12;function Zh(e){return((e=Math.exp(e))+1/e)/2}function t_(e){return((e=Math.exp(e))-1/e)/2}function n_(e){return((e=Math.exp(2*e))-1)/(e+1)}const us=function e(t,n,r){function o(i,a){var s=i[0],l=i[1],u=i[2],c=a[0],f=a[1],d=a[2],h=c-s,v=f-l,y=h*h+v*v,x,m;if(y<e_)m=Math.log(d/u)/t,x=function(S){return[s+S*h,l+S*v,u*Math.exp(t*S*m)]};else{var g=Math.sqrt(y),p=(d*d-u*u+r*y)/(2*u*n*g),w=(d*d-u*u-r*y)/(2*d*n*g),k=Math.log(Math.sqrt(p*p+1)-p),M=Math.log(Math.sqrt(w*w+1)-w);m=(M-k)/t,x=function(S){var N=S*m,L=Zh(k),j=u/(n*g)*(L*n_(t*N+k)-t_(k));return[s+j*h,l+j*v,u*L/Zh(t*N+k)]}}return x.duration=m*1e3*t/Math.SQRT2,x}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,l=s*s;return e(a,s,l)},o}(Math.SQRT2,2,4);var Po=0,ai=0,qo=0,Gy=1e3,Us,si,Ws=0,Rr=0,wl=0,Ui=typeof performance=="object"&&performance.now?performance:Date,Zy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hd(){return Rr||(Zy(r_),Rr=Ui.now()+wl)}function r_(){Rr=0}function Ys(){this._call=this._time=this._next=null}Ys.prototype=Jy.prototype={constructor:Ys,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Hd():+n)+(t==null?0:+t),!this._next&&si!==this&&(si?si._next=this:Us=this,si=this),this._call=e,this._time=n,Mc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mc())}};function Jy(e,t,n){var r=new Ys;return r.restart(e,t,n),r}function o_(){Hd(),++Po;for(var e=Us,t;e;)(t=Rr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Po}function Jh(){Rr=(Ws=Ui.now())+wl,Po=ai=0;try{o_()}finally{Po=0,a_(),Rr=0}}function i_(){var e=Ui.now(),t=e-Ws;t>Gy&&(wl-=t,Ws=e)}function a_(){for(var e,t=Us,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Us=n);si=e,Mc(r)}function Mc(e){if(!Po){ai&&(ai=clearTimeout(ai));var t=e-Rr;t>24?(e<1/0&&(ai=setTimeout(Jh,e-Ui.now()-wl)),qo&&(qo=clearInterval(qo))):(qo||(Ws=Ui.now(),qo=setInterval(i_,Gy)),Po=1,Zy(Jh))}}function qh(e,t,n){var r=new Ys;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var s_=vl("start","end","cancel","interrupt"),l_=[],qy=0,ep=1,bc=2,cs=3,tp=4,Pc=5,ds=6;function Sl(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;u_(e,n,{name:t,index:r,group:o,on:s_,tween:l_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:qy})}function Ud(e,t){var n=Wt(e,t);if(n.state>qy)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=Wt(e,t);if(n.state>cs)throw new Error("too late; already running");return n}function Wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u_(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Jy(i,0,n.time);function i(u){n.state=ep,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==ep)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===cs)return qh(a);h.state===tp?(h.state=ds,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=ds,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(qh(function(){n.state===cs&&(n.state=tp,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=bc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bc){for(n.state=cs,o=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Pc,1),f=-1,d=o.length;++f<d;)o[f].call(e,c);n.state===Pc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ds,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function fs(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>bc&&r.state<Pc,r.state=ds,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function c_(e){return this.each(function(){fs(this,e)})}function d_(e,t){var n,r;return function(){var o=sn(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function f_(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=sn(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}i.tween=o}}function h_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wt(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?d_:f_)(n,e,t))}function Wd(e,t,n){var r=e._id;return e.each(function(){var o=sn(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Wt(o,r).value[t]}}function e0(e,t){var n;return(typeof t=="number"?Zt:t instanceof Or?Hs:(n=Or(t))?(t=n,Hs):Ky)(e,t)}function p_(e){return function(){this.removeAttribute(e)}}function m_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g_(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function y_(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function v_(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function x_(e,t,n){var r,o,i;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s)))}}function w_(e,t){var n=xl(e),r=n==="transform"?qk:e0;return this.attrTween(e,typeof t=="function"?(n.local?x_:v_)(n,r,Wd(this,"attr."+e,t)):t==null?(n.local?m_:p_)(n):(n.local?y_:g_)(n,r,t))}function S_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function E_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function C_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&E_(e,i)),n}return o._value=t,o}function k_(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&S_(e,i)),n}return o._value=t,o}function __(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=xl(e);return this.tween(n,(r.local?C_:k_)(r,t))}function N_(e,t){return function(){Ud(this,e).delay=+t.apply(this,arguments)}}function M_(e,t){return t=+t,function(){Ud(this,e).delay=t}}function b_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?N_:M_)(t,e)):Wt(this.node(),t).delay}function P_(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function D_(e,t){return t=+t,function(){sn(this,e).duration=t}}function T_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?P_:D_)(t,e)):Wt(this.node(),t).duration}function O_(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function R_(e){var t=this._id;return arguments.length?this.each(O_(t,e)):Wt(this.node(),t).ease}function L_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function I_(e){if(typeof e!="function")throw new Error;return this.each(L_(this._id,e))}function A_(e){typeof e!="function"&&(e=Ty(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,s=r[o]=[],l,u=0;u<a;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&s.push(l);return new _n(r,this._parents,this._name,this._id)}function j_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new _n(a,this._parents,this._name,this._id)}function z_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function F_(e,t,n){var r,o,i=z_(t)?Ud:sn;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function $_(e,t){var n=this._id;return arguments.length<2?Wt(this.node(),n).on.on(e):this.each(F_(n,e,t))}function B_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function V_(){return this.on("end.remove",B_(this._id))}function H_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fd(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],l=s.length,u=i[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Sl(u[d],t,n,d,u,Wt(c,n)));return new _n(i,this._parents,t,n)}function U_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dy(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,v=Wt(c,n),y=0,x=d.length;y<x;++y)(h=d[y])&&Sl(h,t,n,y,d,v);i.push(d),a.push(c)}return new _n(i,a,t,n)}var W_=ra.prototype.constructor;function Y_(){return new W_(this._groups,this._parents)}function K_(e,t){var n,r,o;return function(){var i=bo(this,e),a=(this.style.removeProperty(e),bo(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function t0(e){return function(){this.style.removeProperty(e)}}function X_(e,t,n){var r,o=n+"",i;return function(){var a=bo(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function Q_(e,t,n){var r,o,i;return function(){var a=bo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),bo(this,e))),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}function G_(e,t){var n,r,o,i="style."+t,a="end."+i,s;return function(){var l=sn(this,e),u=l.on,c=l.value[i]==null?s||(s=t0(t)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(a,o=c),l.on=r}}function Z_(e,t,n){var r=(e+="")=="transform"?Jk:e0;return t==null?this.styleTween(e,K_(e,r)).on("end.style."+e,t0(e)):typeof t=="function"?this.styleTween(e,Q_(e,r,Wd(this,"style."+e,t))).each(G_(this._id,e)):this.styleTween(e,X_(e,r,t),n).on("end.style."+e,null)}function J_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function q_(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&J_(e,a,n)),r}return i._value=t,i}function e2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,q_(e,t,n??""))}function t2(e){return function(){this.textContent=e}}function n2(e){return function(){var t=e(this);this.textContent=t??""}}function r2(e){return this.tween("text",typeof e=="function"?n2(Wd(this,"text",e)):t2(e==null?"":e+""))}function o2(e){return function(t){this.textContent=e.call(this,t)}}function i2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&o2(o)),t}return r._value=e,r}function a2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,i2(e))}function s2(){for(var e=this._name,t=this._id,n=n0(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Wt(l,t);Sl(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _n(r,this._parents,e,n)}function l2(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var u=sn(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),o===0&&i()})}var u2=0;function _n(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function n0(){return++u2}var fn=ra.prototype;_n.prototype={constructor:_n,select:H_,selectAll:U_,selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:A_,merge:j_,selection:Y_,transition:s2,call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:$_,attr:w_,attrTween:__,style:Z_,styleTween:e2,text:r2,textTween:a2,remove:V_,tween:h_,delay:b_,duration:T_,ease:R_,easeVarying:I_,end:l2,[Symbol.iterator]:fn[Symbol.iterator]};function c2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var d2={time:null,delay:0,duration:250,ease:c2};function f2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function h2(e){var t,n;e instanceof _n?(t=e._id,e=e._name):(t=n0(),(n=d2).time=Hd(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Sl(l,e,t,u,a,n||f2(l,t));return new _n(r,this._parents,e,t)}ra.prototype.interrupt=c_;ra.prototype.transition=h2;const Va=e=>()=>e;function p2(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function yn(e,t,n){this.k=e,this.x=t,this.y=n}yn.prototype={constructor:yn,scale:function(e){return e===1?this:new yn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var El=new yn(1,0,0);r0.prototype=yn.prototype;function r0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return El;return e.__zoom}function xu(e){e.stopImmediatePropagation()}function ei(e){e.preventDefault(),e.stopImmediatePropagation()}function m2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function g2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function np(){return this.__zoom||El}function y2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function v2(){return navigator.maxTouchPoints||"ontouchstart"in this}function x2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function o0(){var e=m2,t=g2,n=x2,r=y2,o=v2,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=us,u=vl("start","zoom","end"),c,f,d,h=500,v=150,y=0,x=10;function m(C){C.property("__zoom",np).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",j).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(C,T,O,R){var P=C.selection?C.selection():C;P.property("__zoom",np),C!==P?k(C,T,O,R):P.interrupt().each(function(){M(this,arguments).event(R).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},m.scaleBy=function(C,T,O,R){m.scaleTo(C,function(){var P=this.__zoom.k,b=typeof T=="function"?T.apply(this,arguments):T;return P*b},O,R)},m.scaleTo=function(C,T,O,R){m.transform(C,function(){var P=t.apply(this,arguments),b=this.__zoom,I=O==null?w(P):typeof O=="function"?O.apply(this,arguments):O,F=b.invert(I),U=typeof T=="function"?T.apply(this,arguments):T;return n(p(g(b,U),I,F),P,a)},O,R)},m.translateBy=function(C,T,O,R){m.transform(C,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),a)},null,R)},m.translateTo=function(C,T,O,R,P){m.transform(C,function(){var b=t.apply(this,arguments),I=this.__zoom,F=R==null?w(b):typeof R=="function"?R.apply(this,arguments):R;return n(El.translate(F[0],F[1]).scale(I.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof O=="function"?-O.apply(this,arguments):-O),b,a)},R,P)};function g(C,T){return T=Math.max(i[0],Math.min(i[1],T)),T===C.k?C:new yn(T,C.x,C.y)}function p(C,T,O){var R=T[0]-O[0]*C.k,P=T[1]-O[1]*C.k;return R===C.x&&P===C.y?C:new yn(C.k,R,P)}function w(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function k(C,T,O,R){C.on("start.zoom",function(){M(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(R).end()}).tween("zoom",function(){var P=this,b=arguments,I=M(P,b).event(R),F=t.apply(P,b),U=O==null?w(F):typeof O=="function"?O.apply(P,b):O,K=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),X=P.__zoom,q=typeof T=="function"?T.apply(P,b):T,re=l(X.invert(U).concat(K/X.k),q.invert(U).concat(K/q.k));return function(G){if(G===1)G=q;else{var $=re(G),Z=K/$[2];G=new yn(Z,U[0]-$[0]*Z,U[1]-$[1]*Z)}I.zoom(null,G)}})}function M(C,T,O){return!O&&C.__zooming||new S(C,T)}function S(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,T),this.taps=0}S.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=gt(this.that).datum();u.call(C,this.that,new p2(C,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),T)}};function N(C,...T){if(!e.apply(this,arguments))return;var O=M(this,T).event(C),R=this.__zoom,P=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,r.apply(this,arguments)))),b=zt(C);if(O.wheel)(O.mouse[0][0]!==b[0]||O.mouse[0][1]!==b[1])&&(O.mouse[1]=R.invert(O.mouse[0]=b)),clearTimeout(O.wheel);else{if(R.k===P)return;O.mouse=[b,R.invert(b)],fs(this),O.start()}ei(C),O.wheel=setTimeout(I,v),O.zoom("mouse",n(p(g(R,P),O.mouse[0],O.mouse[1]),O.extent,a));function I(){O.wheel=null,O.end()}}function L(C,...T){if(d||!e.apply(this,arguments))return;var O=C.currentTarget,R=M(this,T,!0).event(C),P=gt(C.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",K,!0),b=zt(C,O),I=C.clientX,F=C.clientY;By(C.view),xu(C),R.mouse=[b,this.__zoom.invert(b)],fs(this),R.start();function U(X){if(ei(X),!R.moved){var q=X.clientX-I,re=X.clientY-F;R.moved=q*q+re*re>y}R.event(X).zoom("mouse",n(p(R.that.__zoom,R.mouse[0]=zt(X,O),R.mouse[1]),R.extent,a))}function K(X){P.on("mousemove.zoom mouseup.zoom",null),Vy(X.view,R.moved),ei(X),R.event(X).end()}}function j(C,...T){if(e.apply(this,arguments)){var O=this.__zoom,R=zt(C.changedTouches?C.changedTouches[0]:C,this),P=O.invert(R),b=O.k*(C.shiftKey?.5:2),I=n(p(g(O,b),R,P),t.apply(this,T),a);ei(C),s>0?gt(this).transition().duration(s).call(k,I,R,C):gt(this).call(m.transform,I,R,C)}}function H(C,...T){if(e.apply(this,arguments)){var O=C.touches,R=O.length,P=M(this,T,C.changedTouches.length===R).event(C),b,I,F,U;for(xu(C),I=0;I<R;++I)F=O[I],U=zt(F,this),U=[U,this.__zoom.invert(U),F.identifier],P.touch0?!P.touch1&&P.touch0[2]!==U[2]&&(P.touch1=U,P.taps=0):(P.touch0=U,b=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),b&&(P.taps<2&&(f=U[0],c=setTimeout(function(){c=null},h)),fs(this),P.start())}}function z(C,...T){if(this.__zooming){var O=M(this,T).event(C),R=C.changedTouches,P=R.length,b,I,F,U;for(ei(C),b=0;b<P;++b)I=R[b],F=zt(I,this),O.touch0&&O.touch0[2]===I.identifier?O.touch0[0]=F:O.touch1&&O.touch1[2]===I.identifier&&(O.touch1[0]=F);if(I=O.that.__zoom,O.touch1){var K=O.touch0[0],X=O.touch0[1],q=O.touch1[0],re=O.touch1[1],G=(G=q[0]-K[0])*G+(G=q[1]-K[1])*G,$=($=re[0]-X[0])*$+($=re[1]-X[1])*$;I=g(I,Math.sqrt(G/$)),F=[(K[0]+q[0])/2,(K[1]+q[1])/2],U=[(X[0]+re[0])/2,(X[1]+re[1])/2]}else if(O.touch0)F=O.touch0[0],U=O.touch0[1];else return;O.zoom("touch",n(p(I,F,U),O.extent,a))}}function B(C,...T){if(this.__zooming){var O=M(this,T).event(C),R=C.changedTouches,P=R.length,b,I;for(xu(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),b=0;b<P;++b)I=R[b],O.touch0&&O.touch0[2]===I.identifier?delete O.touch0:O.touch1&&O.touch1[2]===I.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(I=zt(I,this),Math.hypot(f[0]-I[0],f[1]-I[1])<x)){var F=gt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return m.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:Va(+C),m):r},m.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Va(!!C),m):e},m.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:Va(!!C),m):o},m.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Va([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),m):t},m.scaleExtent=function(C){return arguments.length?(i[0]=+C[0],i[1]=+C[1],m):[i[0],i[1]]},m.translateExtent=function(C){return arguments.length?(a[0][0]=+C[0][0],a[1][0]=+C[1][0],a[0][1]=+C[0][1],a[1][1]=+C[1][1],m):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},m.constrain=function(C){return arguments.length?(n=C,m):n},m.duration=function(C){return arguments.length?(s=+C,m):s},m.interpolate=function(C){return arguments.length?(l=C,m):l},m.on=function(){var C=u.on.apply(u,arguments);return C===u?m:C},m.clickDistance=function(C){return arguments.length?(y=(C=+C)*C,m):Math.sqrt(y)},m.tapDistance=function(C){return arguments.length?(x=+C,m):x},m}const an={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Wi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],i0=["Enter"," ","Escape"],a0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Do;(function(e){e.Strict="strict",e.Loose="loose"})(Do||(Do={}));var _r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(_r||(_r={}));var Yi;(function(e){e.Partial="partial",e.Full="full"})(Yi||(Yi={}));const s0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var $n;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})($n||($n={}));var Ks;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ks||(Ks={}));var le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(le||(le={}));const rp={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top};function l0(e){return e===null?null:e?"valid":"invalid"}const u0=e=>"id"in e&&"source"in e&&"target"in e,w2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Yd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),ia=(e,t=[0,0])=>{const{width:n,height:r}=Mn(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},S2=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const i=typeof o=="string";let a=!t.nodeLookup&&!i?o:void 0;t.nodeLookup&&(a=i?t.nodeLookup.get(o):Yd(o)?o:t.nodeLookup.get(o.id));const s=a?Xs(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Cl(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return kl(n)},aa=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=Xs(r);n=Cl(n,o)}}),kl(n)},Kd=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...la(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,v=c.height??u.height??u.initialHeight??null,y=Ki(s,Oo(u)),x=(h??0)*(v??0),m=i&&y>0;(!u.internals.handleBounds||m||y>=x||u.dragging)&&l.push(u)}return l},E2=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function C2(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function k2({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(e.size===0)return Promise.resolve(!0);const s=C2(e,a),l=aa(s),u=Xd(l,t,n,(a==null?void 0:a.minZoom)??o,(a==null?void 0:a.maxZoom)??i,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function c0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=a.extent||o;if(a.extent==="parent"&&!a.expandParent)if(!s)i==null||i("005",an.error005());else{const h=s.measured.width,v=s.measured.height;h&&v&&(f=[[l,u],[l+h,u+v]])}else s&&Ro(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=Ro(f)?Lr(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(i==null||i("015",an.error015())),{position:{x:d.x-l+(a.measured.width??0)*c[0],y:d.y-u+(a.measured.height??0)*c[1]},positionAbsolute:d}}async function _2({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(e.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const h=i.has(d.id),v=!h&&d.parentId&&a.find(y=>y.id===d.parentId);(h||v)&&a.push(d)}const s=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=E2(a,l);for(const d of l)s.has(d.id)&&!c.find(v=>v.id===d.id)&&c.push(d);if(!o)return{edges:c,nodes:a};const f=await o({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const To=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Lr=(e={x:0,y:0},t,n)=>({x:To(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:To(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function d0(e,t,n){const{width:r,height:o}=Mn(n),{x:i,y:a}=n.internals.positionAbsolute;return Lr(e,[[i,a],[i+r,a+o]],t)}const op=(e,t,n)=>e<t?To(Math.abs(e-t),1,t)/t:e>n?-To(Math.abs(e-n),1,t)/t:0,f0=(e,t,n=15,r=40)=>{const o=op(e.x,r,t.width-r)*n,i=op(e.y,r,t.height-r)*n;return[o,i]},Cl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Dc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),kl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Oo=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Yd(e)?e.internals.positionAbsolute:ia(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Xs=(e,t=[0,0])=>{var o,i;const{x:n,y:r}=Yd(e)?e.internals.positionAbsolute:ia(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},h0=(e,t)=>kl(Cl(Dc(e),Dc(t))),Ki=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ip=e=>Bt(e.width)&&Bt(e.height)&&Bt(e.x)&&Bt(e.y),Bt=e=>!isNaN(e)&&isFinite(e),N2=(e,t)=>{},sa=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),la=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{const s={x:(e-n)/o,y:(t-r)/o};return i?sa(s,a):s},Qs=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Qr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function M2(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Qr(e,n),o=Qr(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Qr(e.top??e.y??0,n),o=Qr(e.bottom??e.y??0,n),i=Qr(e.left??e.x??0,t),a=Qr(e.right??e.x??0,t);return{top:r,right:a,bottom:o,left:i,x:i+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function b2(e,t,n,r,o,i){const{x:a,y:s}=Qs(e,[t,n,r]),{x:l,y:u}=Qs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=o-l,f=i-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(f)}}const Xd=(e,t,n,r,o,i)=>{const a=M2(i,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,u=Math.min(s,l),c=To(u,r,o),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,v=n/2-d*c,y=b2(e,h,v,c,t,n),x={left:Math.min(y.left-a.left,0),top:Math.min(y.top-a.top,0),right:Math.min(y.right-a.right,0),bottom:Math.min(y.bottom-a.bottom,0)};return{x:h-x.left+x.right,y:v-x.top+x.bottom,zoom:c}},Xi=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ro(e){return e!=null&&e!=="parent"}function Mn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function p0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function m0(e,t={width:0,height:0},n,r,o){const i={...e},a=r.get(n);if(a){const s=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return i}function ap(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function P2(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function D2(e){return{...a0,...e||{}}}function vi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:a}=en(e),s=la({x:i-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)},r),{x:l,y:u}=n?sa(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Qd=e=>({width:e.offsetWidth,height:e.offsetHeight}),g0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},T2=["INPUT","SELECT","TEXTAREA"];function y0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:T2.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const v0=e=>"clientX"in e,en=(e,t)=>{var i,a;const n=v0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,o=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},sp=(e,t,n,r,o)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:o,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Qd(a)}})};function x0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const l=e*.125+o*.375+a*.375+n*.125,u=t*.125+i*.375+s*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function Ha(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function lp({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case le.Left:return[t-Ha(t-r,i),n];case le.Right:return[t+Ha(r-t,i),n];case le.Top:return[t,n-Ha(n-o,i)];case le.Bottom:return[t,n+Ha(o-n,i)]}}function Gd({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top,curvature:a=.25}){const[s,l]=lp({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[u,c]=lp({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[f,d,h,v]=x0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${o}`,f,d,h,v]}function w0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,i=n<e?n+o:n-o,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[i,s,o,a]}function O2({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const i=o&&n?1e3:0,a=Math.max(e.parentId?e.internals.z:0,t.parentId?t.internals.z:0);return i+a}function R2({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const i=Cl(Xs(e),Xs(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Ki(a,kl(i))>0}const L2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,I2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),A2=(e,t)=>{if(!e.source||!e.target)return t;let n;return u0(e)?n={...e}:n={...e,id:L2(e)},I2(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function S0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,i,a,s]=w0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}const up={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}},j2=({source:e,sourcePosition:t=le.Bottom,target:n})=>t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},cp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function z2({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:r=le.Top,center:o,offset:i,stepPosition:a}){const s=up[t],l=up[r],u={x:e.x+s.x*i,y:e.y+s.y*i},c={x:n.x+l.x*i,y:n.y+l.y*i},f=j2({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let v=[],y,x;const m={x:0,y:0},g={x:0,y:0},[,,p,w]=w0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){d==="x"?(y=o.x??u.x+(c.x-u.x)*a,x=o.y??(u.y+c.y)/2):(y=o.x??(u.x+c.x)/2,x=o.y??u.y+(c.y-u.y)*a);const M=[{x:y,y:u.y},{x:y,y:c.y}],S=[{x:u.x,y:x},{x:c.x,y:x}];s[d]===h?v=d==="x"?M:S:v=d==="x"?S:M}else{const M=[{x:u.x,y:c.y}],S=[{x:c.x,y:u.y}];if(d==="x"?v=s.x===h?S:M:v=s.y===h?M:S,t===r){const z=Math.abs(e[d]-n[d]);if(z<=i){const B=Math.min(i-1,i-z);s[d]===h?m[d]=(u[d]>e[d]?-1:1)*B:g[d]=(c[d]>n[d]?-1:1)*B}}if(t!==r){const z=d==="x"?"y":"x",B=s[d]===l[z],C=u[z]>c[z],T=u[z]<c[z];(s[d]===1&&(!B&&C||B&&T)||s[d]!==1&&(!B&&T||B&&C))&&(v=d==="x"?M:S)}const N={x:u.x+m.x,y:u.y+m.y},L={x:c.x+g.x,y:c.y+g.y},j=Math.max(Math.abs(N.x-v[0].x),Math.abs(L.x-v[0].x)),H=Math.max(Math.abs(N.y-v[0].y),Math.abs(L.y-v[0].y));j>=H?(y=(N.x+L.x)/2,x=v[0].y):(y=v[0].x,x=(N.y+L.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...v,{x:c.x+g.x,y:c.y+g.y},n],y,x,p,w]}function F2(e,t,n,r){const o=Math.min(cp(e,t)/2,cp(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${i+o*u},${a}Q ${i},${a} ${i},${a+o*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${a+o*l}Q ${i},${a} ${i+o*s},${a}`}function Tc({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,v,y]=z2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:l},offset:u,stepPosition:c});return[f.reduce((m,g,p)=>{let w="";return p>0&&p<f.length-1?w=F2(f[p-1],g,f[p+1],a):w=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=w,m},""),d,h,v,y]}function dp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function $2(e){var f;const{sourceNode:t,targetNode:n}=e;if(!dp(t)||!dp(n))return null;const r=t.internals.handleBounds||fp(t.handles),o=n.internals.handleBounds||fp(n.handles),i=hp((r==null?void 0:r.source)??[],e.sourceHandle),a=hp(e.connectionMode===Do.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!i||!a)return(f=e.onError)==null||f.call(e,"008",an.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(i==null?void 0:i.position)||le.Bottom,l=(a==null?void 0:a.position)||le.Top,u=Qi(t,i,s),c=Qi(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function fp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Qi(e,t,n=le.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Mn(e);if(r)return{x:o+a/2,y:i+s/2};switch((t==null?void 0:t.position)??n){case le.Top:return{x:o+a/2,y:i};case le.Right:return{x:o+a,y:i+s/2};case le.Bottom:return{x:o+a/2,y:i+s};case le.Left:return{x:o,y:i+s/2}}}function hp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Oc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function B2(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||o].forEach(l=>{if(l&&typeof l=="object"){const u=Oc(l,t);i.has(u)||(a.push({id:u,color:l.color||n,...l}),i.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const Zd={nodeOrigin:[0,0],nodeExtent:Wi,elevateNodesOnSelect:!0,defaults:{}},V2={...Zd,checkEquality:!0};function Jd(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function H2(e,t,n){const r=Jd(Zd,n);for(const o of e.values())if(o.parentId)qd(o,e,t,r);else{const i=ia(o,r.nodeOrigin),a=Ro(o.extent)?o.extent:r.nodeExtent,s=Lr(i,a,Mn(o));o.internals.positionAbsolute=s}}function Rc(e,t,n,r){var l,u;const o=Jd(V2,r);let i=e.length>0;const a=new Map(t),s=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const c of e){let f=a.get(c.id);if(o.checkEquality&&c===(f==null?void 0:f.internals.userNode))t.set(c.id,f);else{const d=ia(c,o.nodeOrigin),h=Ro(c.extent)?c.extent:o.nodeExtent,v=Lr(d,h,Mn(c));f={...o.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:v,handleBounds:c.measured?f==null?void 0:f.internals.handleBounds:void 0,z:E0(c,s),userNode:c}},t.set(c.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(i=!1),c.parentId&&qd(f,t,n,r)}return i}function U2(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function qd(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=Jd(Zd,r),s=e.parentId,l=t.get(s);if(!l){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}U2(e,n);const u=o?1e3:0,{x:c,y:f,z:d}=W2(e,l,i,a,u),{positionAbsolute:h}=e.internals,v=c!==h.x||f!==h.y;(v||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:c,y:f}:h,z:d}})}function E0(e,t){return(Bt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function W2(e,t,n,r,o){const{x:i,y:a}=t.internals.positionAbsolute,s=Mn(e),l=ia(e,n),u=Ro(e.extent)?Lr(l,e.extent,s):l;let c=Lr({x:i+u.x,y:a+u.y},r,s);e.extent==="parent"&&(c=d0(c,s,t));const f=E0(e,o),d=t.internals.z??0;return{x:c.x,y:c.y,z:d>=f?d+1:f}}function ef(e,t,n,r=[0,0]){var a;const o=[],i=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const u=((a=i.get(s.parentId))==null?void 0:a.expandedRect)??Oo(l),c=h0(u,s.rect);i.set(s.parentId,{expandedRect:c,parent:l})}return i.size>0&&i.forEach(({expandedRect:s,parent:l},u)=>{var p;const c=l.internals.positionAbsolute,f=Mn(l),d=l.origin??r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,v=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,y=Math.max(f.width,Math.round(s.width)),x=Math.max(f.height,Math.round(s.height)),m=(y-f.width)*d[0],g=(x-f.height)*d[1];(h>0||v>0||m||g)&&(o.push({id:u,type:"position",position:{x:l.position.x-h+m,y:l.position.y-v+g}}),(p=n.get(u))==null||p.forEach(w=>{e.some(k=>k.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+h,y:w.position.y+v}})})),(f.width<s.width||f.height<s.height||h||v)&&o.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-m:0),height:x+(v?d[1]*v-g:0)}})}),o}function Y2(e,t,n,r,o,i){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const l=[],u=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(u.transform),f=[];for(const d of e.values()){const h=t.get(d.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),s=!0;continue}const v=Qd(d.nodeElement),y=h.measured.width!==v.width||h.measured.height!==v.height;if(!!(v.width&&v.height&&(y||!h.internals.handleBounds||d.force))){const m=d.nodeElement.getBoundingClientRect(),g=Ro(h.extent)?h.extent:i;let{positionAbsolute:p}=h.internals;h.parentId&&h.extent==="parent"?p=d0(p,v,t.get(h.parentId)):g&&(p=Lr(p,g,v));const w={...h,measured:v,internals:{...h.internals,positionAbsolute:p,handleBounds:{source:sp("source",d.nodeElement,m,c,h.id),target:sp("target",d.nodeElement,m,c,h.id)}}};t.set(h.id,w),h.parentId&&qd(w,t,n,{nodeOrigin:o}),s=!0,y&&(l.push({id:h.id,type:"dimensions",dimensions:v}),h.expandParent&&h.parentId&&f.push({id:h.id,parentId:h.parentId,rect:Oo(w,o)}))}}if(f.length>0){const d=ef(f,t,n,o);l.push(...d)}return{changes:l,updatedInternals:s}}async function K2({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function pp(e,t,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${o}-${e}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),i){a=`${o}-${e}-${i}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function C0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:i,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:o,target:i,sourceHandle:a,targetHandle:s},u=`${o}-${a}--${i}-${s}`,c=`${i}-${s}--${o}-${a}`;pp("source",l,c,e,o,a),pp("target",l,u,e,i,s),t.set(r.id,r)}}function k0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:k0(n,t):!1}function mp(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function X2(e,t,n,r){const o=new Map;for(const[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!k0(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(i);s&&o.set(i,{id:i,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return o}function wu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,l;const o=[];for(const[u,c]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&o.push({...f,position:c.position,dragging:r})}if(!e)return[o[0],o];const i=(s=n.get(e))==null?void 0:s.internals.userNode;return[i?{...i,position:((l=t.get(e))==null?void 0:l.position)||i.position,dragging:r}:o[0],o]}function Q2({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const i={x:n-o.distance.x,y:r-o.distance.y},a=sa(i,t);return{x:a.x-i.x,y:a.y-i.y}}function G2({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,v=!1,y=null;function x({noDragClassName:g,handleSelector:p,domNode:w,isSelectable:k,nodeId:M,nodeClickDistance:S=0}){d=gt(w);function N({x:z,y:B}){const{nodeLookup:C,nodeExtent:T,snapGrid:O,snapToGrid:R,nodeOrigin:P,onNodeDrag:b,onSelectionDrag:I,onError:F,updateNodePositions:U}=t();i={x:z,y:B};let K=!1;const X=s.size>1,q=X&&T?Dc(aa(s)):null,re=X&&R?Q2({dragItems:s,snapGrid:O,x:z,y:B}):null;for(const[G,$]of s){if(!C.has(G))continue;let Z={x:z-$.distance.x,y:B-$.distance.y};R&&(Z=re?{x:Math.round(Z.x+re.x),y:Math.round(Z.y+re.y)}:sa(Z,O));let ce=null;if(X&&T&&!$.extent&&q){const{positionAbsolute:ie}=$.internals,ue=ie.x-q.x+T[0][0],Ee=ie.x+$.measured.width-q.x2+T[1][0],ye=ie.y-q.y+T[0][1],nt=ie.y+$.measured.height-q.y2+T[1][1];ce=[[ue,ye],[Ee,nt]]}const{position:fe,positionAbsolute:J}=c0({nodeId:G,nextPosition:Z,nodeLookup:C,nodeExtent:ce||T,nodeOrigin:P,onError:F});K=K||$.position.x!==fe.x||$.position.y!==fe.y,$.position=fe,$.internals.positionAbsolute=J}if(v=v||K,!!K&&(U(s,!0),y&&(r||b||!M&&I))){const[G,$]=wu({nodeId:M,dragItems:s,nodeLookup:C});r==null||r(y,s,G,$),b==null||b(y,G,$),M||I==null||I(y,$)}}async function L(){if(!c)return;const{transform:z,panBy:B,autoPanSpeed:C,autoPanOnNodeDrag:T}=t();if(!T){l=!1,cancelAnimationFrame(a);return}const[O,R]=f0(u,c,C);(O!==0||R!==0)&&(i.x=(i.x??0)-O/z[2],i.y=(i.y??0)-R/z[2],await B({x:O,y:R})&&N(i)),a=requestAnimationFrame(L)}function j(z){var X;const{nodeLookup:B,multiSelectionActive:C,nodesDraggable:T,transform:O,snapGrid:R,snapToGrid:P,selectNodesOnDrag:b,onNodeDragStart:I,onSelectionDragStart:F,unselectNodesAndEdges:U}=t();f=!0,(!b||!k)&&!C&&M&&((X=B.get(M))!=null&&X.selected||U()),k&&b&&M&&(e==null||e(M));const K=vi(z.sourceEvent,{transform:O,snapGrid:R,snapToGrid:P,containerBounds:c});if(i=K,s=X2(B,T,K,M),s.size>0&&(n||I||!M&&F)){const[q,re]=wu({nodeId:M,dragItems:s,nodeLookup:B});n==null||n(z.sourceEvent,s,q,re),I==null||I(z.sourceEvent,q,re),M||F==null||F(z.sourceEvent,re)}}const H=Hy().clickDistance(S).on("start",z=>{const{domNode:B,nodeDragThreshold:C,transform:T,snapGrid:O,snapToGrid:R}=t();c=(B==null?void 0:B.getBoundingClientRect())||null,h=!1,v=!1,y=z.sourceEvent,C===0&&j(z),i=vi(z.sourceEvent,{transform:T,snapGrid:O,snapToGrid:R,containerBounds:c}),u=en(z.sourceEvent,c)}).on("drag",z=>{const{autoPanOnNodeDrag:B,transform:C,snapGrid:T,snapToGrid:O,nodeDragThreshold:R,nodeLookup:P}=t(),b=vi(z.sourceEvent,{transform:C,snapGrid:T,snapToGrid:O,containerBounds:c});if(y=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||M&&!P.has(M))&&(h=!0),!h){if(!l&&B&&f&&(l=!0,L()),!f){const I=b.xSnapped-(i.x??0),F=b.ySnapped-(i.y??0);Math.sqrt(I*I+F*F)>R&&j(z)}(i.x!==b.xSnapped||i.y!==b.ySnapped)&&s&&f&&(u=en(z.sourceEvent,c),N(b))}}).on("end",z=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:B,updateNodePositions:C,onNodeDragStop:T,onSelectionDragStop:O}=t();if(v&&(C(s,!1),v=!1),o||T||!M&&O){const[R,P]=wu({nodeId:M,dragItems:s,nodeLookup:B,dragging:!1});o==null||o(z.sourceEvent,s,R,P),T==null||T(z.sourceEvent,R,P),M||O==null||O(z.sourceEvent,P)}}}).filter(z=>{const B=z.target;return!z.button&&(!g||!mp(B,`.${g}`,w))&&(!p||mp(B,p,w))});d.call(H)}function m(){d==null||d.on(".drag",null)}return{update:x,destroy:m}}function Z2(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Ki(o,Oo(i))>0&&r.push(i);return r}const J2=250;function q2(e,t,n,r){var s,l;let o=[],i=1/0;const a=Z2(e,n,t+J2);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Qi(u,f,f.position,!0),v=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));v>t||(v<i?(o=[{...f,x:d,y:h}],i=v):v===i&&o.push({...f,x:d,y:h}))}}if(!o.length)return null;if(o.length>1){const u=r.type==="source"?"target":"source";return o.find(c=>c.type===u)??o[0]}return o[0]}function _0(e,t,n,r,o,i=!1){var u,c,f;const a=r.get(e);if(!a)return null;const s=o==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&i?{...l,...Qi(a,l,l.position,!0)}:l}function N0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function eN(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const M0=()=>!0;function tN(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:v,onConnect:y,onConnectEnd:x,isValidConnection:m=M0,onReconnectEnd:g,updateConnection:p,getTransform:w,getFromHandle:k,autoPanSpeed:M,dragThreshold:S=1,handleDomNode:N}){const L=g0(e.target);let j=0,H;const{x:z,y:B}=en(e),C=N0(i,N),T=s==null?void 0:s.getBoundingClientRect();let O=!1;if(!T||!C)return;const R=_0(o,C,r,l,t);if(!R)return;let P=en(e,T),b=!1,I=null,F=!1,U=null;function K(){if(!c||!T)return;const[fe,J]=f0(P,T,M);d({x:fe,y:J}),j=requestAnimationFrame(K)}const X={...R,nodeId:o,type:C,position:R.position},q=l.get(o);let G={inProgress:!0,isValid:null,from:Qi(q,X,le.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:q,to:P,toHandle:null,toPosition:rp[X.position],toNode:null};function $(){O=!0,p(G),v==null||v(e,{nodeId:o,handleId:r,handleType:C})}S===0&&$();function Z(fe){if(!O){const{x:Ee,y:ye}=en(fe),nt=Ee-z,Yt=ye-B;if(!(nt*nt+Yt*Yt>S*S))return;$()}if(!k()||!X){ce(fe);return}const J=w();P=en(fe,T),H=q2(la(P,J,!1,[1,1]),n,l,X),b||(K(),b=!0);const ie=b0(fe,{handle:H,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:m,doc:L,lib:u,flowId:f,nodeLookup:l});U=ie.handleDomNode,I=ie.connection,F=eN(!!H,ie.isValid);const ue={...G,isValid:F,to:ie.toHandle&&F?Qs({x:ie.toHandle.x,y:ie.toHandle.y},J):P,toHandle:ie.toHandle,toPosition:F&&ie.toHandle?ie.toHandle.position:rp[X.position],toNode:ie.toHandle?l.get(ie.toHandle.nodeId):null};F&&H&&G.toHandle&&ue.toHandle&&G.toHandle.type===ue.toHandle.type&&G.toHandle.nodeId===ue.toHandle.nodeId&&G.toHandle.id===ue.toHandle.id&&G.to.x===ue.to.x&&G.to.y===ue.to.y||(p(ue),G=ue)}function ce(fe){if(O){(H||U)&&I&&F&&(y==null||y(I));const{inProgress:J,...ie}=G,ue={...ie,toPosition:G.toHandle?G.toPosition:null};x==null||x(fe,ue),i&&(g==null||g(fe,ue))}h(),cancelAnimationFrame(j),b=!1,F=!1,I=null,U=null,L.removeEventListener("mousemove",Z),L.removeEventListener("mouseup",ce),L.removeEventListener("touchmove",Z),L.removeEventListener("touchend",ce)}L.addEventListener("mousemove",Z),L.addEventListener("mouseup",ce),L.addEventListener("touchmove",Z),L.addEventListener("touchend",ce)}function b0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:l,isValidConnection:u=M0,nodeLookup:c}){const f=i==="target",d=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:v}=en(e),y=a.elementFromPoint(h,v),x=y!=null&&y.classList.contains(`${s}-flow__handle`)?y:d,m={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const g=N0(void 0,x),p=x.getAttribute("data-nodeid"),w=x.getAttribute("data-handleid"),k=x.classList.contains("connectable"),M=x.classList.contains("connectableend");if(!p||!g)return m;const S={source:f?p:r,sourceHandle:f?w:o,target:f?r:p,targetHandle:f?o:w};m.connection=S;const L=k&&M&&(n===Do.Strict?f&&g==="source"||!f&&g==="target":p!==r||w!==o);m.isValid=L&&u(S),m.toHandle=_0(p,g,w,c,n,!0)}return m}const Lc={onPointerDown:tN,isValid:b0};function nN({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=gt(e);function i({translateExtent:s,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const v=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const w=n(),k=p.sourceEvent.ctrlKey&&Xi()?10:1,M=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*c,S=w[2]*Math.pow(2,M*k);t.scaleTo(S)};let y=[0,0];const x=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(y=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const w=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const k=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],M=[k[0]-y[0],k[1]-y[1]];y=k;const S=r()*Math.max(w[2],Math.log(w[2]))*(h?-1:1),N={x:w[0]-M[0]*S,y:w[1]-M[1]*S},L=[[0,0],[l,u]];t.setViewportConstrained({x:N.x,y:N.y,zoom:w[2]},L,s)},g=o0().on("start",x).on("zoom",f?m:null).on("zoom.wheel",d?v:null);o.call(g,{})}function a(){o.on("zoom",null)}return{update:i,destroy:a,pointer:zt}}const rN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,_l=e=>({x:e.x,y:e.y,zoom:e.k}),Su=({x:e,y:t,zoom:n})=>El.translate(e,t).scale(n),lo=(e,t)=>e.target.closest(`.${t}`),P0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),oN=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Eu=(e,t=0,n=oN,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},D0=e=>{const t=e.ctrlKey&&Xi()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function iN({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(lo(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const x=zt(c),m=D0(c),g=f*Math.pow(2,m);r.scaleTo(n,g,x,c);return}const d=c.deltaMode===1?20:1;let h=o===_r.Vertical?0:c.deltaX*d,v=o===_r.Horizontal?0:c.deltaY*d;!Xi()&&c.shiftKey&&o!==_r.Vertical&&(h=c.deltaY*d,v=0),r.translateBy(n,-(h/f)*i,-(v/f)*i,{internal:!0});const y=_l(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s==null||s(c,y)),e.isPanScrolling&&(l==null||l(c,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),e.isPanScrolling=!1},150))}}function aN({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const i=r.type==="wheel",a=!t&&i&&!r.ctrlKey,s=lo(r,e);if(r.ctrlKey&&i&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,o)}}function sN({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,a,s;if((i=r.sourceEvent)!=null&&i.internal)return;const o=_l(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function lN({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{var a,s;e.usedRightMouseButton=!!(n&&P0(t,e.mouseButton??0)),(a=i.sourceEvent)!=null&&a.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!((s=i.sourceEvent)!=null&&s.internal)&&(o==null||o(i.sourceEvent,_l(i.transform)))}}function uN({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,i&&P0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&rN(e.prevViewport,a.transform))){const l=_l(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(a.sourceEvent,l)},n?150:0)}}}function cN({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u}){return c=>{var v;const f=e||t,d=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(lo(c,`${u}-flow__node`)||lo(c,`${u}-flow__edge`)))return!0;if(!r&&!f&&!o&&!i&&!n||a||lo(c,s)&&c.type==="wheel"||lo(c,l)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((v=c.touches)==null?void 0:v.length)>1)return c.preventDefault(),!1;if(!f&&!o&&!d&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function dN({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),d=o0().clickDistance(!Bt(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),h=gt(e).call(d);p({x:i.x,y:i.y,zoom:To(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);const v=h.on("wheel.zoom"),y=h.on("dblclick.zoom");d.wheelDelta(D0);function x(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:us).transform(Eu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function m({noWheelClassName:z,noPanClassName:B,onPaneContextMenu:C,userSelectionActive:T,panOnScroll:O,panOnDrag:R,panOnScrollMode:P,panOnScrollSpeed:b,preventScrolling:I,zoomOnPinch:F,zoomOnScroll:U,zoomOnDoubleClick:K,zoomActivationKeyPressed:X,lib:q,onTransformChange:re}){T&&!c.isZoomingOrPanning&&g();const $=O&&!X&&!T?iN({zoomPanValues:c,noWheelClassName:z,d3Selection:h,d3Zoom:d,panOnScrollMode:P,panOnScrollSpeed:b,zoomOnPinch:F,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:l}):aN({noWheelClassName:z,preventScrolling:I,d3ZoomHandler:v});if(h.on("wheel.zoom",$,{passive:!1}),!T){const ce=sN({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:s});d.on("start",ce);const fe=lN({zoomPanValues:c,panOnDrag:R,onPaneContextMenu:!!C,onPanZoom:a,onTransformChange:re});d.on("zoom",fe);const J=uN({zoomPanValues:c,panOnDrag:R,panOnScroll:O,onPaneContextMenu:C,onPanZoomEnd:l,onDraggingChange:u});d.on("end",J)}const Z=cN({zoomActivationKeyPressed:X,panOnDrag:R,zoomOnScroll:U,panOnScroll:O,zoomOnDoubleClick:K,zoomOnPinch:F,userSelectionActive:T,noPanClassName:B,noWheelClassName:z,lib:q});d.filter(Z),K?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function g(){d.on("zoom",null)}async function p(z,B,C){const T=Su(z),O=d==null?void 0:d.constrain()(T,B,C);return O&&await x(O),new Promise(R=>R(O))}async function w(z,B){const C=Su(z);return await x(C,B),new Promise(T=>T(C))}function k(z){if(h){const B=Su(z),C=h.property("__zoom");(C.k!==z.zoom||C.x!==z.x||C.y!==z.y)&&(d==null||d.transform(h,B,null,{sync:!0}))}}function M(){const z=h?r0(h.node()):{x:0,y:0,k:1};return{x:z.x,y:z.y,zoom:z.k}}function S(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:us).scaleTo(Eu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function N(z,B){return h?new Promise(C=>{d==null||d.interpolate((B==null?void 0:B.interpolate)==="linear"?yi:us).scaleBy(Eu(h,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>C(!0)),z)}):Promise.resolve(!1)}function L(z){d==null||d.scaleExtent(z)}function j(z){d==null||d.translateExtent(z)}function H(z){const B=!Bt(z)||z<0?0:z;d==null||d.clickDistance(B)}return{update:m,destroy:g,setViewport:w,setViewportConstrained:p,getViewport:M,scaleTo:S,scaleBy:N,setScaleExtent:L,setTranslateExtent:j,syncViewport:k,setClickDistance:H}}var Lo;(function(e){e.Line="line",e.Handle="handle"})(Lo||(Lo={}));function fN({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(l[0]=l[0]*-1),s&&i&&(l[1]=l[1]*-1),l}function hN(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function On(e,t){return Math.max(0,t-e)}function Rn(e,t){return Math.max(0,e-t)}function Ua(e,t,n){return Math.max(0,t-e,e-n)}function gp(e,t){return e?!t:t}function pN(e,t,n,r,o,i,a,s){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:v}=n,{minWidth:y,maxWidth:x,minHeight:m,maxHeight:g}=r,{x:p,y:w,width:k,height:M,aspectRatio:S}=e;let N=Math.floor(c?h-e.pointerX:0),L=Math.floor(f?v-e.pointerY:0);const j=k+(l?-N:N),H=M+(u?-L:L),z=-i[0]*k,B=-i[1]*M;let C=Ua(j,y,x),T=Ua(H,m,g);if(a){let P=0,b=0;l&&N<0?P=On(p+N+z,a[0][0]):!l&&N>0&&(P=Rn(p+j+z,a[1][0])),u&&L<0?b=On(w+L+B,a[0][1]):!u&&L>0&&(b=Rn(w+H+B,a[1][1])),C=Math.max(C,P),T=Math.max(T,b)}if(s){let P=0,b=0;l&&N>0?P=Rn(p+N,s[0][0]):!l&&N<0&&(P=On(p+j,s[1][0])),u&&L>0?b=Rn(w+L,s[0][1]):!u&&L<0&&(b=On(w+H,s[1][1])),C=Math.max(C,P),T=Math.max(T,b)}if(o){if(c){const P=Ua(j/S,m,g)*S;if(C=Math.max(C,P),a){let b=0;!l&&!u||l&&!u&&d?b=Rn(w+B+j/S,a[1][1])*S:b=On(w+B+(l?N:-N)/S,a[0][1])*S,C=Math.max(C,b)}if(s){let b=0;!l&&!u||l&&!u&&d?b=On(w+j/S,s[1][1])*S:b=Rn(w+(l?N:-N)/S,s[0][1])*S,C=Math.max(C,b)}}if(f){const P=Ua(H*S,y,x)/S;if(T=Math.max(T,P),a){let b=0;!l&&!u||u&&!l&&d?b=Rn(p+H*S+z,a[1][0])/S:b=On(p+(u?L:-L)*S+z,a[0][0])/S,T=Math.max(T,b)}if(s){let b=0;!l&&!u||u&&!l&&d?b=On(p+H*S,s[1][0])/S:b=Rn(p+(u?L:-L)*S,s[0][0])/S,T=Math.max(T,b)}}}L=L+(L<0?T:-T),N=N+(N<0?C:-C),o&&(d?j>H*S?L=(gp(l,u)?-N:N)/S:N=(gp(l,u)?-L:L)*S:c?(L=N/S,u=l):(N=L*S,l=u));const O=l?p+N:p,R=u?w+L:w;return{width:k+(l?-N:N),height:M+(u?-L:L),x:i[0]*N*(l?-1:1)+O,y:i[1]*L*(u?-1:1)+R}}const T0={width:0,height:0,x:0,y:0},mN={...T0,pointerX:0,pointerY:0,aspectRatio:1};function gN(e){return[[0,0],[e.measured.width,e.measured.height]]}function yN(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,s=n[0]*i,l=n[1]*a;return[[r-s,o-l],[r+i-s,o+a-l]]}function vN({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const i=gt(e);function a({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:f,onResizeStart:d,onResize:h,onResizeEnd:v,shouldResize:y}){let x={...T0},m={...mN};const g=hN(l);let p,w=null,k=[],M,S,N;const L=Hy().on("start",j=>{const{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,paneDomNode:O}=n();if(p=H.get(t),!p)return;w=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:P}=vi(j.sourceEvent,{transform:z,snapGrid:B,snapToGrid:C,containerBounds:w});x={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},m={...x,pointerX:R,pointerY:P,aspectRatio:x.width/x.height},M=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(M=H.get(p.parentId),S=M&&p.extent==="parent"?gN(M):void 0),k=[],N=void 0;for(const[b,I]of H)if(I.parentId===t&&(k.push({id:b,position:{...I.position},extent:I.extent}),I.extent==="parent"||I.expandParent)){const F=yN(I,p,I.origin??T);N?N=[[Math.min(F[0][0],N[0][0]),Math.min(F[0][1],N[0][1])],[Math.max(F[1][0],N[1][0]),Math.max(F[1][1],N[1][1])]]:N=F}d==null||d(j,{...x})}).on("drag",j=>{const{transform:H,snapGrid:z,snapToGrid:B,nodeOrigin:C}=n(),T=vi(j.sourceEvent,{transform:H,snapGrid:z,snapToGrid:B,containerBounds:w}),O=[];if(!p)return;const{x:R,y:P,width:b,height:I}=x,F={},U=p.origin??C,{width:K,height:X,x:q,y:re}=pN(m,g,T,u,c,U,S,N),G=K!==b,$=X!==I,Z=q!==R&&G,ce=re!==P&&$;if(!Z&&!ce&&!G&&!$)return;if((Z||ce||U[0]===1||U[1]===1)&&(F.x=Z?q:x.x,F.y=ce?re:x.y,x.x=F.x,x.y=F.y,k.length>0)){const ue=q-R,Ee=re-P;for(const ye of k)ye.position={x:ye.position.x-ue+U[0]*(K-b),y:ye.position.y-Ee+U[1]*(X-I)},O.push(ye)}if((G||$)&&(F.width=G&&(!f||f==="horizontal")?K:x.width,F.height=$&&(!f||f==="vertical")?X:x.height,x.width=F.width,x.height=F.height),M&&p.expandParent){const ue=U[0]*(F.width??0);F.x&&F.x<ue&&(x.x=ue,m.x=m.x-(F.x-ue));const Ee=U[1]*(F.height??0);F.y&&F.y<Ee&&(x.y=Ee,m.y=m.y-(F.y-Ee))}const fe=fN({width:x.width,prevWidth:b,height:x.height,prevHeight:I,affectsX:g.affectsX,affectsY:g.affectsY}),J={...x,direction:fe};(y==null?void 0:y(j,J))!==!1&&(h==null||h(j,J),r(F,O))}).on("end",j=>{v==null||v(j,{...x}),o==null||o({...x})});i.call(L)}function s(){i.on(".drag",null)}return{update:a,destroy:s}}const{useDebugValue:xN}=Js,{useSyncExternalStoreWithSelector:wN}=Ey,SN=e=>e;function O0(e,t=SN,n){const r=wN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return xN(r),r}const yp=(e,t)=>{const n=yy(e),r=(o,i=t)=>O0(n,o,i);return Object.assign(r,n),r},EN=(e,t)=>e?yp(e,t):yp;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Nl=_.createContext(null),CN=Nl.Provider,R0=an.error001();function xe(e,t){const n=_.useContext(Nl);if(n===null)throw new Error(R0);return O0(n,e,t)}function Re(){const e=_.useContext(Nl);if(e===null)throw new Error(R0);return _.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const vp={display:"none"},kN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},L0="react-flow__node-desc",I0="react-flow__edge-desc",_N="react-flow__aria-live",NN=e=>e.ariaLiveMessage,MN=e=>e.ariaLabelConfig;function bN({rfId:e}){const t=xe(NN);return E.jsx("div",{id:`${_N}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:kN,children:t})}function PN({rfId:e,disableKeyboardA11y:t}){const n=xe(MN);return E.jsxs(E.Fragment,{children:[E.jsx("div",{id:`${L0}-${e}`,style:vp,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),E.jsx("div",{id:`${I0}-${e}`,style:vp,children:n["edge.a11yDescription.default"]}),!t&&E.jsx(bN,{rfId:e})]})}const Ml=_.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},i)=>{const a=`${e}`.split("-");return E.jsx("div",{className:He(["react-flow__panel",n,...a]),style:r,ref:i,...o,children:t})});Ml.displayName="Panel";function DN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:E.jsx(Ml,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:E.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const TN=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Wa=e=>e.id;function ON(e,t){return je(e.selectedNodes.map(Wa),t.selectedNodes.map(Wa))&&je(e.selectedEdges.map(Wa),t.selectedEdges.map(Wa))}function RN({onSelectionChange:e}){const t=Re(),{selectedNodes:n,selectedEdges:r}=xe(TN,ON);return _.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(i=>i(o))},[n,r,e]),null}const LN=e=>!!e.onSelectionChangeHandlers;function IN({onSelectionChange:e}){const t=xe(LN);return e||t?E.jsx(RN,{onSelectionChange:e}):null}const A0=[0,0],AN={x:0,y:0,zoom:1},jN=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],xp=[...jN,"rfId"],zN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),wp={translateExtent:Wi,nodeOrigin:A0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function FN(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=xe(zN,je),c=Re();_.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=wp,s()}),[]);const f=_.useRef(wp);return _.useEffect(()=>{for(const d of xp){const h=e[d],v=f.current[d];h!==v&&(typeof e[d]>"u"||(d==="nodes"?t(h):d==="edges"?n(h):d==="minZoom"?r(h):d==="maxZoom"?o(h):d==="translateExtent"?i(h):d==="nodeExtent"?a(h):d==="paneClickDistance"?u(h):d==="ariaLabelConfig"?c.setState({ariaLabelConfig:D2(h)}):d==="fitView"?c.setState({fitViewQueued:h}):d==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[d]:h})))}f.current=e},xp.map(d=>e[d])),null}function Sp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function $N(e){var r;const[t,n]=_.useState(e==="system"?null:e);return _.useEffect(()=>{if(e!=="system"){n(e);return}const o=Sp(),i=()=>n(o!=null&&o.matches?"dark":"light");return i(),o==null||o.addEventListener("change",i),()=>{o==null||o.removeEventListener("change",i)}},[e]),t!==null?t:(r=Sp())!=null&&r.matches?"dark":"light"}const Ep=typeof document<"u"?document:null;function Gi(e=null,t={target:Ep,actInsideInputWithModifier:!0}){const[n,r]=_.useState(!1),o=_.useRef(!1),i=_.useRef(new Set([])),[a,s]=_.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return _.useEffect(()=>{const l=(t==null?void 0:t.target)??Ep,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var x,m;if(o.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!o.current||o.current&&!u)&&y0(h))return!1;const y=kp(h.code,s);if(i.current.add(h[y]),Cp(a,i.current,!1)){const g=((m=(x=h.composedPath)==null?void 0:x.call(h))==null?void 0:m[0])||h.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(o.current||!p)&&h.preventDefault(),r(!0)}},f=h=>{const v=kp(h.code,s);Cp(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(h[v]),h.key==="Meta"&&i.current.clear(),o.current=!1},d=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Cp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function kp(e,t){return t.includes(e)?"code":"key"}const BN=()=>{const e=Re();return _.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:i,maxZoom:a,panZoom:s}=e.getState(),l=Xd(t,r,o,i,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-l},c=n.snapGrid??o,f=n.snapToGrid??i;return la(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),a=Qs(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function j0(e,t){const n=[],r=new Map,o=[];for(const i of e)if(i.type==="add"){o.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const a=r.get(i.id);a?a.push(i):r.set(i.id,[i])}for(const i of t){const a=r.get(i.id);if(!a){n.push(i);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...i};for(const l of a)VN(l,s);n.push(s)}return o.length&&o.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function VN(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function z0(e,t){return j0(e,t)}function HN(e,t){return j0(e,t)}function pr(e,t){return{id:e,type:"select",selected:t}}function uo(e,t=new Set,n=!1){const r=[];for(const[o,i]of e){const a=t.has(o);!(i.selected===void 0&&!a)&&i.selected!==a&&(n&&(i.selected=a),r.push(pr(i.id,a)))}return r}function _p({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,a]of e.entries()){const s=t.get(a.id),l=((o=s==null?void 0:s.internals)==null?void 0:o.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Np(e){return{id:e.id,type:"remove"}}const Mp=e=>w2(e),UN=e=>u0(e);function F0(e){return _.forwardRef(e)}const WN=typeof window<"u"?_.useLayoutEffect:_.useEffect;function bp(e){const[t,n]=_.useState(BigInt(0)),[r]=_.useState(()=>YN(()=>n(o=>o+BigInt(1))));return WN(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function YN(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const $0=_.createContext(null);function KN({children:e}){const t=Re(),n=_.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h}=t.getState();let v=l;for(const x of s)v=typeof x=="function"?x(v):x;const y=_p({items:v,lookup:d});c&&u(v),y.length>0?f==null||f(y):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:m,setNodes:g}=t.getState();x&&g(m)})},[]),r=bp(n),o=_.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const v of s)h=typeof v=="function"?v(h):v;c?u(h):f&&f(_p({items:h,lookup:d}))},[]),i=bp(o),a=_.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return E.jsx($0.Provider,{value:a,children:e})}function XN(){const e=_.useContext($0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const QN=e=>!!e.panZoom;function tf(){const e=BN(),t=Re(),n=XN(),r=xe(QN),o=_.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var m,g;const{nodeLookup:d,nodeOrigin:h}=t.getState(),v=Mp(f)?f:d.get(f.id),y=v.parentId?m0(v.position,v.measured,v.parentId,d,h):v.position,x={...v,position:y,width:((m=v.measured)==null?void 0:m.width)??v.width,height:((g=v.measured)==null?void 0:g.height)??v.height};return Oo(x)},u=(f,d,h={replace:!1})=>{a(v=>v.map(y=>{if(y.id===f){const x=typeof d=="function"?d(y):d;return h.replace&&Mp(x)?x:{...y,...x}}return y}))},c=(f,d,h={replace:!1})=>{s(v=>v.map(y=>{if(y.id===f){const x=typeof d=="function"?d(y):d;return h.replace&&UN(x)?x:{...y,...x}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=i(f))==null?void 0:d.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[v,y,x]=h;return{nodes:f.map(m=>({...m})),edges:d.map(m=>({...m})),viewport:{x:v,y,zoom:x}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:v,onNodesDelete:y,onEdgesDelete:x,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:w}=t.getState(),{nodes:k,edges:M}=await _2({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:v,onBeforeDelete:w}),S=M.length>0,N=k.length>0;if(S){const L=M.map(Np);x==null||x(M),g(L)}if(N){const L=k.map(Np);y==null||y(k),m(L)}return(N||S)&&(p==null||p({nodes:k,edges:M})),{deletedNodes:k,deletedEdges:M}},getIntersectingNodes:(f,d=!0,h)=>{const v=ip(f),y=v?f:l(f),x=h!==void 0;return y?(h||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!v&&(m.id===f.id||!g.internals.positionAbsolute))return!1;const p=Oo(x?m:g),w=Ki(p,y);return d&&w>0||w>=p.width*p.height||w>=y.width*y.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const y=ip(f)?f:l(f);if(!y)return!1;const x=Ki(y,d);return h&&x>0||x>=y.width*y.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,v=>{const y=typeof d=="function"?d(v):d;return h.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,v=>{const y=typeof d=="function"?d(v):d;return h.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return S2(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:v.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??P2();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return _.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Pp=e=>e.selected,GN=typeof window<"u"?window:void 0;function ZN({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Re(),{deleteElements:r}=tf(),o=Gi(e,{actInsideInputWithModifier:!1}),i=Gi(t,{target:GN});_.useEffect(()=>{if(o){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(Pp),edges:a.filter(Pp)}),n.setState({nodesSelectionActive:!1})}},[o]),_.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function JN(e){const t=Re();_.useEffect(()=>{const n=()=>{var o,i;if(!e.current)return!1;const r=Qd(e.current);(r.height===0||r.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",an.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const bl={position:"absolute",width:"100%",height:"100%",top:0,left:0},qN=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function eM({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:i=_r.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:v,noWheelClassName:y,noPanClassName:x,onViewportChange:m,isControlledViewport:g,paneClickDistance:p}){const w=Re(),k=_.useRef(null),{userSelectionActive:M,lib:S}=xe(qN,je),N=Gi(d),L=_.useRef();JN(k);const j=_.useCallback(H=>{m==null||m({x:H[0],y:H[1],zoom:H[2]}),g||w.setState({transform:H})},[m,g]);return _.useEffect(()=>{if(k.current){L.current=dN({domNode:k.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,paneClickDistance:p,onDraggingChange:C=>w.setState({paneDragging:C}),onPanZoomStart:(C,T)=>{const{onViewportChangeStart:O,onMoveStart:R}=w.getState();R==null||R(C,T),O==null||O(T)},onPanZoom:(C,T)=>{const{onViewportChange:O,onMove:R}=w.getState();R==null||R(C,T),O==null||O(T)},onPanZoomEnd:(C,T)=>{const{onViewportChangeEnd:O,onMoveEnd:R}=w.getState();R==null||R(C,T),O==null||O(T)}});const{x:H,y:z,zoom:B}=L.current.getViewport();return w.setState({panZoom:L.current,transform:[H,z,B],domNode:k.current.closest(".react-flow")}),()=>{var C;(C=L.current)==null||C.destroy()}}},[]),_.useEffect(()=>{var H;(H=L.current)==null||H.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:N,preventScrolling:h,noPanClassName:x,userSelectionActive:M,noWheelClassName:y,lib:S,onTransformChange:j})},[e,t,n,r,o,i,a,s,N,h,x,M,y,S,j]),E.jsx("div",{className:"react-flow__renderer",ref:k,style:bl,children:v})}const tM=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function nM(){const{userSelectionActive:e,userSelectionRect:t}=xe(tM,je);return e&&t?E.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Cu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},rM=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function oM({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Yi.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:i,onSelectionEnd:a,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:f,onPaneMouseLeave:d,children:h}){const v=Re(),{userSelectionActive:y,elementsSelectable:x,dragging:m,connectionInProgress:g}=xe(rM,je),p=x&&(e||y),w=_.useRef(null),k=_.useRef(),M=_.useRef(new Set),S=_.useRef(new Set),N=_.useRef(!1),L=_.useRef(!1),j=R=>{if(N.current||g){N.current=!1;return}s==null||s(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},H=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},z=u?R=>u(R):void 0,B=R=>{var U,K;const{resetSelectedElements:P,domNode:b}=v.getState();if(k.current=b==null?void 0:b.getBoundingClientRect(),!x||!e||R.button!==0||R.target!==w.current||!k.current)return;(K=(U=R.target)==null?void 0:U.setPointerCapture)==null||K.call(U,R.pointerId),L.current=!0,N.current=!1;const{x:I,y:F}=en(R.nativeEvent,k.current);P(),v.setState({userSelectionRect:{width:0,height:0,startX:I,startY:F,x:I,y:F}}),i==null||i(R)},C=R=>{const{userSelectionRect:P,transform:b,nodeLookup:I,edgeLookup:F,connectionLookup:U,triggerNodeChanges:K,triggerEdgeChanges:X,defaultEdgeOptions:q}=v.getState();if(!k.current||!P)return;N.current=!0;const{x:re,y:G}=en(R.nativeEvent,k.current),{startX:$,startY:Z}=P,ce={startX:$,startY:Z,x:re<$?re:$,y:G<Z?G:Z,width:Math.abs(re-$),height:Math.abs(G-Z)},fe=M.current,J=S.current;M.current=new Set(Kd(I,ce,b,n===Yi.Partial,!0).map(ue=>ue.id)),S.current=new Set;const ie=(q==null?void 0:q.selectable)??!0;for(const ue of M.current){const Ee=U.get(ue);if(Ee)for(const{edgeId:ye}of Ee.values()){const nt=F.get(ye);nt&&(nt.selectable??ie)&&S.current.add(ye)}}if(!ap(fe,M.current)){const ue=uo(I,M.current,!0);K(ue)}if(!ap(J,S.current)){const ue=uo(F,S.current);X(ue)}v.setState({userSelectionRect:ce,userSelectionActive:!0,nodesSelectionActive:!1})},T=R=>{var b,I;if(R.button!==0||!L.current)return;(I=(b=R.target)==null?void 0:b.releasePointerCapture)==null||I.call(b,R.pointerId);const{userSelectionRect:P}=v.getState();!y&&P&&R.target===w.current&&(j==null||j(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:M.current.size>0}),a==null||a(R),(t||o)&&(N.current=!1),L.current=!1},O=r===!0||Array.isArray(r)&&r.includes(0);return E.jsxs("div",{className:He(["react-flow__pane",{draggable:O,dragging:m,selection:e}]),onClick:p?void 0:Cu(j,w),onContextMenu:Cu(H,w),onWheel:Cu(z,w),onPointerEnter:p?void 0:c,onPointerDown:p?B:f,onPointerMove:p?C:f,onPointerUp:p?T:void 0,onPointerLeave:d,ref:w,style:bl,children:[h,E.jsx(nM,{})]})}function Ic({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",an.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):o([e])}function B0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:a}){const s=Re(),[l,u]=_.useState(!1),c=_.useRef();return _.useEffect(()=>{c.current=G2({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{Ic({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),_.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:a}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,i,e,o]),l}const iM=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function V0(){const e=Re();return _.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:i,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=iM(a),h=o?i[0]:5,v=o?i[1]:5,y=n.direction.x*h*n.factor,x=n.direction.y*v*n.factor;for(const[,m]of u){if(!d(m))continue;let g={x:m.internals.positionAbsolute.x+y,y:m.internals.positionAbsolute.y+x};o&&(g=sa(g,i));const{position:p,positionAbsolute:w}=c0({nodeId:m.id,nextPosition:g,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});m.position=p,m.internals.positionAbsolute=w,f.set(m.id,m)}l(f)},[])}const nf=_.createContext(null),aM=nf.Provider;nf.Consumer;const H0=()=>_.useContext(nf),sM=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),lM=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:i===Do.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!o,valid:c&&u}};function uM({type:e="source",position:t=le.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var T,O;const v=a||null,y=e==="target",x=Re(),m=H0(),{connectOnClick:g,noPanClassName:p,rfId:w}=xe(sM,je),{connectingFrom:k,connectingTo:M,clickConnecting:S,isPossibleEndHandle:N,connectionInProcess:L,clickConnectionInProcess:j,valid:H}=xe(lM(m,v,e),je);m||(O=(T=x.getState()).onError)==null||O.call(T,"010",an.error010());const z=R=>{const{defaultEdgeOptions:P,onConnect:b,hasDefaultEdges:I}=x.getState(),F={...P,...R};if(I){const{edges:U,setEdges:K}=x.getState();K(A2(F,U))}b==null||b(F),s==null||s(F)},B=R=>{if(!m)return;const P=v0(R.nativeEvent);if(o&&(P&&R.button===0||!P)){const b=x.getState();Lc.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:b.autoPanOnConnect,connectionMode:b.connectionMode,connectionRadius:b.connectionRadius,domNode:b.domNode,nodeLookup:b.nodeLookup,lib:b.lib,isTarget:y,handleId:v,nodeId:m,flowId:b.rfId,panBy:b.panBy,cancelConnection:b.cancelConnection,onConnectStart:b.onConnectStart,onConnectEnd:b.onConnectEnd,updateConnection:b.updateConnection,onConnect:z,isValidConnection:n||b.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:b.autoPanSpeed,dragThreshold:b.connectionDragThreshold})}P?c==null||c(R):f==null||f(R)},C=R=>{const{onClickConnectStart:P,onClickConnectEnd:b,connectionClickStartHandle:I,connectionMode:F,isValidConnection:U,lib:K,rfId:X,nodeLookup:q,connection:re}=x.getState();if(!m||!I&&!o)return;if(!I){P==null||P(R.nativeEvent,{nodeId:m,handleId:v,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:m,type:e,id:v}});return}const G=g0(R.target),$=n||U,{connection:Z,isValid:ce}=Lc.isValid(R.nativeEvent,{handle:{nodeId:m,id:v,type:e},connectionMode:F,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:$,flowId:X,doc:G,lib:K,nodeLookup:q});ce&&Z&&z(Z);const fe=structuredClone(re);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,b==null||b(R,fe),x.setState({connectionClickStartHandle:null})};return E.jsx("div",{"data-handleid":v,"data-nodeid":m,"data-handlepos":t,"data-id":`${w}-${m}-${v}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,u,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:i,clickconnecting:S,connectingfrom:k,connectingto:M,valid:H,connectionindicator:r&&(!L||N)&&(L||j?i:o)}]),onMouseDown:B,onTouchStart:B,onClick:g?C:void 0,ref:h,...d,children:l})}const er=_.memo(F0(uM));function cM({data:e,isConnectable:t,sourcePosition:n=le.Bottom}){return E.jsxs(E.Fragment,{children:[e==null?void 0:e.label,E.jsx(er,{type:"source",position:n,isConnectable:t})]})}function dM({data:e,isConnectable:t,targetPosition:n=le.Top,sourcePosition:r=le.Bottom}){return E.jsxs(E.Fragment,{children:[E.jsx(er,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,E.jsx(er,{type:"source",position:r,isConnectable:t})]})}function fM(){return null}function hM({data:e,isConnectable:t,targetPosition:n=le.Top}){return E.jsxs(E.Fragment,{children:[E.jsx(er,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Gs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Dp={input:cM,default:dM,output:hM,group:fM};function pM(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const mM=e=>{const{width:t,height:n,x:r,y:o}=aa(e.nodeLookup,{filter:i=>!!i.selected});return{width:Bt(t)?t:null,height:Bt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function gM({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:o,height:i,transformString:a,userSelectionActive:s}=xe(mM,je),l=V0(),u=_.useRef(null);if(_.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),B0({nodeRef:u}),s||!o||!i)return null;const c=e?d=>{const h=r.getState().nodes.filter(v=>v.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(Gs,d.key)&&(d.preventDefault(),l({direction:Gs[d.key],factor:d.shiftKey?4:1}))};return E.jsx("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:E.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:i}})})}const Tp=typeof window<"u"?window:void 0,yM=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function U0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:w,panOnScrollSpeed:k,panOnScrollMode:M,zoomOnDoubleClick:S,panOnDrag:N,defaultViewport:L,translateExtent:j,minZoom:H,maxZoom:z,preventScrolling:B,onSelectionContextMenu:C,noWheelClassName:T,noPanClassName:O,disableKeyboardA11y:R,onViewportChange:P,isControlledViewport:b}){const{nodesSelectionActive:I,userSelectionActive:F}=xe(yM),U=Gi(u,{target:Tp}),K=Gi(y,{target:Tp}),X=K||N,q=K||w,re=c&&X!==!0,G=U||F||re;return ZN({deleteKeyCode:l,multiSelectionKeyCode:v}),E.jsx(eM,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:q,panOnScrollSpeed:k,panOnScrollMode:M,zoomOnDoubleClick:S,panOnDrag:!U&&X,defaultViewport:L,translateExtent:j,minZoom:H,maxZoom:z,zoomActivationKeyCode:x,preventScrolling:B,noWheelClassName:T,noPanClassName:O,onViewportChange:P,isControlledViewport:b,paneClickDistance:s,children:E.jsxs(oM,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:X,isSelecting:!!G,selectionMode:f,selectionKeyPressed:U,selectionOnDrag:re,children:[e,I&&E.jsx(gM,{onSelectionContextMenu:C,noPanClassName:O,disableKeyboardA11y:R})]})})}U0.displayName="FlowRenderer";const vM=_.memo(U0),xM=e=>t=>e?Kd(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function wM(e){return xe(_.useCallback(xM(e),[e]),je)}const SM=e=>e.updateNodeInternals;function EM(){const e=xe(SM),[t]=_.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const i=o.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:o.target,force:!0})}),e(r)}));return _.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function CM({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=Re(),i=_.useRef(null),a=_.useRef(null),s=_.useRef(e.sourcePosition),l=_.useRef(e.targetPosition),u=_.useRef(t),c=n&&!!e.internals.handleBounds;return _.useEffect(()=>{i.current&&!e.hidden&&(!c||a.current!==i.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(i.current),a.current=i.current)},[c,e.hidden]),_.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),_.useEffect(()=>{if(i.current){const f=u.current!==t,d=s.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function kM({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:i,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:v,rfId:y,nodeTypes:x,nodeClickDistance:m,onError:g}){const{node:p,internals:w,isParent:k}=xe($=>{const Z=$.nodeLookup.get(e),ce=$.parentLookup.has(e);return{node:Z,internals:Z.internals,isParent:ce}},je);let M=p.type||"default",S=(x==null?void 0:x[M])||Dp[M];S===void 0&&(g==null||g("003",an.error003(M)),M="default",S=(x==null?void 0:x.default)||Dp.default);const N=!!(p.draggable||s&&typeof p.draggable>"u"),L=!!(p.selectable||l&&typeof p.selectable>"u"),j=!!(p.connectable||u&&typeof p.connectable>"u"),H=!!(p.focusable||c&&typeof p.focusable>"u"),z=Re(),B=p0(p),C=CM({node:p,nodeType:M,hasDimensions:B,resizeObserver:f}),T=B0({nodeRef:C,disabled:p.hidden||!N,noDragClassName:d,handleSelector:p.dragHandle,nodeId:e,isSelectable:L,nodeClickDistance:m}),O=V0();if(p.hidden)return null;const R=Mn(p),P=pM(p),b=L||N||t||n||r||o,I=n?$=>n($,{...w.userNode}):void 0,F=r?$=>r($,{...w.userNode}):void 0,U=o?$=>o($,{...w.userNode}):void 0,K=i?$=>i($,{...w.userNode}):void 0,X=a?$=>a($,{...w.userNode}):void 0,q=$=>{const{selectNodesOnDrag:Z,nodeDragThreshold:ce}=z.getState();L&&(!Z||!N||ce>0)&&Ic({id:e,store:z,nodeRef:C}),t&&t($,{...w.userNode})},re=$=>{if(!(y0($.nativeEvent)||v)){if(i0.includes($.key)&&L){const Z=$.key==="Escape";Ic({id:e,store:z,unselect:Z,nodeRef:C})}else if(N&&p.selected&&Object.prototype.hasOwnProperty.call(Gs,$.key)){$.preventDefault();const{ariaLabelConfig:Z}=z.getState();z.setState({ariaLiveMessage:Z["node.a11yDescription.ariaLiveMessage"]({direction:$.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),O({direction:Gs[$.key],factor:$.shiftKey?4:1})}}},G=()=>{var ue;if(v||!((ue=C.current)!=null&&ue.matches(":focus-visible")))return;const{transform:$,width:Z,height:ce,autoPanOnNodeFocus:fe,setCenter:J}=z.getState();if(!fe)return;Kd(new Map([[e,p]]),{x:0,y:0,width:Z,height:ce},$,!0).length>0||J(p.position.x+R.width/2,p.position.y+R.height/2,{zoom:$[2]})};return E.jsx("div",{className:He(["react-flow__node",`react-flow__node-${M}`,{[h]:N},p.className,{selected:p.selected,selectable:L,parent:k,draggable:N,dragging:T}]),ref:C,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:b?"all":"none",visibility:B?"visible":"hidden",...p.style,...P},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:I,onMouseMove:F,onMouseLeave:U,onContextMenu:K,onClick:q,onDoubleClick:X,onKeyDown:H?re:void 0,tabIndex:H?0:void 0,onFocus:H?G:void 0,role:p.ariaRole??(H?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${L0}-${y}`,"aria-label":p.ariaLabel,...p.domAttributes,children:E.jsx(aM,{value:e,children:E.jsx(S,{id:e,data:p.data,type:M,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:p.selected??!1,selectable:L,draggable:N,deletable:p.deletable??!0,isConnectable:j,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:T,dragHandle:p.dragHandle,zIndex:w.z,parentId:p.parentId,...R})})})}const _M=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function W0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=xe(_M,je),a=wM(e.onlyRenderVisibleElements),s=EM();return E.jsx("div",{className:"react-flow__nodes",style:bl,children:a.map(l=>E.jsx(kM,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},l))})}W0.displayName="NodeRenderer";const NM=_.memo(W0);function MM(e){return xe(_.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const i=n.nodeLookup.get(o.source),a=n.nodeLookup.get(o.target);i&&a&&R2({sourceNode:i,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),je)}const bM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return E.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},PM=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return E.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Op={[Ks.Arrow]:bM,[Ks.ArrowClosed]:PM};function DM(e){const t=Re();return _.useMemo(()=>{var o,i;return Object.prototype.hasOwnProperty.call(Op,e)?Op[e]:((i=(o=t.getState()).onError)==null||i.call(o,"009",an.error009(e)),null)},[e])}const TM=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=DM(t);return l?E.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:E.jsx(l,{color:n,strokeWidth:a})}):null},Y0=({defaultColor:e,rfId:t})=>{const n=xe(i=>i.edges),r=xe(i=>i.defaultEdgeOptions),o=_.useMemo(()=>B2(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?E.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:E.jsx("defs",{children:o.map(i=>E.jsx(TM,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Y0.displayName="MarkerDefinitions";var OM=_.memo(Y0);function K0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=_.useState({x:1,y:0,width:0,height:0}),h=He(["react-flow__edge-textwrapper",u]),v=_.useRef(null);return _.useEffect(()=>{if(v.current){const y=v.current.getBBox();d({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?E.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[o&&E.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),E.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}K0.displayName="EdgeText";const RM=_.memo(K0);function Pl({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return E.jsxs(E.Fragment,{children:[E.jsx("path",{...c,d:e,fill:"none",className:He(["react-flow__edge-path",c.className])}),u?E.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Bt(t)&&Bt(n)?E.jsx(RM,{x:t,y:n,label:r,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function Rp({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===le.Left||e===le.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function X0({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:o,targetPosition:i=le.Top}){const[a,s]=Rp({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,u]=Rp({pos:i,x1:r,y1:o,x2:e,y2:t}),[c,f,d,h]=x0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${o}`,c,f,d,h]}function Q0(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:m})=>{const[g,p,w]=X0({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s}),k=e.isInternal?void 0:t;return E.jsx(Pl,{id:k,path:g,labelX:p,labelY:w,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:m})})}const LM=Q0({isInternal:!1}),G0=Q0({isInternal:!0});LM.displayName="SimpleBezierEdge";G0.displayName="SimpleBezierEdgeInternal";function Z0(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=le.Bottom,targetPosition:v=le.Top,markerEnd:y,markerStart:x,pathOptions:m,interactionWidth:g})=>{const[p,w,k]=Tc({sourceX:n,sourceY:r,sourcePosition:h,targetX:o,targetY:i,targetPosition:v,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),M=e.isInternal?void 0:t;return E.jsx(Pl,{id:M,path:p,labelX:w,labelY:k,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:y,markerStart:x,interactionWidth:g})})}const J0=Z0({isInternal:!1}),q0=Z0({isInternal:!0});J0.displayName="SmoothStepEdge";q0.displayName="SmoothStepEdgeInternal";function ev(e){return _.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return E.jsx(J0,{...n,id:r,pathOptions:_.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const IM=ev({isInternal:!1}),tv=ev({isInternal:!0});IM.displayName="StepEdge";tv.displayName="StepEdgeInternal";function nv(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:v,interactionWidth:y})=>{const[x,m,g]=S0({sourceX:n,sourceY:r,targetX:o,targetY:i}),p=e.isInternal?void 0:t;return E.jsx(Pl,{id:p,path:x,labelX:m,labelY:g,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:v,interactionWidth:y})})}const AM=nv({isInternal:!1}),rv=nv({isInternal:!0});AM.displayName="StraightEdge";rv.displayName="StraightEdgeInternal";function ov(e){return _.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a=le.Bottom,targetPosition:s=le.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,pathOptions:m,interactionWidth:g})=>{const[p,w,k]=Gd({sourceX:n,sourceY:r,sourcePosition:a,targetX:o,targetY:i,targetPosition:s,curvature:m==null?void 0:m.curvature}),M=e.isInternal?void 0:t;return E.jsx(Pl,{id:M,path:p,labelX:w,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:v,markerEnd:y,markerStart:x,interactionWidth:g})})}const jM=ov({isInternal:!1}),iv=ov({isInternal:!0});jM.displayName="BezierEdge";iv.displayName="BezierEdgeInternal";const Lp={default:iv,straight:rv,step:tv,smoothstep:q0,simplebezier:G0},Ip={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},zM=(e,t,n)=>n===le.Left?e-t:n===le.Right?e+t:e,FM=(e,t,n)=>n===le.Top?e-t:n===le.Bottom?e+t:e,Ap="react-flow__edgeupdater";function jp({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s}){return E.jsx("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:He([Ap,`${Ap}-${s}`]),cx:zM(t,r,e),cy:FM(n,r,e),r,stroke:"transparent",fill:"transparent"})}function $M({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const v=Re(),y=(w,k)=>{if(w.button!==0)return;const{autoPanOnConnect:M,domNode:S,isValidConnection:N,connectionMode:L,connectionRadius:j,lib:H,onConnectStart:z,onConnectEnd:B,cancelConnection:C,nodeLookup:T,rfId:O,panBy:R,updateConnection:P}=v.getState(),b=k.type==="target",I=(K,X)=>{d(!1),f==null||f(K,n,k.type,X)},F=K=>u==null?void 0:u(n,K),U=(K,X)=>{d(!0),c==null||c(w,n,k.type),z==null||z(K,X)};Lc.onPointerDown(w.nativeEvent,{autoPanOnConnect:M,connectionMode:L,connectionRadius:j,domNode:S,handleId:k.id,nodeId:k.nodeId,nodeLookup:T,isTarget:b,edgeUpdaterType:k.type,lib:H,flowId:O,cancelConnection:C,panBy:R,isValidConnection:N,onConnect:F,onConnectStart:U,onConnectEnd:B,onReconnectEnd:I,updateConnection:P,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},x=w=>y(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=w=>y(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>h(!0),p=()=>h(!1);return E.jsxs(E.Fragment,{children:[(e===!0||e==="source")&&E.jsx(jp,{position:s,centerX:r,centerY:o,radius:t,onMouseDown:x,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&E.jsx(jp,{position:l,centerX:i,centerY:a,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function BM({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:v,edgeTypes:y,noPanClassName:x,onError:m,disableKeyboardA11y:g}){let p=xe(J=>J.edgeLookup.get(e));const w=xe(J=>J.defaultEdgeOptions);p=w?{...w,...p}:p;let k=p.type||"default",M=(y==null?void 0:y[k])||Lp[k];M===void 0&&(m==null||m("011",an.error011(k)),k="default",M=(y==null?void 0:y.default)||Lp.default);const S=!!(p.focusable||t&&typeof p.focusable>"u"),N=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),L=!!(p.selectable||r&&typeof p.selectable>"u"),j=_.useRef(null),[H,z]=_.useState(!1),[B,C]=_.useState(!1),T=Re(),{zIndex:O,sourceX:R,sourceY:P,targetX:b,targetY:I,sourcePosition:F,targetPosition:U}=xe(_.useCallback(J=>{const ie=J.nodeLookup.get(p.source),ue=J.nodeLookup.get(p.target);if(!ie||!ue)return{zIndex:p.zIndex,...Ip};const Ee=$2({id:e,sourceNode:ie,targetNode:ue,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:J.connectionMode,onError:m});return{zIndex:O2({selected:p.selected,zIndex:p.zIndex,sourceNode:ie,targetNode:ue,elevateOnSelect:J.elevateEdgesOnSelect}),...Ee||Ip}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),je),K=_.useMemo(()=>p.markerStart?`url('#${Oc(p.markerStart,v)}')`:void 0,[p.markerStart,v]),X=_.useMemo(()=>p.markerEnd?`url('#${Oc(p.markerEnd,v)}')`:void 0,[p.markerEnd,v]);if(p.hidden||R===null||P===null||b===null||I===null)return null;const q=J=>{var ye;const{addSelectedEdges:ie,unselectNodesAndEdges:ue,multiSelectionActive:Ee}=T.getState();L&&(T.setState({nodesSelectionActive:!1}),p.selected&&Ee?(ue({nodes:[],edges:[p]}),(ye=j.current)==null||ye.blur()):ie([e])),o&&o(J,p)},re=i?J=>{i(J,{...p})}:void 0,G=a?J=>{a(J,{...p})}:void 0,$=s?J=>{s(J,{...p})}:void 0,Z=l?J=>{l(J,{...p})}:void 0,ce=u?J=>{u(J,{...p})}:void 0,fe=J=>{var ie;if(!g&&i0.includes(J.key)&&L){const{unselectNodesAndEdges:ue,addSelectedEdges:Ee}=T.getState();J.key==="Escape"?((ie=j.current)==null||ie.blur(),ue({edges:[p]})):Ee([e])}};return E.jsx("svg",{style:{zIndex:O},children:E.jsxs("g",{className:He(["react-flow__edge",`react-flow__edge-${k}`,p.className,x,{selected:p.selected,animated:p.animated,inactive:!L&&!o,updating:H,selectable:L}]),onClick:q,onDoubleClick:re,onContextMenu:G,onMouseEnter:$,onMouseMove:Z,onMouseLeave:ce,onKeyDown:S?fe:void 0,tabIndex:S?0:void 0,role:p.ariaRole??(S?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":S?`${I0}-${v}`:void 0,ref:j,...p.domAttributes,children:[!B&&E.jsx(M,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:L,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:R,sourceY:P,targetX:b,targetY:I,sourcePosition:F,targetPosition:U,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:K,markerEnd:X,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),N&&E.jsx($M,{edge:p,isReconnectable:N,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:R,sourceY:P,targetX:b,targetY:I,sourcePosition:F,targetPosition:U,setUpdateHover:z,setReconnecting:C})]})})}const VM=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function av({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:v,disableKeyboardA11y:y}){const{edgesFocusable:x,edgesReconnectable:m,elementsSelectable:g,onError:p}=xe(VM,je),w=MM(t);return E.jsxs("div",{className:"react-flow__edges",children:[E.jsx(OM,{defaultColor:e,rfId:n}),w.map(k=>E.jsx(BM,{id:k,edgesFocusable:x,edgesReconnectable:m,elementsSelectable:g,noPanClassName:o,onReconnect:i,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:v,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:y},k))]})}av.displayName="EdgeRenderer";const HM=_.memo(av),UM=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function WM({children:e}){const t=xe(UM);return E.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function YM(e){const t=tf(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const KM=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function XM(e){const t=xe(KM),n=Re();return _.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function QM(e){return e.connection.inProgress?{...e.connection,to:la(e.connection.to,e.transform)}:{...e.connection}}function GM(e){return QM}function ZM(e){const t=GM();return xe(t,je)}const JM=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function qM({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:i,height:a,isValid:s,inProgress:l}=xe(JM,je);return!(i&&o&&l)?null:E.jsx("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:E.jsx("g",{className:He(["react-flow__connection",l0(s)]),children:E.jsx(sv,{style:t,type:n,CustomComponent:r,isValid:s})})})}const sv=({style:e,type:t=$n.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:i,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d}=ZM();if(!o)return;if(n)return E.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:l0(r),toNode:c,toHandle:f});let h="";const v={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case $n.Bezier:[h]=Gd(v);break;case $n.SimpleBezier:[h]=X0(v);break;case $n.Step:[h]=Tc({...v,borderRadius:0});break;case $n.SmoothStep:[h]=Tc(v);break;default:[h]=S0(v)}return E.jsx("path",{d:h,fill:"none",className:"react-flow__connection-path",style:e})};sv.displayName="ConnectionLine";const eb={};function zp(e=eb){_.useRef(e),Re(),_.useEffect(()=>{},[e])}function tb(){Re(),_.useRef(!1),_.useEffect(()=>{},[])}function lv({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:v,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:w,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:S,deleteKeyCode:N,onlyRenderVisibleElements:L,elementsSelectable:j,defaultViewport:H,translateExtent:z,minZoom:B,maxZoom:C,preventScrolling:T,defaultMarkerColor:O,zoomOnScroll:R,zoomOnPinch:P,panOnScroll:b,panOnScrollSpeed:I,panOnScrollMode:F,zoomOnDoubleClick:U,panOnDrag:K,onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:re,onPaneMouseLeave:G,onPaneScroll:$,onPaneContextMenu:Z,paneClickDistance:ce,nodeClickDistance:fe,onEdgeContextMenu:J,onEdgeMouseEnter:ie,onEdgeMouseMove:ue,onEdgeMouseLeave:Ee,reconnectRadius:ye,onReconnect:nt,onReconnectStart:Yt,onReconnectEnd:ln,noDragClassName:ir,noWheelClassName:ar,noPanClassName:sr,disableKeyboardA11y:lr,nodeExtent:Tt,rfId:Kt,viewport:un,onViewportChange:cn}){return zp(e),zp(t),tb(),YM(n),XM(un),E.jsx(vM,{onPaneClick:X,onPaneMouseEnter:q,onPaneMouseMove:re,onPaneMouseLeave:G,onPaneContextMenu:Z,onPaneScroll:$,paneClickDistance:ce,deleteKeyCode:N,selectionKeyCode:g,selectionOnDrag:p,selectionMode:w,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:M,zoomActivationKeyCode:S,elementsSelectable:j,zoomOnScroll:R,zoomOnPinch:P,zoomOnDoubleClick:U,panOnScroll:b,panOnScrollSpeed:I,panOnScrollMode:F,panOnDrag:K,defaultViewport:H,translateExtent:z,minZoom:B,maxZoom:C,onSelectionContextMenu:f,preventScrolling:T,noDragClassName:ir,noWheelClassName:ar,noPanClassName:sr,disableKeyboardA11y:lr,onViewportChange:cn,isControlledViewport:!!un,children:E.jsxs(WM,{children:[E.jsx(HM,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:a,onReconnect:nt,onReconnectStart:Yt,onReconnectEnd:ln,onlyRenderVisibleElements:L,onEdgeContextMenu:J,onEdgeMouseEnter:ie,onEdgeMouseMove:ue,onEdgeMouseLeave:Ee,reconnectRadius:ye,defaultMarkerColor:O,noPanClassName:sr,disableKeyboardA11y:lr,rfId:Kt}),E.jsx(qM,{style:y,type:v,component:x,containerStyle:m}),E.jsx("div",{className:"react-flow__edgelabel-renderer"}),E.jsx(NM,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:fe,onlyRenderVisibleElements:L,noPanClassName:sr,noDragClassName:ir,disableKeyboardA11y:lr,nodeExtent:Tt,rfId:Kt}),E.jsx("div",{className:"react-flow__viewport-portal"})]})})}lv.displayName="GraphView";const nb=_.memo(lv),Fp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f}={})=>{const d=new Map,h=new Map,v=new Map,y=new Map,x=r??t??[],m=n??e??[],g=c??[0,0],p=f??Wi;C0(v,y,x);const w=Rc(m,d,h,{nodeOrigin:g,nodeExtent:p,elevateNodesOnSelect:!1});let k=[0,0,1];if(a&&o&&i){const M=aa(d,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:S,y:N,zoom:L}=Xd(M,o,i,l,u,(s==null?void 0:s.padding)??.1);k=[S,N,L]}return{rfId:"1",width:0,height:0,transform:k,nodes:m,nodesInitialized:w,nodeLookup:d,parentLookup:h,edges:x,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Wi,nodeExtent:p,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Do.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...s0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:N2,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:a0}},rb=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f})=>EN((d,h)=>{async function v(){const{nodeLookup:y,panZoom:x,fitViewOptions:m,fitViewResolver:g,width:p,height:w,minZoom:k,maxZoom:M}=h();x&&(await k2({nodes:y,width:p,height:w,panZoom:x,minZoom:k,maxZoom:M},m),g==null||g.resolve(!0),d({fitViewResolver:null}))}return{...Fp({nodes:e,edges:t,width:o,height:i,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:x,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:p,fitViewQueued:w}=h(),k=Rc(y,x,m,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:p,checkEquality:!0});w&&k?(v(),d({nodes:y,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:y,nodesInitialized:k})},setEdges:y=>{const{connectionLookup:x,edgeLookup:m}=h();C0(x,m,y),d({edges:y})},setDefaultNodesAndEdges:(y,x)=>{if(y){const{setNodes:m}=h();m(y),d({hasDefaultNodes:!0})}if(x){const{setEdges:m}=h();m(x),d({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:x,nodeLookup:m,parentLookup:g,domNode:p,nodeOrigin:w,nodeExtent:k,debug:M,fitViewQueued:S}=h(),{changes:N,updatedInternals:L}=Y2(y,m,g,p,w,k);L&&(H2(m,g,{nodeOrigin:w,nodeExtent:k}),S?(v(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(N==null?void 0:N.length)>0&&(M&&console.log("React Flow: trigger node changes",N),x==null||x(N)))},updateNodePositions:(y,x=!1)=>{const m=[],g=[],{nodeLookup:p,triggerNodeChanges:w}=h();for(const[k,M]of y){const S=p.get(k),N=!!(S!=null&&S.expandParent&&(S!=null&&S.parentId)&&(M!=null&&M.position)),L={id:k,type:"position",position:N?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:x};N&&S.parentId&&m.push({id:k,parentId:S.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),g.push(L)}if(m.length>0){const{parentLookup:k,nodeOrigin:M}=h(),S=ef(m,p,k,M);g.push(...S)}w(g)},triggerNodeChanges:y=>{const{onNodesChange:x,setNodes:m,nodes:g,hasDefaultNodes:p,debug:w}=h();if(y!=null&&y.length){if(p){const k=z0(y,g);m(k)}w&&console.log("React Flow: trigger node changes",y),x==null||x(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:x,setEdges:m,edges:g,hasDefaultEdges:p,debug:w}=h();if(y!=null&&y.length){if(p){const k=HN(y,g);m(k)}w&&console.log("React Flow: trigger edge changes",y),x==null||x(y)}},addSelectedNodes:y=>{const{multiSelectionActive:x,edgeLookup:m,nodeLookup:g,triggerNodeChanges:p,triggerEdgeChanges:w}=h();if(x){const k=y.map(M=>pr(M,!0));p(k);return}p(uo(g,new Set([...y]),!0)),w(uo(m))},addSelectedEdges:y=>{const{multiSelectionActive:x,edgeLookup:m,nodeLookup:g,triggerNodeChanges:p,triggerEdgeChanges:w}=h();if(x){const k=y.map(M=>pr(M,!0));w(k);return}w(uo(m,new Set([...y]))),p(uo(g,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:x}={})=>{const{edges:m,nodes:g,nodeLookup:p,triggerNodeChanges:w,triggerEdgeChanges:k}=h(),M=y||g,S=x||m,N=M.map(j=>{const H=p.get(j.id);return H&&(H.selected=!1),pr(j.id,!1)}),L=S.map(j=>pr(j.id,!1));w(N),k(L)},setMinZoom:y=>{const{panZoom:x,maxZoom:m}=h();x==null||x.setScaleExtent([y,m]),d({minZoom:y})},setMaxZoom:y=>{const{panZoom:x,minZoom:m}=h();x==null||x.setScaleExtent([m,y]),d({maxZoom:y})},setTranslateExtent:y=>{var x;(x=h().panZoom)==null||x.setTranslateExtent(y),d({translateExtent:y})},setPaneClickDistance:y=>{var x;(x=h().panZoom)==null||x.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:x,triggerNodeChanges:m,triggerEdgeChanges:g,elementsSelectable:p}=h();if(!p)return;const w=x.reduce((M,S)=>S.selected?[...M,pr(S.id,!1)]:M,[]),k=y.reduce((M,S)=>S.selected?[...M,pr(S.id,!1)]:M,[]);m(w),g(k)},setNodeExtent:y=>{const{nodes:x,nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:w,nodeExtent:k}=h();y[0][0]===k[0][0]&&y[0][1]===k[0][1]&&y[1][0]===k[1][0]&&y[1][1]===k[1][1]||(Rc(x,m,g,{nodeOrigin:p,nodeExtent:y,elevateNodesOnSelect:w,checkEquality:!1}),d({nodeExtent:y}))},panBy:y=>{const{transform:x,width:m,height:g,panZoom:p,translateExtent:w}=h();return K2({delta:y,panZoom:p,transform:x,translateExtent:w,width:m,height:g})},setCenter:async(y,x,m)=>{const{width:g,height:p,maxZoom:w,panZoom:k}=h();if(!k)return Promise.resolve(!1);const M=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:w;return await k.setViewport({x:g/2-y*M,y:p/2-x*M,zoom:M},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...s0}})},updateConnection:y=>{d({connection:y})},reset:()=>d({...Fp()})}},Object.is);function uv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:i,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,children:d}){const[h]=_.useState(()=>rb({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:f}));return E.jsx(CN,{value:h,children:E.jsx(KN,{children:d})})}function ob({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:s,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d}){return _.useContext(Nl)?E.jsx(E.Fragment,{children:e}):E.jsx(uv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,children:e})}const ib={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ab({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:i,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:M,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:L,onNodesDelete:j,onEdgesDelete:H,onDelete:z,onSelectionChange:B,onSelectionDragStart:C,onSelectionDrag:T,onSelectionDragStop:O,onSelectionContextMenu:R,onSelectionStart:P,onSelectionEnd:b,onBeforeDelete:I,connectionMode:F,connectionLineType:U=$n.Bezier,connectionLineStyle:K,connectionLineComponent:X,connectionLineContainerStyle:q,deleteKeyCode:re="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:$=!1,selectionMode:Z=Yi.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:fe=Xi()?"Meta":"Control",zoomActivationKeyCode:J=Xi()?"Meta":"Control",snapToGrid:ie,snapGrid:ue,onlyRenderVisibleElements:Ee=!1,selectNodesOnDrag:ye,nodesDraggable:nt,autoPanOnNodeFocus:Yt,nodesConnectable:ln,nodesFocusable:ir,nodeOrigin:ar=A0,edgesFocusable:sr,edgesReconnectable:lr,elementsSelectable:Tt=!0,defaultViewport:Kt=AN,minZoom:un=.5,maxZoom:cn=2,translateExtent:Ot=Wi,preventScrolling:Rt=!0,nodeExtent:$r,defaultMarkerColor:Br="#b1b1b7",zoomOnScroll:Dl=!0,zoomOnPinch:Xt=!0,panOnScroll:ua=!1,panOnScrollSpeed:ca=.5,panOnScrollMode:da=_r.Free,zoomOnDoubleClick:Tl=!0,panOnDrag:fa=!0,onPaneClick:Vr,onPaneMouseEnter:ha,onPaneMouseMove:Fo,onPaneMouseLeave:$o,onPaneScroll:Ol,onPaneContextMenu:pa,paneClickDistance:ma=0,nodeClickDistance:ga=0,children:Hr,onReconnect:Ur,onReconnectStart:Rl,onReconnectEnd:Ll,onEdgeContextMenu:D,onEdgeDoubleClick:A,onEdgeMouseEnter:V,onEdgeMouseMove:W,onEdgeMouseLeave:Q,reconnectRadius:se=10,onNodesChange:de,onEdgesChange:ne,noDragClassName:oe="nodrag",noWheelClassName:ee="nowheel",noPanClassName:ae="nopan",fitView:he,fitViewOptions:pe,connectOnClick:Ue,attributionPosition:_e,proOptions:we,defaultEdgeOptions:De,elevateNodesOnSelect:bn,elevateEdgesOnSelect:ur,disableKeyboardA11y:Ct=!1,autoPanOnConnect:kt,autoPanOnNodeDrag:Bo,autoPanSpeed:cr,connectionRadius:dn,isValidConnection:Wr,onError:Yr,style:ve,id:Me,nodeDragThreshold:Pn,connectionDragThreshold:dr,viewport:ze,onViewportChange:Dn,width:ya,height:Il,colorMode:gv="light",debug:yv,onScroll:va,ariaLabelConfig:vv,...xv},wv){const Al=Me||"1",Sv=$N(gv),Ev=_.useCallback(of=>{of.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),va==null||va(of)},[va]);return E.jsx("div",{"data-testid":"rf__wrapper",...xv,onScroll:Ev,style:{...ve,...ib},ref:wv,className:He(["react-flow",o,Sv]),id:Me,role:"application",children:E.jsxs(ob,{nodes:e,edges:t,width:ya,height:Il,fitView:he,fitViewOptions:pe,minZoom:un,maxZoom:cn,nodeOrigin:ar,nodeExtent:$r,children:[E.jsx(nb,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:M,nodeTypes:i,edgeTypes:a,connectionLineType:U,connectionLineStyle:K,connectionLineComponent:X,connectionLineContainerStyle:q,selectionKeyCode:G,selectionOnDrag:$,selectionMode:Z,deleteKeyCode:re,multiSelectionKeyCode:fe,panActivationKeyCode:ce,zoomActivationKeyCode:J,onlyRenderVisibleElements:Ee,defaultViewport:Kt,translateExtent:Ot,minZoom:un,maxZoom:cn,preventScrolling:Rt,zoomOnScroll:Dl,zoomOnPinch:Xt,zoomOnDoubleClick:Tl,panOnScroll:ua,panOnScrollSpeed:ca,panOnScrollMode:da,panOnDrag:fa,onPaneClick:Vr,onPaneMouseEnter:ha,onPaneMouseMove:Fo,onPaneMouseLeave:$o,onPaneScroll:Ol,onPaneContextMenu:pa,paneClickDistance:ma,nodeClickDistance:ga,onSelectionContextMenu:R,onSelectionStart:P,onSelectionEnd:b,onReconnect:Ur,onReconnectStart:Rl,onReconnectEnd:Ll,onEdgeContextMenu:D,onEdgeDoubleClick:A,onEdgeMouseEnter:V,onEdgeMouseMove:W,onEdgeMouseLeave:Q,reconnectRadius:se,defaultMarkerColor:Br,noDragClassName:oe,noWheelClassName:ee,noPanClassName:ae,rfId:Al,disableKeyboardA11y:Ct,nodeExtent:$r,viewport:ze,onViewportChange:Dn}),E.jsx(FN,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:v,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:m,nodesDraggable:nt,autoPanOnNodeFocus:Yt,nodesConnectable:ln,nodesFocusable:ir,edgesFocusable:sr,edgesReconnectable:lr,elementsSelectable:Tt,elevateNodesOnSelect:bn,elevateEdgesOnSelect:ur,minZoom:un,maxZoom:cn,nodeExtent:$r,onNodesChange:de,onEdgesChange:ne,snapToGrid:ie,snapGrid:ue,connectionMode:F,translateExtent:Ot,connectOnClick:Ue,defaultEdgeOptions:De,fitView:he,fitViewOptions:pe,onNodesDelete:j,onEdgesDelete:H,onDelete:z,onNodeDragStart:S,onNodeDrag:N,onNodeDragStop:L,onSelectionDrag:T,onSelectionDragStart:C,onSelectionDragStop:O,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:ae,nodeOrigin:ar,rfId:Al,autoPanOnConnect:kt,autoPanOnNodeDrag:Bo,autoPanSpeed:cr,onError:Yr,connectionRadius:dn,isValidConnection:Wr,selectNodesOnDrag:ye,nodeDragThreshold:Pn,connectionDragThreshold:dr,onBeforeDelete:I,paneClickDistance:ma,debug:yv,ariaLabelConfig:vv}),E.jsx(IN,{onSelectionChange:B}),Hr,E.jsx(DN,{proOptions:we,position:_e}),E.jsx(PN,{rfId:Al,disableKeyboardA11y:Ct})]})})}var sb=F0(ab);function lb(e){const[t,n]=_.useState(e),r=_.useCallback(o=>n(i=>z0(o,i)),[]);return[t,n,r]}function ub({dimensions:e,lineWidth:t,variant:n,className:r}){return E.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:He(["react-flow__background-pattern",n,r])})}function cb({radius:e,className:t}){return E.jsx("circle",{cx:e,cy:e,r:e,className:He(["react-flow__background-pattern","dots",t])})}var wn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(wn||(wn={}));const db={[wn.Dots]:1,[wn.Lines]:1,[wn.Cross]:6},fb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function cv({id:e,variant:t=wn.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=_.useRef(null),{transform:d,patternId:h}=xe(fb,je),v=r||db[t],y=t===wn.Dots,x=t===wn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*d[2]||1,m[1]*d[2]||1],p=v*d[2],w=Array.isArray(i)?i:[i,i],k=x?[p,p]:g,M=[w[0]*d[2]||1+k[0]/2,w[1]*d[2]||1+k[1]/2],S=`${h}${e||""}`;return E.jsxs("svg",{className:He(["react-flow__background",u]),style:{...l,...bl,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[E.jsx("pattern",{id:S,x:d[0]%g[0],y:d[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:y?E.jsx(cb,{radius:p/2,className:c}):E.jsx(ub,{dimensions:k,lineWidth:o,variant:t,className:c})}),E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}cv.displayName="Background";const hb=_.memo(cv);function pb(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:E.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function mb(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:E.jsx("path",{d:"M0 0h32v4.2H0z"})})}function gb(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:E.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function yb(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function vb(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Ya({children:e,className:t,...n}){return E.jsx("button",{type:"button",className:He(["react-flow__controls-button",t]),...n,children:e})}const xb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function dv({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const v=Re(),{isInteractive:y,minZoomReached:x,maxZoomReached:m,ariaLabelConfig:g}=xe(xb,je),{zoomIn:p,zoomOut:w,fitView:k}=tf(),M=()=>{p(),i==null||i()},S=()=>{w(),a==null||a()},N=()=>{k(o),s==null||s()},L=()=>{v.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},j=d==="horizontal"?"horizontal":"vertical";return E.jsxs(Ml,{className:He(["react-flow__controls",j,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??g["controls.ariaLabel"],children:[t&&E.jsxs(E.Fragment,{children:[E.jsx(Ya,{onClick:M,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:E.jsx(pb,{})}),E.jsx(Ya,{onClick:S,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:x,children:E.jsx(mb,{})})]}),n&&E.jsx(Ya,{className:"react-flow__controls-fitview",onClick:N,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:E.jsx(gb,{})}),r&&E.jsx(Ya,{className:"react-flow__controls-interactive",onClick:L,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:y?E.jsx(vb,{}):E.jsx(yb,{})}),c]})}dv.displayName="Controls";const wb=_.memo(dv);function Sb({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:v,backgroundColor:y}=i||{},x=a||v||y;return E.jsx("rect",{className:He(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:o,style:{fill:x,stroke:s,strokeWidth:l},shapeRendering:f,onClick:h?m=>h(m,e):void 0})}const Eb=_.memo(Sb),Cb=e=>e.nodes.map(t=>t.id),ku=e=>e instanceof Function?e:()=>e;function kb({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:i=Eb,onClick:a}){const s=xe(Cb,je),l=ku(t),u=ku(e),c=ku(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return E.jsx(E.Fragment,{children:s.map(d=>E.jsx(Nb,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:i,onClick:a,shapeRendering:f},d))})}function _b({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=xe(v=>{const{internals:y}=v.nodeLookup.get(e),x=y.userNode,{x:m,y:g}=y.positionAbsolute,{width:p,height:w}=Mn(x);return{node:x,x:m,y:g,width:p,height:w}},je);return!u||u.hidden||!p0(u)?null:E.jsx(s,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:o,strokeColor:n(u),strokeWidth:i,shapeRendering:a,onClick:l,id:u.id})}const Nb=_.memo(_b);var Mb=_.memo(kb);const bb=200,Pb=150,Db=e=>!e.hidden,Tb=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?h0(aa(e.nodeLookup,{filter:Db}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},Ob="react-flow__minimap-desc";function fv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:v,pannable:y=!1,zoomable:x=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:w=5}){const k=Re(),M=_.useRef(null),{boundingRect:S,viewBB:N,rfId:L,panZoom:j,translateExtent:H,flowWidth:z,flowHeight:B,ariaLabelConfig:C}=xe(Tb,je),T=(e==null?void 0:e.width)??bb,O=(e==null?void 0:e.height)??Pb,R=S.width/T,P=S.height/O,b=Math.max(R,P),I=b*T,F=b*O,U=w*b,K=S.x-(I-S.width)/2-U,X=S.y-(F-S.height)/2-U,q=I+U*2,re=F+U*2,G=`${Ob}-${L}`,$=_.useRef(0),Z=_.useRef();$.current=b,_.useEffect(()=>{if(M.current&&j)return Z.current=nN({domNode:M.current,panZoom:j,getTransform:()=>k.getState().transform,getViewScale:()=>$.current}),()=>{var ie;(ie=Z.current)==null||ie.destroy()}},[j]),_.useEffect(()=>{var ie;(ie=Z.current)==null||ie.update({translateExtent:H,width:z,height:B,inversePan:g,pannable:y,zoomStep:p,zoomable:x})},[y,x,g,p,H,z,B]);const ce=h?ie=>{var ye;const[ue,Ee]=((ye=Z.current)==null?void 0:ye.pointer(ie))||[0,0];h(ie,{x:ue,y:Ee})}:void 0,fe=v?_.useCallback((ie,ue)=>{const Ee=k.getState().nodeLookup.get(ue).internals.userNode;v(ie,Ee)},[]):void 0,J=m??C["minimap.ariaLabel"];return E.jsx(Ml,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*b:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:E.jsxs("svg",{width:T,height:O,viewBox:`${K} ${X} ${q} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:M,onClick:ce,children:[J&&E.jsx("title",{id:G,children:J}),E.jsx(Mb,{onClick:fe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:s}),E.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-U},${X-U}h${q+U*2}v${re+U*2}h${-q-U*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}fv.displayName="MiniMap";_.memo(fv);const Rb=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Lb={[Lo.Line]:"right",[Lo.Handle]:"bottom-right"};function Ib({nodeId:e,position:t,variant:n=Lo.Handle,className:r,style:o=void 0,children:i,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:v,onResizeStart:y,onResize:x,onResizeEnd:m}){const g=H0(),p=typeof e=="string"?e:g,w=Re(),k=_.useRef(null),M=n===Lo.Handle,S=xe(_.useCallback(Rb(M&&h),[M,h]),je),N=_.useRef(null),L=t??Lb[n];_.useEffect(()=>{if(!(!k.current||!p))return N.current||(N.current=vN({domNode:k.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,domNode:O}=w.getState();return{nodeLookup:H,transform:z,snapGrid:B,snapToGrid:C,nodeOrigin:T,paneDomNode:O}},onChange:(H,z)=>{const{triggerNodeChanges:B,nodeLookup:C,parentLookup:T,nodeOrigin:O}=w.getState(),R=[],P={x:H.x,y:H.y},b=C.get(p);if(b&&b.expandParent&&b.parentId){const I=b.origin??O,F=H.width??b.measured.width??0,U=H.height??b.measured.height??0,K={id:b.id,parentId:b.parentId,rect:{width:F,height:U,...m0({x:H.x??b.position.x,y:H.y??b.position.y},{width:F,height:U},b.parentId,C,I)}},X=ef([K],C,T,O);R.push(...X),P.x=H.x?Math.max(I[0]*F,H.x):void 0,P.y=H.y?Math.max(I[1]*U,H.y):void 0}if(P.x!==void 0&&P.y!==void 0){const I={id:p,type:"position",position:{...P}};R.push(I)}if(H.width!==void 0&&H.height!==void 0){const F={id:p,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:H.width,height:H.height}};R.push(F)}for(const I of z){const F={...I,type:"position"};R.push(F)}B(R)},onEnd:({width:H,height:z})=>{const B={id:p,type:"dimensions",resizing:!1,dimensions:{width:H,height:z}};w.getState().triggerNodeChanges([B])}})),N.current.update({controlPosition:L,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:y,onResize:x,onResizeEnd:m,shouldResize:v}),()=>{var H;(H=N.current)==null||H.destroy()}},[L,s,l,u,c,f,y,x,m,v]);const j=L.split("-");return E.jsx("div",{className:He(["react-flow__resize-control","nodrag",...j,n,r]),ref:k,style:{...o,scale:S,...a&&{[M?"backgroundColor":"borderColor"]:a}},children:i})}_.memo(Ib);const on={NODE_DIMENSIONS:{width:260,height:180},CANVAS:{defaultHeight:400,minZoom:.4,maxZoom:1.75},ANIMATION_DURATIONS:{ripple:1300,ringOut:1500,downgrade:1500,scaleIn:700,pop:1100,pulseSlow:1600},COLORS:{status:{pending:"#f59e0b",partial:"#3b82f6",complete:"#10b981",error:"#ef4444"},node:{source:"#3b82f6",destination:"#10b981"},edge:{transformToDestination:"#be185d"}}},Ab={light:8,medium:20,heavy:50};new Date().toISOString().split("T")[0];function rf(e){return on.COLORS.status[e]}function Ka(e,t,n,r){if(e==="transform")return t==="Map & Validate"||Object.keys(r||{}).length>0?"complete":"pending";const o=n.filter(i=>!!(r||{})[i]);return o.length===0?"pending":o.length<n.length?"partial":"complete"}function hv({status:e}){const t=rf(e),n=_.useRef(null),[r,o]=_.useState("");return _.useEffect(()=>{const i=n.current,{ANIMATION_DURATIONS:a}=on;let s="";e==="pending"&&(s=`pulseSlow ${a.pulseSlow}ms ease-in-out infinite`),e==="partial"&&(s=i==="complete"?`downgrade ${a.downgrade}ms ease-out forwards`:`scaleIn ${a.scaleIn}ms ease-out`),e==="complete"&&(s=`pop ${a.pop}ms cubic-bezier(0.2,0.8,0.2,1)`),o(s),n.current=e},[e]),E.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border px-2 py-0.5 text-[11px] transition-colors duration-300 w-20",style:{borderColor:t,color:t},children:[E.jsxs("span",{className:"relative grid place-items-center h-2.5 w-2.5 rounded-full",style:{backgroundColor:t,animation:r},children:[e==="complete"?E.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ripple ${on.ANIMATION_DURATIONS.ripple}ms ease-out`}}):null,e==="partial"&&n.current==="complete"?E.jsx("span",{className:"absolute inset-0 rounded-full",style:{animation:`ringOut ${on.ANIMATION_DURATIONS.ringOut}ms ease-out`}}):null]}),e,E.jsx("style",{children:`
        @keyframes scaleIn{0%{transform:scale(0.94)}100%{transform:scale(1)}}
        @keyframes pop{0%{transform:scale(0.85)}60%{transform:scale(1.06)}100%{transform:scale(1)}}
        @keyframes pulseSlow{0%,100%{opacity:0.65}50%{opacity:1}}
        @keyframes ripple{0%{box-shadow:0 0 0 0 ${t}55}100%{box-shadow:0 0 0 10px ${t}00}}
        @keyframes ringOut{0%{box-shadow:0 0 0 10px ${t}33;opacity:1}100%{box-shadow:0 0 0 18px ${t}00;opacity:0}}
        @keyframes downgrade{0%{transform:scale(1);box-shadow:0 0 0 0 ${t}00}30%{transform:scale(0.95);box-shadow:0 0 0 8px ${t}22}70%{transform:scale(0.98);box-shadow:0 0 0 4px ${t}11}100%{transform:scale(1);box-shadow:0 0 0 0 ${t}00}}
        `})]})}function qt(e){return typeof e!="string"?"":e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").trim()}function jb(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function zb(e){try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}}function Fb(e){return/^[a-zA-Z0-9_\-.]+$/.test(e)&&e.length>=8&&e.length<=128}function Ac(e,t){if(qt(t)!==t)return{isValid:!1,error:"Input contains potentially unsafe characters"};const r=e.toLowerCase();return r.includes("email")&&!jb(t)?{isValid:!1,error:"Invalid email format"}:(r.includes("url")||r.includes("endpoint")||r.includes("host"))&&t&&!zb(t)&&!t.includes("localhost")&&!t.match(/^\d+\.\d+\.\d+\.\d+/)?{isValid:!1,error:"Invalid URL format"}:(r.includes("apikey")||r.includes("token"))&&t&&!Fb(t)?{isValid:!1,error:"API key must be 8-128 characters, alphanumeric with _ - . allowed"}:t.length>0&&t.length<2?{isValid:!1,error:"Value must be at least 2 characters long"}:t.length>500?{isValid:!1,error:"Value must be less than 500 characters"}:{isValid:!0}}function $b(e){const t=[];if(!e||typeof e!="object")return{isValid:!1,errors:["Configuration must be a valid object"]};const n=e;if(!n.nodes||typeof n.nodes!="object")return{isValid:!1,errors:['Configuration must have a "nodes" object']};const r=n.nodes,o=["source","destination","transform"];for(const a of o){if(!r[a]||typeof r[a]!="object"){t.push(`Missing or invalid "${a}" node`);continue}const s=r[a];(!s.name||typeof s.name!="string")&&t.push(`${a} node must have a valid "name" string`),(!s.credentials||typeof s.credentials!="object")&&t.push(`${a} node must have a "credentials" object`)}if(t.length>0)return{isValid:!1,errors:t};const i={nodes:{source:{name:qt(r.source.name),credentials:{}},destination:{name:qt(r.destination.name),credentials:{}},transform:{name:qt(r.transform.name),credentials:{}}}};for(const a of o){const s=r[a];if(s.credentials){for(const[l,u]of Object.entries(s.credentials))if(typeof u=="string"){const c=Ac(l,u);c.isValid?i.nodes[a].credentials[qt(l)]=qt(u):t.push(`${a}.${l}: ${c.error}`)}}}return{isValid:t.length===0,sanitized:t.length===0?i:void 0,errors:t}}function $p(e,t){return["password","token","secret","key","apikey"].some(o=>e.toLowerCase().includes(o))&&t?t.length<=4?"*".repeat(t.length):t.substring(0,2)+"*".repeat(Math.min(t.length-4,8))+t.substring(t.length-2):t}function Bb(e){return e==="source"?on.COLORS.node.source:on.COLORS.node.destination}function pv({instance:e,nodeId:t,onEditValue:n}){var z,B;const{role:r,spec:o,values:i,status:a}=e,[s,l]=_.useState({}),[u,c]=_.useState({}),[f,d]=_.useState({}),[h,v]=_.useState(!0),[y,x]=_.useState(""),m=_.useRef(null),[g,p]=_.useState(12),[w,k]=_.useState(12),[M,S]=_.useState(0);_.useEffect(()=>{const C=m.current;if(!C)return;const T=()=>S(C.scrollHeight);T();const O=window.ResizeObserver,R=O?new O(()=>T()):void 0;return R&&R.observe(C),()=>R&&R.disconnect()},[]);const N=r==="source"?"bg-node-source text-white":"bg-node-destination text-white",L={borderColor:rf(a||"pending")},j=Bb(r),H={backgroundColor:j+"14"};return E.jsxs("div",{className:"relative rounded-xl border bg-white shadow-sm w-56",style:L,children:[E.jsx("div",{className:`px-3 py-1 text-xs font-semibold rounded-t-xl ${N}`,children:r.toUpperCase()}),E.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:j}}),E.jsxs("div",{className:"p-3",style:H,children:[E.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[E.jsx("span",{children:o.name}),E.jsx("span",{className:"ml-auto"}),a?E.jsx(hv,{status:a}):null]}),E.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["Category: ",o.category]}),E.jsxs("div",{className:"mt-2 text-xs",children:[E.jsxs("button",{type:"button","aria-expanded":h,className:"w-full flex items-center justify-between text-left font-medium text-slate-700 select-none active:scale-[0.98] transition-transform",onClick:()=>{var C;if("vibrate"in navigator)try{(C=navigator.vibrate)==null||C.call(navigator,Ab.light)}catch{}v(T=>!T)},children:[E.jsx("span",{children:"Credentials"}),E.jsx("span",{className:`text-slate-400 text-xl leading-none transition-transform duration-200 ripple-ink ${h?"":"rotate-90"}`,onMouseMove:C=>{const T=C.currentTarget.getBoundingClientRect();p(C.clientX-T.left),k(C.clientY-T.top)},style:{"--rx":g+"px","--ry":w+"px"},children:E.jsx("span",{className:"ink-symbol",children:h?"":"+"})})]}),E.jsx("div",{ref:m,className:"overflow-hidden transition-[max-height] duration-300 ease-in-out",style:{maxHeight:h?M:0},children:E.jsxs("div",{className:"mt-1",children:[E.jsx("div",{className:"text-[11px] text-slate-500",children:"Mandatory"}),o.credentials.mandatory.map(C=>{const T=i==null?void 0:i[C],O=typeof T=="string"?T:T??"",R=$p(C,O),P=!O,b=e.status==="pending";return E.jsxs("div",{className:`mt-1 text-[12px] ${P&&b?"text-red-600":"text-slate-700"}`,children:[E.jsx("div",{className:"font-medium",children:C}),P||s[C]?E.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:P&&b?"#ef4444":"#cbd5e1"},type:C.toLowerCase().includes("password")?"password":"text",value:u[C]??(typeof T=="string"?T:T??""),onChange:I=>c(F=>({...F,[C]:I.target.value})),onBlur:()=>{const I=u[C]??(typeof T=="string"?T:T??""),F=Ac(C,I);if(F.isValid){const U=qt(I);t&&(n==null||n(t,C,U)),d(K=>({...K,[C]:""})),x(`${C} field updated successfully`)}else d(U=>({...U,[C]:F.error||"Invalid input"})),x(`${C} field validation failed: ${F.error}`);setTimeout(()=>x(""),2e3),l(U=>({...U,[C]:!1})),c(U=>({...U,[C]:void 0}))},onKeyDown:I=>{if(I.key==="Enter"){const F=u[C]??(typeof T=="string"?T:T??""),U=Ac(C,F);if(U.isValid){const K=qt(F);t&&(n==null||n(t,C,K)),d(X=>({...X,[C]:""}))}else d(K=>({...K,[C]:U.error||"Invalid input"}));l(K=>({...K,[C]:!1})),c(K=>({...K,[C]:void 0}))}},autoFocus:s[C]===!0,"aria-label":`Enter ${C} for ${r} connector`,"aria-required":P&&b,"aria-invalid":P&&b}):E.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] text-slate-800 cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(I=>({...I,[C]:!0})),onKeyDown:I=>I.key==="Enter"&&l(F=>({...F,[C]:!0})),title:typeof O=="string"?O:"",tabIndex:0,role:"button","aria-label":`Edit ${C} field. Current value: ${R||"empty"}`,children:R}),f[C]&&E.jsx("div",{className:"mt-1 text-[10px] text-red-600",role:"alert",children:f[C]})]},C)}),(z=o.credentials.optional)!=null&&z.length?E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional"}),(B=o.credentials.optional)==null?void 0:B.map(C=>{const T=i==null?void 0:i[C],O=typeof T=="string"?T:T??"",R=$p(C,O);return E.jsxs("div",{className:"mt-1 text-[12px] text-slate-700",children:[E.jsx("div",{className:"font-medium",children:C}),s[C]??!0?E.jsx("input",{className:"mt-1 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},type:C.toLowerCase().includes("password")?"password":"text",value:u[C]??(typeof T=="string"?T:T??""),onChange:P=>c(b=>({...b,[C]:P.target.value})),onBlur:()=>{const P=u[C]??(typeof T=="string"?T:T??"");(P.trim()!==""||o.credentials.mandatory.includes(C))&&t&&(n==null||n(t,C,P)),l(b=>({...b,[C]:!1})),c(b=>({...b,[C]:void 0}))},onKeyDown:P=>{if(P.key==="Enter"){const b=u[C]??(typeof T=="string"?T:T??"");(b.trim()!==""||o.credentials.mandatory.includes(C))&&t&&(n==null||n(t,C,b)),l(I=>({...I,[C]:!1})),c(I=>({...I,[C]:void 0}))}},autoFocus:!0}):E.jsx("div",{className:"mt-1 min-h-[44px] text-[12px] cursor-text truncate flex items-center px-2 py-1 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(P=>({...P,[C]:!0})),onKeyDown:P=>P.key==="Enter"&&l(b=>({...b,[C]:!0})),title:O||"",tabIndex:0,role:"button","aria-label":`Edit ${C} field. Current value: ${R||"empty"}`,children:O?E.jsx("span",{className:"text-slate-800",children:R}):E.jsx("span",{className:"text-slate-400 italic",children:o.credentials.mandatory.includes(C)?"Required":"Optional - click to add"})})]},C)})]}):null]})})]})]}),E.jsx("style",{children:`
        .ripple-ink{position:relative;display:inline-grid;place-items:center;width:28px;height:28px;border-radius:9999px}
        .ripple-ink .ink-symbol{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);line-height:1}
        /* soft filled circular background */
        .ripple-ink::before{content:"";position:absolute;inset:0;border-radius:inherit;background:currentColor;opacity:.08;transform:scale(.98);transition:opacity 220ms ease,transform 220ms ease}
        /* concentric ring at the edge */
        .ripple-ink::after{content:"";position:absolute;inset:-2px;border-radius:inherit;border:2px solid currentColor;opacity:0;transform:scale(.9)}
        .ripple-ink:hover::before{opacity:.14;transform:scale(1.06)}
        .ripple-ink:hover::after{opacity:.35;animation:ringPulse 1200ms ease-in-out infinite}
        .ripple-ink:active::after{opacity:.45}
        @keyframes ringPulse{0%{transform:scale(.92)}50%{transform:scale(1.08)}100%{transform:scale(.92)}}
        `}),E.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:y})]})}const Vb=_.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(er,{type:"source",position:le.Right,style:{width:12,height:12,background:"#1e40af",border:"2px solid #1e3a8a",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),E.jsx(pv,{instance:{role:"source",spec:r.spec,values:r.values,status:r.status},nodeId:t,onEditValue:(o,i,a)=>{var s;return(s=r.onEdit)==null?void 0:s.call(r,o,i,a)}})]})});function Hb(e){switch(e){case"pending":return"#f59e0b";case"partial":return"#3b82f6";case"complete":return"#10b981";case"error":return"#ef4444"}}function Ub({name:e,status:t,nodeId:n,values:r,onAdd:o}){const[i,a]=_.useState(""),[s,l]=_.useState(!0),u=Object.keys(r||{});return E.jsxs("div",{className:"relative rounded-xl bg-white shadow-sm w-56",style:{border:`1px dashed ${Hb(t)}`},children:[E.jsx("div",{className:"px-3 py-1 text-xs font-semibold rounded-t-xl bg-node-transform text-white",children:"TRANSFORM"}),E.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 rounded-bl-xl rounded-tl-xl",style:{backgroundColor:"#8b5cf6"}}),E.jsxs("div",{className:"p-3",children:[E.jsxs("div",{className:"text-sm font-semibold text-slate-800 flex items-center gap-2",children:[E.jsx("span",{children:e}),E.jsx(hv,{status:t})]}),E.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:"Category: Transform"}),E.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"Configure transform parameters"}),e!=="Map & Validate"?E.jsxs(E.Fragment,{children:[E.jsxs("button",{type:"button",className:"mt-2 w-full min-h-[44px] flex items-center justify-between text-left text-xs font-medium text-slate-700 px-2 py-2 rounded hover:bg-slate-50 transition-colors",onClick:()=>l(c=>!c),"aria-expanded":s,"aria-controls":"transform-extras","aria-label":`${s?"Collapse":"Expand"} transform extras section`,children:[E.jsx("span",{children:"Extras"}),E.jsx("span",{className:"text-slate-400 min-w-[24px] min-h-[24px] flex items-center justify-center","aria-hidden":"true",children:s?"":"+"})]}),s?E.jsxs("div",{id:"transform-extras",className:"mt-1",children:[u.length?E.jsx("div",{className:"text-[12px] text-slate-700",role:"list","aria-label":"Current extra fields",children:u.map(c=>E.jsx("div",{className:"mt-1",role:"listitem",children:c},c))}):null,E.jsx("input",{className:"mt-2 w-full rounded border px-2 py-1 text-[12px] focus:outline-none",style:{borderColor:"#cbd5e1"},placeholder:"Add field name and press Enter",value:i,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&i.trim()&&(n&&(o==null||o(n,i.trim())),a(""))},"aria-label":"Add new transform field","aria-describedby":"field-help"}),E.jsx("div",{id:"field-help",className:"sr-only",children:"Enter a field name and press Enter to add it to the transform configuration"})]}):null]}):null]})]})}const Wb=_.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(er,{type:"target",position:le.Left,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}}),E.jsx(Ub,{name:r.name,status:r.status,nodeId:t,values:r.values,onAdd:(o,i)=>{var a;return(a=r.onAdd)==null?void 0:a.call(r,o,i)}}),E.jsx(er,{type:"source",position:le.Right,style:{width:12,height:12,background:"#6d28d9",border:"2px solid #5b21b6",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),Yb=_.memo(function({id:t,data:n}){const r=n;return E.jsxs("div",{className:"select-none relative",children:[E.jsx(pv,{instance:{role:"destination",spec:r.spec,values:r.values,status:r.status},nodeId:t,onEditValue:(o,i,a)=>{var s;return(s=r.onEdit)==null?void 0:s.call(r,o,i,a)}}),E.jsx(er,{type:"target",position:le.Left,style:{width:12,height:12,background:"#065f46",border:"2px solid #064e3b",borderRadius:9999,boxShadow:"0 0 0 2px #ffffff"}})]})}),Kb=_.memo(function({id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s,data:l,markerEnd:u}){const[c]=Gd({sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:a,targetPosition:s}),f=l,d=(f==null?void 0:f.status)||"partial",h=(f==null?void 0:f.kind)==="tx-dst"?on.COLORS.edge.transformToDestination:rf(d);return E.jsx("g",{children:E.jsx("path",{id:t,className:"react-flow__edge-path",d:c,stroke:h,strokeWidth:4,fill:"none",markerEnd:u})})}),Xb=_.createContext(null),_u={didCatch:!1,error:null};let Qb=class extends _.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=_u}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:i,reason:"imperative-api"}),this.setState(_u)}}componentDidCatch(t,n){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&n.error!==null&&Gb(t.resetKeys,o)){var i,a;(i=(a=this.props).onReset)===null||i===void 0||i.call(a,{next:o,prev:t.resetKeys,reason:"keys"}),this.setState(_u)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:o}=this.props,{didCatch:i,error:a}=this.state;let s=t;if(i){const l={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")s=n(l);else if(r)s=_.createElement(r,l);else if(o!==void 0)s=o;else throw a}return _.createElement(Xb.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}};function Gb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}function Zb({error:e,resetErrorBoundary:t}){return E.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6 bg-red-50 border border-red-200 rounded-xl",children:[E.jsx(zE,{className:"w-12 h-12 text-red-500 mb-4"}),E.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),E.jsx("p",{className:"text-sm text-red-600 text-center mb-4",children:"The flow canvas encountered an error. Please try refreshing the page."}),E.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"}),!1]})}function Jb({children:e,fallback:t}){return E.jsx(Qb,{FallbackComponent:t?()=>E.jsx(E.Fragment,{children:t}):Zb,onError:(n,r)=>{console.error("Flow Canvas Error:",n,r)},children:e})}function qb(e,t,n){if(n)return e;const{NODE_DIMENSIONS:r,CANVAS:o}=on,{width:i,height:a}=r,s=o.defaultHeight-a-80,l=40,u=Math.max(40,t*.05),c=t-l-u,f=l,d=60,h=Math.min(100,c*.08),v=Math.max(d,h),y=3*i+2*v,x=l+y+u;let m,g;if(x>t){const N=(t-l-u-3*i)/2,L=Math.max(30,N);m=f+i+L,g=m+i+L}else m=f+i+v,g=m+i+v;const p=Math.min(20,s),w=p,k=p,M=p;return e.map(N=>N.type==="source"?{...N,position:{x:f,y:w}}:N.type==="transform"?{...N,position:{x:m,y:k}}:N.type==="destination"?{...N,position:{x:g,y:M}}:N)}const eP={source:Vb,transform:Wb,destination:Yb},tP={statusBezier:Kb};function nP({initial:e,links:t,onNodeValuesChange:n}){const[r,o,i]=lb([]),[a,s]=_.useState(!1),l=_.useRef(null),u=_.useCallback(y=>{if(!n)return;const x={};y.forEach(m=>{if(m.type==="source"||m.type==="destination"){const g=m.data;x[m.type]=g.values||{}}else if(m.type==="transform"){const g=m.data;x.transform=g.values||{}}}),n(x)},[n]);_.useEffect(()=>{const y=e.map(x=>{var p;let m=40,g=50;return x.role==="source"?(m=40,g=50):x.role==="transform"?(m=400,g=50):x.role==="destination"&&(m=760,g=50),{id:x.id,type:x.role,position:{x:m,y:g},zIndex:x.role==="transform"?10:x.role==="source"?5:1,data:x.role==="transform"?{name:x.spec.name,values:x.values,status:Ka("transform",x.spec.name,[],x.values),onAdd:(w,k)=>{o(M=>{const S=M.map(N=>{if(N.id!==w||N.type!=="transform")return N;const L=N.data,j={...L.values||{},[k]:"1"};return{...N,data:{...L,values:j,status:Ka("transform",L.name,[],j)}}});return setTimeout(()=>u(S),0),S})}}:{spec:x.spec,values:x.values,status:Ka(x.role,void 0,((p=x.spec.credentials)==null?void 0:p.mandatory)||[],x.values),onEdit:(w,k,M)=>{o(S=>{const N=S.map(L=>{var C;if(L.id!==w||L.type!=="source"&&L.type!=="destination")return L;const j=L.data,H={...j.values||{},[k]:M},z=((C=j.spec.credentials)==null?void 0:C.mandatory)||[],B=Ka(L.type,void 0,z,H);return{...L,data:{...j,values:H,status:B}}});return setTimeout(()=>u(N),0),N})}}}});o(y)},[e,o,u]);const c=_.useCallback(()=>{const y=l.current;if(!y){console.log(" Layout called but host ref is null");return}const x=y.getBoundingClientRect().width;o(m=>qb(m,x,a))},[a,o]),f=_.useMemo(()=>{const y=new Map;return e.forEach(x=>y.set(x.id,x.role)),y},[e]),d=_.useMemo(()=>t.map((y,x)=>{const m=f.get(y.fromId)==="transform"&&f.get(y.toId)==="destination"?"tx-dst":void 0;return{id:`e-${x}`,source:y.fromId,target:y.toId,type:"statusBezier",data:{status:y.status,kind:m}}}),[t,f]);_.useEffect(()=>{setTimeout(()=>c(),300);const y=()=>setTimeout(()=>c(),100);return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);const h=_.useCallback(()=>s(!0),[]),v=_.useMemo(()=>({hideAttribution:!0}),[]);return E.jsx("div",{ref:l,className:"relative rounded-xl bg-slate-50 border h-full w-full","data-testid":"flow-canvas",children:E.jsxs(sb,{nodes:r,edges:d,onNodesChange:i,nodeTypes:eP,edgeTypes:tP,onNodeDragStart:h,proOptions:v,nodesConnectable:!0,nodesDraggable:!0,panOnScroll:!0,zoomOnScroll:!0,minZoom:on.CANVAS.minZoom,maxZoom:on.CANVAS.maxZoom,defaultViewport:{x:0,y:0,zoom:1},translateExtent:[[-100,-200],[1400,800]],nodeExtent:[[0,0],[1200,1e3]],onViewportChange:()=>{},style:{width:"100%",height:"100%"},children:[E.jsx(hb,{variant:wn.Dots,gap:16,size:1}),E.jsx(wb,{position:"bottom-left",showInteractive:!1})]})})}function rP({nodes:e,links:t,onNodeValuesChange:n}){const r={initial:e||[],links:t||[],onNodeValuesChange:n};return E.jsx(Jb,{children:E.jsx(uv,{children:E.jsx(nP,{...r})})})}function mv({onSourceChange:e,onDestinationChange:t,onTransformChange:n,onNodeValuesChange:r,showControls:o=!0,showJsonPanel:i=!0,title:a=" Live Configuration Preview",className:s=""}){const[l,u]=_.useState([]),[c,f]=_.useState(""),[d,h]=_.useState(""),v=_.useRef(null),y=_.useRef(null),x=_.useRef(null),m=_.useRef(null),g=_.useRef(null),{selectedSource:p,selectedDestination:w,selectedTransform:k,nodeValues:M,setSelectedSource:S,setSelectedDestination:N,setSelectedTransform:L,updateNodeValues:j,updateTransformValuesByType:H,getTransformValuesByType:z,loadFlowConfiguration:B,resetToDefaultConfiguration:C,getFlowConfigurationJSON:T}=yl(),O=_.useCallback($=>{f($),setTimeout(()=>f(""),1e3)},[]),R=_.useCallback($=>{h($),setTimeout(()=>h(""),1e3)},[]),P=$=>{S($),e==null||e($),O(`Source connector changed to ${$}`)},b=$=>{N($),t==null||t($),O(`Destination connector changed to ${$}`)},I=$=>{L($),n==null||n($),O(`Transform type changed to ${$}`)},F=$=>{($.source||$.destination)&&j({source:$.source,destination:$.destination}),$.transform&&(H(k,$.transform),j({transform:$.transform})),r==null||r($)},U=["Dummy Source",...Object.keys(jn).filter($=>{var Z;return(Z=jn[$].roles)==null?void 0:Z.source})],K=["Dummy Destination",...Object.keys(jn).filter($=>{var Z;return(Z=jn[$].roles)==null?void 0:Z.destination})],X=["Dummy Transform","Map & Validate","Cleanse","Enrich & Map"],q=_.useCallback(()=>{const $=()=>({name:"Dummy Source",category:"Data Source",roles:{source:!0,destination:!1},credentials:{mandatory:["username","password"],optional:[]}}),Z=()=>({name:"Dummy Destination",category:"Data Destination",roles:{source:!1,destination:!0},credentials:{mandatory:["apiKey","serverPrefix"],optional:[]}}),ce=()=>({name:"Dummy Transform",category:"Transform",credentials:{mandatory:[],optional:[]}}),fe=jn[p]||$(),J=jn[w]||Z(),ie=k==="Dummy Transform"?ce():{name:k,category:"Transform",credentials:{mandatory:[],optional:[]}},ue=`source-${p.replace(/\s+/g,"-")}`,Ee=`transform-${k.replace(/\s+/g,"-")}`,ye=`destination-${w.replace(/\s+/g,"-")}`,nt=M.source||{},Yt=M.destination||{},ln=z(k);return{nodes:[{id:ue,role:"source",spec:fe,values:nt},{id:Ee,role:"transform",spec:ie,values:ln},{id:ye,role:"destination",spec:J,values:Yt}],edges:[{fromId:ue,toId:Ee,status:"pending"},{fromId:Ee,toId:ye,status:"pending"}]}},[p,w,k,M,z]),re=_.useMemo(()=>q(),[q]),G=_.useCallback($=>{var Z,ce,fe,J,ie;if(!($.target instanceof HTMLInputElement||$.target instanceof HTMLTextAreaElement||$.target instanceof HTMLSelectElement))switch($.key){case"1":$.preventDefault(),(Z=y.current)==null||Z.focus();break;case"2":$.preventDefault(),(ce=x.current)==null||ce.focus();break;case"3":$.preventDefault(),(fe=m.current)==null||fe.focus();break;case"j":case"J":$.preventDefault(),(J=g.current)==null||J.focus();break;case"Escape":$.preventDefault(),(ie=v.current)==null||ie.focus();break;case"?":$.preventDefault(),alert(`Keyboard Shortcuts:
1 - Focus Source
2 - Focus Transform
3 - Focus Destination
J - Focus JSON
Esc - Focus Canvas
Tab - Navigate elements
? - Show this help`);break}},[]);return _.useEffect(()=>(document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)),[G]),E.jsxs("div",{ref:v,className:`flex flex-col h-full ${s}`,tabIndex:0,role:"application","aria-label":"Data flow configuration canvas","aria-describedby":"keyboard-help",children:[o&&E.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:" Configure Your Data Flow"}),E.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"source-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Source Connector"}),E.jsx("select",{ref:y,id:"source-selector",value:p,onChange:$=>P($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400","aria-label":"Select source connector for data flow","aria-describedby":"source-help",children:U.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"source-help",className:"sr-only",children:"Choose the data source connector that will provide input data for your flow"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"transform-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Transform Type"}),E.jsx("select",{ref:x,id:"transform-selector",value:k,onChange:$=>I($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400","aria-label":"Select transform type for data processing","aria-describedby":"transform-help",children:X.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"transform-help",className:"sr-only",children:"Choose the data transformation method to process your data"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"destination-selector",className:"block text-xs font-medium text-slate-600 mb-2",children:"Destination Connector"}),E.jsx("select",{ref:m,id:"destination-selector",value:w,onChange:$=>b($.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-200 focus:border-green-400","aria-label":"Select destination connector for data output","aria-describedby":"destination-help",children:K.map($=>E.jsx("option",{value:$,children:$},$))}),E.jsx("div",{id:"destination-help",className:"sr-only",children:"Choose the destination connector where processed data will be sent"})]})]})]}),i&&E.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:" Dynamic JSON Configuration"}),E.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"json-config",className:"block text-xs font-medium text-slate-600 mb-2",children:"Flow Configuration (JSON)"}),E.jsx("textarea",{ref:g,id:"json-config",className:"w-full h-32 rounded-lg border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-200 focus:border-blue-400",value:T(),"aria-label":"JSON configuration for data flow","aria-describedby":"json-help",placeholder:`{
              "nodes": {
                "source": {
                  "name": "Shopify",
                  "credentials": {
                    "apiKey": "shop_key_abc",
                    "storeDomain": "mystore.myshopify.com"
                  }
                },
                "destination": {
                  "name": "Snowflake",
                  "credentials": {
                    "host/account": "company.snowflakecomputing.com",
                    "user": "datauser",
                    "password or key": "snow123",
                    "database/schema": "PROD_DB"
                  }
                },
                "transform": {
                  "name": "Cleanse",
                  "credentials": {
                    "cleansingRule": "remove_nulls"
                  }
                }
              }
            }`,onChange:$=>{try{const Z=JSON.parse($.target.value);if(Z.nodes&&Z.nodes.source&&Z.nodes.destination&&Z.nodes.transform){const ce=$b(Z);ce.isValid&&ce.sanitized?(B(ce.sanitized),u([]),R("Configuration loaded successfully")):(u(ce.errors),R(`Configuration validation failed: ${ce.errors.length} errors found`))}else{const ce={};for(const[fe,J]of Object.entries(Z))if(typeof J=="object"&&J!==null){ce[fe]={};for(const[ie,ue]of Object.entries(J))typeof ue=="string"&&(ce[fe][qt(ie)]=qt(ue))}F(ce),u([]),R("Legacy configuration format loaded")}}catch{u(["Invalid JSON format"]),R("Invalid JSON format detected")}}}),E.jsx("div",{id:"json-help",className:"sr-only",children:"Enter JSON configuration to define your data flow with source, transform, and destination nodes"}),l.length>0&&E.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",role:"alert","aria-live":"polite",children:[E.jsx("div",{className:"text-xs font-medium text-red-800 mb-1",children:"Validation Errors:"}),E.jsx("ul",{className:"text-xs text-red-700 space-y-1",children:l.map(($,Z)=>E.jsxs("li",{children:[" ",$]},Z))})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-2",children:"Quick Actions"}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("button",{onClick:()=>{B({nodes:{source:{name:"Shopify",credentials:{"apiKey/token":"shop_key_abc",storeDomain:"mystore.myshopify.com"}},destination:{name:"Snowflake",credentials:{"host/account":"company.snowflakecomputing.com",user:"datauser","password or key":"snow123","database/schema":"PROD_DB",warehouse:"COMPUTE_WH"}},transform:{name:"Cleanse",credentials:{cleansingRule:"remove_nulls",dataQuality:"high"}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors","aria-label":"Load sample Shopify to Snowflake configuration",children:" Load Your JSON (Shopify  Snowflake)"}),E.jsx("button",{onClick:()=>{B({nodes:{source:{name:"Salesforce",credentials:{username:"demo@salesforce.com",password:"demo123",securityToken:"token123"}},destination:{name:"Mailchimp",credentials:{apiKey:"mailchimp_key_456",serverPrefix:"us1"}},transform:{name:"Map & Validate",credentials:{}}}})},className:"w-full min-h-[44px] px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors","aria-label":"Load sample Salesforce to Mailchimp configuration",children:" Load Sample (Salesforce  Mailchimp)"}),E.jsx("button",{onClick:C,className:"w-full min-h-[44px] px-3 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600 transition-colors","aria-label":"Reset configuration to default dummy nodes",children:" Reset to Dummy Nodes"}),E.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:[E.jsx("strong",{children:"Current Flow Configuration:"}),E.jsx("pre",{className:"mt-1 p-2 bg-white rounded text-xs overflow-auto max-h-20",children:T()})]})]})]})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-600 px-1 mb-3",children:a}),E.jsx("div",{className:"flex-1 min-h-[400px]",children:E.jsx(rP,{nodes:re.nodes,links:re.edges,onNodeValuesChange:F})})]}),E.jsx("div",{id:"keyboard-help",className:"sr-only",children:"Keyboard shortcuts: Press 1 for Source, 2 for Transform, 3 for Destination, J for JSON editor, Escape to focus canvas, Tab to navigate, ? for help"}),E.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",children:c}),E.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",children:d})]})}function oP(){const{messages:e,input:t,setInput:n,sendWithCanvasUpdate:r,aiThinking:o,highlightId:i}=$i(),a=_.useRef(null),s=_.useRef(null);return _.useEffect(()=>{PE()},[]),_.useEffect(()=>{var l;(l=a.current)==null||l.scrollIntoView({behavior:"smooth",block:"end"})},[e.length]),_.useEffect(()=>{var l;(l=a.current)==null||l.scrollIntoView({behavior:"auto",block:"end"})},[]),_.useEffect(()=>{var u;const l=s.current;l&&(l.style.height="auto",l.style.height=l.scrollHeight+"px",(u=a.current)==null||u.scrollIntoView({behavior:"auto",block:"end"}))},[t]),E.jsxs("div",{className:"h-screen w-screen grid grid-rows-[auto_1fr_auto] overflow-hidden",children:[E.jsx("header",{className:"border-b bg-violet-600 text-white",children:E.jsxs("div",{className:"w-full px-4 py-3 flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 grid place-items-center",children:E.jsx(by,{size:18})}),E.jsx("div",{className:"font-semibold",children:"NexBot"}),E.jsx("div",{className:"ml-2 text-white/70 text-sm",children:"How can I help you today?"})]})}),E.jsxs("main",{className:"w-full h-full overflow-hidden grid grid-cols-[40%_60%]",children:[E.jsxs("div",{className:"flex flex-col h-full border-r border-gray-200 bg-white","data-testid":"chat-interface",children:[E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",role:"log","aria-live":"polite","aria-relevant":"additions","aria-busy":o,children:[e.map(l=>E.jsx($E,{type:l.type,content:l.content,status:l.status,createdAt:l.createdAt,highlight:l.id===i},l.id)),E.jsx("div",{ref:a})]}),E.jsx("form",{onSubmit:l=>{l.preventDefault(),r()},className:"p-4 border-t border-gray-200 bg-gray-50",children:E.jsxs("div",{className:"flex items-end gap-3",children:[E.jsx("textarea",{"data-testid":"chat-input","aria-multiline":"true",rows:1,className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-violet-200 focus:border-violet-300 resize-none overflow-hidden min-h-[44px]",placeholder:"Describe your data flow",value:t,ref:s,onChange:l=>{n(l.target.value);const u=l.currentTarget;u.style.height="auto",u.style.height=u.scrollHeight+"px"},onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),r())}}),E.jsxs("button",{type:"submit","data-testid":"send-button",className:"rounded-2xl bg-violet-600 text-white px-4 py-3 font-semibold hover:bg-violet-500 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Send message",children:[E.jsx(jE,{size:20}),E.jsx("span",{className:"font-semibold",children:"Send"})]})]})})]}),E.jsx("div",{className:"h-full bg-gray-50 p-4","data-testid":"canvas-container",children:E.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:E.jsx(mv,{showControls:!1,showJsonPanel:!1})})})]}),E.jsx(Ny,{className:"border-t"})]})}function iP(){const{loadConfiguration:e}=yl(),t=[{id:"default",name:" Default Dummy Nodes",description:"Empty placeholder nodes ready for configuration",data:{selectedSource:"Dummy Source",selectedDestination:"Dummy Destination",selectedTransform:"Dummy Transform",nodeValues:{source:{},destination:{},transform:{}}}},{id:"salesforce-mailchimp",name:" Salesforce  Mailchimp",description:"Complete CRM to Email Marketing flow",data:{selectedSource:"Salesforce",selectedDestination:"Mailchimp",selectedTransform:"Map & Validate",nodeValues:{source:{username:"sales@company.com",password:"pass123",securityToken:"token456"},destination:{apiKey:"mc_key_789",serverPrefix:"us1",listId:"12345"},transform:{}}}},{id:"shopify-snowflake",name:" Shopify  Snowflake",description:"E-commerce to Data Warehouse",data:{selectedSource:"Shopify",selectedDestination:"Snowflake",selectedTransform:"Cleanse",nodeValues:{source:{apiKey:"shop_key_abc",domain:"mystore.myshopify.com"},destination:{account:"company.snowflakecomputing.com",username:"datauser",password:"snow123",warehouse:"COMPUTE_WH"},transform:{cleansingRule:"remove_nulls",dataQuality:"high"}}}},{id:"postgres-elasticsearch",name:" PostgreSQL  Elasticsearch",description:"Database to Search Engine",data:{selectedSource:"PostgreSQL",selectedDestination:"Elasticsearch",selectedTransform:"Enrich & Map",nodeValues:{source:{host:"localhost",port:"5432",database:"products",username:"dbuser",password:"dbpass"},destination:{host:"elastic.company.com",port:"9200",index:"products",username:"elastic",password:"elastic123"},transform:{enrichment:"add_metadata",mapping:"product_schema"}}}},{id:"partial-config",name:" Partial Configuration",description:"Some fields missing - shows pending/partial status",data:{selectedSource:"Salesforce",selectedDestination:"Mailchimp",selectedTransform:"Map & Validate",nodeValues:{source:{username:"incomplete@example.com"},destination:{apiKey:"partial_key"},transform:{}}}},{id:"empty-config",name:" Empty Configuration",description:"No values - all nodes pending",data:{source:"Salesforce",destination:"Snowflake",transform:"Cleanse",values:{source:{},destination:{},transform:{}}}}],n=r=>{e(r.data)};return E.jsxs("div",{className:"min-h-screen p-6",children:[E.jsx("div",{className:"text-xl font-semibold mb-6",children:"Canvas Test  Dynamic Data Testing"}),E.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-xl border",children:[E.jsx("div",{className:"text-sm font-semibold text-slate-700 mb-4",children:" Test Scenarios - Click to Apply"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(r=>E.jsxs("button",{onClick:()=>n(r),className:"text-left p-3 bg-white rounded-lg border hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[E.jsx("div",{className:"font-medium text-sm text-slate-800",children:r.name}),E.jsx("div",{className:"text-xs text-slate-500 mt-1",children:r.description})]},r.id))})]}),E.jsx("div",{className:"mb-12",children:E.jsx(mv,{showControls:!0,showJsonPanel:!0,title:" Dynamic Canvas - Updates Based on Test Data"})})]})}const aP=gS([{path:"/",element:E.jsx(DE,{})},{path:"/chat",element:E.jsx(oP,{})},{path:"/canvasTest",element:E.jsx(iP,{})}]);ey(document.getElementById("root")).render(E.jsx(Js.StrictMode,{children:E.jsx(_S,{router:aP})}));
